!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=88)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(43)("wks"),i=n(17),o=n(0).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(2)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(6),i=n(59),o=n(26),a=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(0),i=n(15),o=n(8),a=n(10),s=n(11),u=function(t,e,n){var c,l,f,h,d=t&u.F,p=t&u.G,v=t&u.S,_=t&u.P,m=t&u.B,y=p?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,g=p?i:i[e]||(i[e]={}),E=g.prototype||(g.prototype={});for(c in p&&(n=e),n)f=((l=!d&&y&&void 0!==y[c])?y:n)[c],h=m&&l?s(f,r):_&&"function"==typeof f?s(Function.call,f):f,y&&a(y,c,f,t&u.U),g[c]!=f&&o(g,c,h),_&&E[c]!=f&&(E[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(5),i=n(27);t.exports=n(4)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(0),i=n(8),o=n(9),a=n(17)("src"),s=Function.toString,u=(""+s).split("toString");n(15).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(28);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(29),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(36);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(57)("asyncIterator")},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=!1},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(4),a=n(7),s=n(10),u=n(35).KEY,c=n(2),l=n(43),f=n(20),h=n(17),d=n(1),p=n(58),v=n(57),_=n(94),m=n(62),y=n(6),g=n(3),E=n(22),b=n(26),T=n(27),w=n(30),M=n(96),x=n(39),A=n(5),R=n(21),O=x.f,S=A.f,P=M.f,L=r.Symbol,I=r.JSON,C=I&&I.stringify,k=d("_hidden"),N=d("toPrimitive"),F={}.propertyIsEnumerable,D=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),j=Object.prototype,X="function"==typeof L,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,H=o&&c(function(){return 7!=w(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(j,e);r&&delete j[e],S(t,e,n),r&&t!==j&&S(j,e,r)}:S,Y=function(t){var e=U[t]=w(L.prototype);return e._k=t,e},q=X&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},W=function(t,e,n){return t===j&&W(B,e,n),y(t),e=b(e,!0),y(n),i(U,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=w(n,{enumerable:T(0,!1)})):(i(t,k)||S(t,k,T(1,{})),t[k][e]=!0),H(t,e,n)):S(t,e,n)},z=function(t,e){y(t);for(var n,r=_(e=E(e)),i=0,o=r.length;o>i;)W(t,n=r[i++],e[n]);return t},$=function(t){var e=F.call(this,t=b(t,!0));return!(this===j&&i(U,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,k)&&this[k][t])||e)},Z=function(t,e){if(t=E(t),e=b(e,!0),t!==j||!i(U,e)||i(B,e)){var n=O(t,e);return!n||!i(U,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=P(E(t)),r=[],o=0;n.length>o;)i(U,e=n[o++])||e==k||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===j,r=P(n?B:E(t)),o=[],a=0;r.length>a;)!i(U,e=r[a++])||n&&!i(j,e)||o.push(U[e]);return o};X||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===j&&e.call(B,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),H(this,t,T(1,n))};return o&&G&&H(j,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",function(){return this._k}),x.f=Z,A.f=W,n(23).f=M.f=K,n(38).f=$,n(48).f=Q,o&&!n(16)&&s(j,"propertyIsEnumerable",$,!0),p.f=function(t){return Y(d(t))}),a(a.G+a.W+a.F*!X,{Symbol:L});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)d(J[tt++]);for(var et=R(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!X,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=L(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!X,"Object",{create:function(t,e){return void 0===e?w(t):z(w(t),e)},defineProperty:W,defineProperties:z,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),I&&a(a.S+a.F*(!X||c(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!q(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,C.apply(I,r)}}),L.prototype[N]||n(8)(L.prototype,N,L.prototype.valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(5).f,i=n(9),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(60),i=n(47);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(45),i=n(36);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(60),i=n(47).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){t.exports={}},function(t,e,n){var r=n(7);r(r.S,"Object",{setPrototypeOf:n(69).set})},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(6),i=n(95),o=n(47),a=n(46)("IE_PROTO"),s=function(){},u=function(){var t,e=n(44)("iframe"),r=o.length;for(e.style.display="none",n(63).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";(function(t){var r,i,o;function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)})}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(25),n(99),n(100),n(49),n(101),n(105),n(75),n(14),n(18),function(n,a){"object"==p(e)&&"object"==p(t)?t.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o))}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==p(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){n.r(e);var r=n(0),i=n.n(r),o=function(){function t(e){f(this,t),this.view=document.querySelector("[data-router-view]"),this.properties=e,this.Transition=e.transition?new e.transition(this.view):null}return d(t,[{key:"setup",value:function(){this.onEnter&&this.onEnter(),this.onEnterCompleted&&this.onEnterCompleted()}},{key:"add",value:function(){this.view.setAttribute("data-router-view",this.properties.slug),this.view.innerHTML=this.properties.view.innerHTML}},{key:"remove",value:function(){this.view.innerHTML=""}},{key:"update",value:function(){document.title=this.properties.page.title}},{key:"show",value:function(){var t=this;return new Promise(function(){var e=l(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.update(),t.onEnter&&t.onEnter(),e.t0=t.Transition,!e.t0){e.next=6;break}return e.next=6,t.Transition.show();case 6:t.onEnterCompleted&&t.onEnterCompleted(),n();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}},{key:"hide",value:function(){var t=this;return new Promise(function(){var e=l(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.onLeave&&t.onLeave(),e.t0=t.Transition,!e.t0){e.next=5;break}return e.next=5,t.Transition.hide();case 5:t.remove(),t.onLeaveCompleted&&t.onLeaveCompleted(),n();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}}]),t}(),c=new window.DOMParser,h=function(){function t(e,n){f(this,t),this.renderers=e,this.transitions=n}return d(t,[{key:"getOrigin",value:function(t){var e=t.match(/(https?:\/\/[\w\-.]+)/);return e?e[1].replace(/https?:\/\//,""):null}},{key:"getPathname",value:function(t){var e=t.match(/https?:\/\/.*?(\/[\w_\-./]+)/);return e?e[1]:"/"}},{key:"getAnchor",value:function(t){var e=t.match(/(#.*)$/);return e?e[1]:null}},{key:"getParams",value:function(t){var e=t.match(/\?([\w_\-.=&]+)/);if(!e)return null;for(var n=e[1].split("&"),r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o[0],s=o[1];r[a]=s}return r}},{key:"getDOM",value:function(t){return"string"==typeof t?c.parseFromString(t,"text/html"):t}},{key:"getView",value:function(t){return t.querySelector("[data-router-view]")}},{key:"getSlug",value:function(t){return t.getAttribute("data-router-view")}},{key:"getRenderer",value:function(t){if(!this.renderers)return Promise.resolve(o);if(t in this.renderers){var e=this.renderers[t];return"function"!=typeof e||o.isPrototypeOf(e)?"function"==typeof e.then?Promise.resolve(e).then(function(t){return t.default}):Promise.resolve(e):Promise.resolve(e()).then(function(t){return t.default})}return Promise.resolve(o)}},{key:"getTransition",value:function(t){return this.transitions?t in this.transitions?this.transitions[t]:"default"in this.transitions?this.transitions.default:null:null}},{key:"getProperties",value:function(t){var e=this.getDOM(t),n=this.getView(e),r=this.getSlug(n);return{page:e,view:n,slug:r,renderer:this.getRenderer(r,this.renderers),transition:this.getTransition(r,this.transitions)}}},{key:"getLocation",value:function(t){return{href:t,anchor:this.getAnchor(t),origin:this.getOrigin(t),params:this.getParams(t),pathname:this.getPathname(t)}}}]),t}();e.default={Core:function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.renderers,i=n.transitions;return f(this,e),(t=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?u(t):e}(this,a(e).call(this))).Helpers=new h(r,i),t.location=t.Helpers.getLocation(window.location.href),t.properties=t.Helpers.getProperties(document.cloneNode(!0)),t.popping=!1,t.running=!1,t.cache=new Map,t.cache.set(t.location.href,t.properties),t.properties.renderer.then(function(e){t.From=new e(t.properties),t.From.setup()}),t._navigate=t.navigate.bind(u(u(t))),window.addEventListener("popstate",t.popState.bind(u(u(t)))),t.attach(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,i.a),d(e,[{key:"attach",value:function(){this.links=document.querySelectorAll("a:not([target]):not([data-router-disabled])");var t=!0,e=!1,n=void 0;try{for(var r,i=this.links[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.addEventListener("click",this._navigate)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"detach",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.links[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.removeEventListener("click",this._navigate)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"navigate",value:function(t){t.metaKey||t.ctrlKey||(t.preventDefault(),this.redirect(t.currentTarget.href))}},{key:"redirect",value:function(t){if(!this.running&&t!==this.location.href){var e=this.Helpers.getLocation(t);e.origin!==this.location.origin||e.anchor&&e.pathname===this.location.pathname?window.location.href=t:(this.location=e,this.beforeFetch())}}},{key:"popState",value:function(){var t=this.Helpers.getLocation(window.location.href);this.location.pathname!==t.pathname||!this.location.anchor&&!t.anchor?(this.popping=!0,this.location=t,this.beforeFetch()):this.location=t}},{key:"pushState",value:function(){this.popping||window.history.pushState(this.location,"",this.location.href)}},{key:"fetch",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(l(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.location.href,{mode:"same-origin",method:"GET",headers:{"X-Requested-With":"Highway"},credentials:"same-origin"});case 2:if(!((e=t.sent).status>=200&&e.status<300)){t.next=5;break}return t.abrupt("return",e.text());case 5:window.location.href=this.location.href;case 6:case"end":return t.stop()}},t,this)})))},{key:"beforeFetch",value:function(){var t=l(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pushState(),this.running=!0,this.emit("NAVIGATE_OUT",{page:this.From.properties.page,view:this.From.properties.view},this.location),!this.cache.has(this.location.href)){t.next=6;break}return t.next=3,this.From.hide();case 3:this.properties=this.cache.get(this.location.href),t.next=10;break;case 6:return t.next=8,Promise.all([this.fetch(),this.From.hide()]);case 8:e=t.sent,this.properties=this.Helpers.getProperties(e[0]),this.cache.set(this.location.href,this.properties);case 10:this.afterFetch();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"afterFetch",value:function(){var t=l(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.properties.renderer;case 2:return e=t.sent,this.To=new e(this.properties),this.To.add(),this.emit("NAVIGATE_IN",{page:this.To.properties.page,view:this.To.view},this.location),t.next=8,this.To.show();case 8:this.popping=!1,this.running=!1,this.detach(),this.attach(),this.emit("NAVIGATE_END",{page:this.To.properties.page,view:this.To.view},{page:this.From.properties.page,view:this.From.properties.view},this.location),this.From=this.To;case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),Helpers:h,Renderer:o,Transition:function(){function t(e){f(this,t),this.view=e}return d(t,[{key:"show",value:function(){var t=this;return new Promise(function(e){t.in&&t.in(t.view,e)})}},{key:"hide",value:function(){var t=this;return new Promise(function(e){t.out&&t.out(t.view,e)})}}]),t}()}}])})}).call(this,n(68)(t))},function(t,e,n){var r=n(10);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";if(n(4)){var r=n(16),i=n(0),o=n(2),a=n(7),s=n(85),u=n(133),c=n(11),l=n(33),f=n(27),h=n(8),d=n(32),p=n(29),v=n(12),_=n(86),m=n(37),y=n(26),g=n(9),E=n(52),b=n(3),T=n(13),w=n(72),M=n(30),x=n(67),A=n(23).f,R=n(73),O=n(17),S=n(1),P=n(134),L=n(61),I=n(76),C=n(64),k=n(24),N=n(53),F=n(40),D=n(87),U=n(137),B=n(5),j=n(39),X=B.f,V=j.f,G=i.RangeError,H=i.TypeError,Y=i.Uint8Array,q=Array.prototype,W=u.ArrayBuffer,z=u.DataView,$=P(0),Z=P(2),K=P(3),Q=P(4),J=P(5),tt=P(6),et=L(!0),nt=L(!1),rt=C.values,it=C.keys,ot=C.entries,at=q.lastIndexOf,st=q.reduce,ut=q.reduceRight,ct=q.join,lt=q.sort,ft=q.slice,ht=q.toString,dt=q.toLocaleString,pt=S("iterator"),vt=S("toStringTag"),_t=O("typed_constructor"),mt=O("def_constructor"),yt=s.CONSTR,gt=s.TYPED,Et=s.VIEW,bt=P(1,function(t,e){return At(I(t,t[mt]),e)}),Tt=o(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),wt=!!Y&&!!Y.prototype.set&&o(function(){new Y(1).set({})}),Mt=function(t,e){var n=p(t);if(n<0||n%e)throw G("Wrong offset!");return n},xt=function(t){if(b(t)&&gt in t)return t;throw H(t+" is not a typed array!")},At=function(t,e){if(!(b(t)&&_t in t))throw H("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Ot(I(t,t[mt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=At(t,r);r>n;)i[n]=e[n++];return i},St=function(t,e,n){X(t,e,{get:function(){return this._d[n]}})},Pt=function(t){var e,n,r,i,o,a,s=T(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=R(s);if(void 0!=h&&!w(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=v(s.length),i=At(this,n);n>e;e++)i[e]=f?l(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=At(this,e);e>t;)n[t]=arguments[t++];return n},It=!!Y&&o(function(){dt.call(new Y(1))}),Ct=function(){return dt.apply(It?ft.call(xt(this)):xt(this),arguments)},kt={copyWithin:function(t,e){return U.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return D.apply(xt(this),arguments)},filter:function(t){return Rt(this,Z(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(xt(this),arguments)},lastIndexOf:function(t){return at.apply(xt(this),arguments)},map:function(t){return bt(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(xt(this),arguments)},reduceRight:function(t){return ut.apply(xt(this),arguments)},reverse:function(){for(var t,e=xt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return K(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(xt(this),t)},subarray:function(t,e){var n=xt(this),r=n.length,i=m(t,r);return new(I(n,n[mt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:m(e,r))-i))}},Nt=function(t,e){return Rt(this,ft.call(xt(this),t,e))},Ft=function(t){xt(this);var e=Mt(arguments[1],1),n=this.length,r=T(t),i=v(r.length),o=0;if(i+e>n)throw G("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Dt={entries:function(){return ot.call(xt(this))},keys:function(){return it.call(xt(this))},values:function(){return rt.call(xt(this))}},Ut=function(t,e){return b(t)&&t[gt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Ut(t,e=y(e,!0))?f(2,t[e]):V(t,e)},jt=function(t,e,n){return!(Ut(t,e=y(e,!0))&&b(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?X(t,e,n):(t[e]=n.value,t)};yt||(j.f=Bt,B.f=jt),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:jt}),o(function(){ht.call({})})&&(ht=dt=function(){return ct.call(this)});var Xt=d({},kt);d(Xt,Dt),h(Xt,pt,Dt.values),d(Xt,{slice:Nt,set:Ft,constructor:function(){},toString:ht,toLocaleString:Ct}),St(Xt,"buffer","b"),St(Xt,"byteOffset","o"),St(Xt,"byteLength","l"),St(Xt,"length","e"),X(Xt,vt,{get:function(){return this[gt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,d="set"+t,p=i[c],m=p||{},y=p&&x(p),g=!p||!s.ABV,T={},w=p&&p.prototype,R=function(t,n){X(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,Tt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,Tt)}(this,n,t)},enumerable:!0})};g?(p=n(function(t,n,r,i){l(t,p,c,"_d");var o,a,s,u,f=0,d=0;if(b(n)){if(!(n instanceof W||"ArrayBuffer"==(u=E(n))||"SharedArrayBuffer"==u))return gt in n?Ot(p,n):Pt.call(p,n);o=n,d=Mt(r,e);var m=n.byteLength;if(void 0===i){if(m%e)throw G("Wrong length!");if((a=m-d)<0)throw G("Wrong length!")}else if((a=v(i)*e)+d>m)throw G("Wrong length!");s=a/e}else s=_(n),o=new W(a=s*e);for(h(t,"_d",{b:o,o:d,l:a,e:s,v:new z(o)});f<s;)R(t,f++)}),w=p.prototype=M(Xt),h(w,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&N(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){var o;return l(t,p,c),b(n)?n instanceof W||"ArrayBuffer"==(o=E(n))||"SharedArrayBuffer"==o?void 0!==i?new m(n,Mt(r,e),i):void 0!==r?new m(n,Mt(r,e)):new m(n):gt in n?Ot(p,n):Pt.call(p,n):new m(_(n))}),$(y!==Function.prototype?A(m).concat(A(y)):A(m),function(t){t in p||h(p,t,m[t])}),p.prototype=w,r||(w.constructor=p));var O=w[pt],S=!!O&&("values"==O.name||void 0==O.name),P=Dt.values;h(p,_t,!0),h(w,gt,c),h(w,Et,!0),h(w,mt,p),(u?new p(1)[vt]==c:vt in w)||X(w,vt,{get:function(){return c}}),T[c]=p,a(a.G+a.W+a.F*(p!=m),T),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){m.of.call(p,1)}),c,{from:Pt,of:Lt}),"BYTES_PER_ELEMENT"in w||h(w,"BYTES_PER_ELEMENT",e),a(a.P,c,kt),F(c),a(a.P+a.F*wt,c,{set:Ft}),a(a.P+a.F*!S,c,Dt),r||w.toString==ht||(w.toString=ht),a(a.P+a.F*o(function(){new p(1).slice()}),c,{slice:Nt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){w.toLocaleString.call([1,2])})),c,{toLocaleString:Ct}),k[c]=S?O:P,r||S||h(w,pt,P)}}else t.exports=function(){}},function(t,e,n){var r=n(17)("meta"),i=n(3),o=n(9),a=n(5).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(2)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(29),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(38),i=n(27),o=n(22),a=n(26),s=n(9),u=n(59),c=Object.getOwnPropertyDescriptor;e.f=n(4)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r=n(0),i=n(5),o=n(4),a=n(1)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(42);function i(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(t){if(r)return;r=!0,n(t)}}t.exports=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var e=null,n=null,o=[],a=this;function s(t){null!==e?r(function(){var r=e?t.onFulfilled:t.onRejected;if(null!==r){var i;try{i=r(n)}catch(e){return void t.reject(e)}t.resolve(i)}else(e?t.resolve:t.reject)(n)}):o.push(t)}function u(t){e=!1,n=t,c()}function c(){for(var t=0,e=o.length;t<e;t++)s(o[t]);o=null}this.then=function(t,e){return new a.constructor(function(n,r){s(new function(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}(t,e,n,r))})},i(t,function t(r){try{if(r===a)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"==typeof r||"function"==typeof r)){var o=r.then;if("function"==typeof o)return void i(o.bind(r),t,u)}e=!0,n=r,c()}catch(t){u(t)}},u)}},function(t,e,n){(function(e,n){var r={task:void 0,next:null},i=r,o=!1,a=void 0,s=!1;function u(){for(;r.next;){var t=(r=r.next).task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(t){if(s)throw e&&e.exit(),setTimeout(u,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}o=!1}if(void 0!==e&&e.nextTick)s=!0,a=function(){e.nextTick(u)};else if("function"==typeof n)a="undefined"!=typeof window?n.bind(window,u):function(){n(u)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=u,a=function(){c.port2.postMessage(0)}}else a=function(){setTimeout(u,0)};t.exports=function(t){i=i.next={task:t,domain:s&&e.domain,next:null},o||(o=!0,a())}}).call(this,n(81),n(119).setImmediate)},function(t,e,n){var r=n(15),i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(16)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(3),i=n(0).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(19);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(43)("keys"),i=n(17);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){for(var r=n(64),i=n(21),o=n(10),a=n(0),s=n(8),u=n(24),c=n(1),l=c("iterator"),f=c("toStringTag"),h=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),v=0;v<p.length;v++){var _,m=p[v],y=d[m],g=a[m],E=g&&g.prototype;if(E&&(E[l]||s(E,l,h),E[f]||s(E,f,m),u[m]=h,y))for(_ in r)E[_]||o(E,_,r[_],!0)}},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(11),i=n(103),o=n(72),a=n(6),s=n(12),u=n(73),c={},l={};(e=t.exports=function(t,e,n,f,h){var d,p,v,_,m=h?function(){return t}:u(t),y=r(n,f,e?2:1),g=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=s(t.length);d>g;g++)if((_=e?y(a(p=t[g])[0],p[1]):y(t[g]))===c||_===l)return _}else for(v=m.call(t);!(p=v.next()).done;)if((_=i(v,y,p.value,e))===c||_===l)return _}).BREAK=c,e.RETURN=l},function(t,e,n){var r=n(19),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(3),i=n(69).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(114));t.exports={isMoreThan:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.default[t];if(!n)throw new Error("'".concat(t,"' is not a valid breakpoint"));var i=window.innerWidth||document.documentElement.clientWidth;return!!(e&&i>=n)||i>n},isLessThan:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.default[t];if(!n)throw new Error("'".concat(t,"' is not a valid breakpoint"));var i=window.innerWidth||document.documentElement.clientWidth;return!!(e&&i<=n)||i<n}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0),i=n(15),o=n(16),a=n(58),s=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(1)},function(t,e,n){t.exports=!n(4)&&!n(2)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(9),i=n(22),o=n(61)(!1),a=n(46)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(22),i=n(12),o=n(37);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(19);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(97),i=n(65),o=n(24),a=n(22);t.exports=n(66)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(16),i=n(7),o=n(10),a=n(8),s=n(24),u=n(98),c=n(20),l=n(67),f=n(1)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,v,_,m){u(n,e,p);var y,g,E,b=function(t){if(!h&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},T=e+" Iterator",w="values"==v,M=!1,x=t.prototype,A=x[f]||x["@@iterator"]||v&&x[v],R=A||b(v),O=v?w?b("entries"):R:void 0,S="Array"==e&&x.entries||A;if(S&&(E=l(S.call(new t)))!==Object.prototype&&E.next&&(c(E,T,!0),r||"function"==typeof E[f]||a(E,f,d)),w&&A&&"values"!==A.name&&(M=!0,R=function(){return A.call(this)}),r&&!m||!h&&!M&&x[f]||a(x,f,R),s[e]=R,s[T]=d,v)if(y={values:w?R:b("values"),keys:_?R:b("keys"),entries:O},m)for(g in y)g in x||o(x,g,y[g]);else i(i.P+i.F*(h||M),e,y);return y}},function(t,e,n){var r=n(9),i=n(13),o=n(46)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(3),i=n(6),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(11)(Function.call,n(39).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){n(4)&&"g"!=/./g.flags&&n(5).f(RegExp.prototype,"flags",{configurable:!0,get:n(50)})},function(t,e,n){var r=n(7),i=n(2),o=n(36),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var r=n(24),i=n(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(52),i=n(1)("iterator"),o=n(24);t.exports=n(15).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r,i,o,a,s=n(16),u=n(0),c=n(11),l=n(52),f=n(7),h=n(3),d=n(28),p=n(33),v=n(51),_=n(76),m=n(77).set,y=n(107)(),g=n(78),E=n(108),b=n(109),T=n(110),w=u.TypeError,M=u.process,x=M&&M.versions,A=x&&x.v8||"",R=u.Promise,O="process"==l(M),S=function(){},P=i=g.f,L=!!function(){try{var t=R.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(S,S)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e&&0!==A.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&F(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(w("Promise-chain cycle")):(o=I(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&k(t)})}},k=function(t){m.call(u,function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=E(function(){O?M.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=O||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){m.call(u,function(){var e;O?M.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=I(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(U,r,1),c(D,r,1))}catch(t){D.call(r,t)}}):(n._v=t,n._s=1,C(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};L||(R=function(t){p(this,R,"Promise","_h"),d(t),r.call(this);try{t(c(U,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(32)(R.prototype,{then:function(t,e){var n=P(_(this,R));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(U,t,1),this.reject=c(D,t,1)},g.f=P=function(t){return t===R||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!L,{Promise:R}),n(20)(R,"Promise"),n(40)("Promise"),a=n(15).Promise,f(f.S+f.F*!L,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!L),"Promise",{resolve:function(t){return T(s&&this===a?R:this,t)}}),f(f.S+f.F*!(L&&n(53)(function(t){R.all(t).catch(S)})),"Promise",{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=E(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=E(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(6),i=n(28),o=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(11),s=n(106),u=n(63),c=n(44),l=n(0),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,_=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},g=function(t){y.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++_]=function(){s("function"==typeof t?t:Function(t),e)},r(_),_},d=function(t){delete m[t]},"process"==n(19)(f)?r=function(t){f.nextTick(a(y,t,1))}:v&&v.now?r=function(t){v.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){"use strict";var r=n(28);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{stylers:[{hue:"#2d00ff"},{saturation:"100"},{invert_lightness:!0},{lightness:"60"},{gamma:"1.50"}]},{elementType:"geometry.fill",stylers:[{invert_lightness:!0}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#6990d0"},{saturation:100},{lightness:50},{visibility:"simplified"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#0000af"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#00008f"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#0002d5"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#00008a"},{saturation:"34"},{lightness:"-30"},{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#00009a"},{saturation:"25"},{lightness:"-3"},{visibility:"off"}]},{featureType:"road",elementType:"labels.text",stylers:[{hue:"#00ff6b"},{saturation:"35"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#00009a"},{lightness:"17"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{lightness:"48"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{lightness:"100"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{lightness:"51"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#0200d5"},{saturation:"100"},{lightness:"33"},{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{lightness:"84"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#00009a"},{lightness:"17"},{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#00009a"},{lightness:"17"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#0000ce"},{lightness:25},{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{gamma:"10.00"},{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#00009c"},{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000016"},{lightness:19}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#000dff"},{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000021"},{lightness:"11"}]}]},function(t,e,n){var r,i=n(117),o=n(118),a=null,s=[];function u(t,e,n,r){r?(e(r),n&&n(r)):(t(a),n&&n(void 0,a))}window.$$mapsCB=function(){a=google.maps;for(var t=0,e=s.length;t<e;t++)u.apply(void 0,s[t])},t.exports=function(t,e,n){return r=t||r,"function"==typeof e&&(n=e,e=[]),function(){return new o(function(t,o){if(r){if(a)u(t,o,n);else if(s.push([t,o,n]),1==s.length){var c="";"string"==typeof r?c="&key="+r:"object"==typeof r&&(c="&"+Object.keys(r).map(function(t){return t+"="+encodeURIComponent(r[t])}).join("&"));var l="https://maps.googleapis.com/maps/api/js?v=3&callback=$$mapsCB"+c;Array.isArray(e)&&e.length>0&&(l+="&libraries="+e.join(",")),i(l)}}else u(t,o,n,new Error("No API key passed to require('google-maps-api')"))})}}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(5).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(4)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(19),a=n(54),s=n(26),u=n(2),c=n(23).f,l=n(39).f,f=n(5).f,h=n(127).trim,d=r.Number,p=d,v=d.prototype,_="Number"==o(n(30)(v)),m="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=m?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(_?u(function(){v.valueOf.call(n)}):"Number"!=o(n))?a(new p(y(e)),n,d):y(e)};for(var g,E=n(4)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;E.length>b;b++)i(p,g=E[b])&&!i(d,g)&&f(d,g,l(p,g));d.prototype=v,v.constructor=d,n(10)(r,"Number",d)}},function(t,e,n){var r=n(7),i=n(15),o=n(2);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){for(var r,i=n(0),o=n(8),a=n(17),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){var r=n(29),i=n(12);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";var r=n(13),i=n(37),o=n(12);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";n(89);var r=s(n(90)),i=s(n(91)),o=s(n(92)),a=s(n(93));function s(t){return t&&t.__esModule?t:{default:t}}(0,o.default)(),(0,r.default)(),(0,i.default)(),new a.default},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},v.call(_.prototype),v.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=_,t.Response=y,t.fetch=function(t,n){return new Promise(function(r,i){var o=new _(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:function(t){var e=new l;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;r(new y(e,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=h(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(t,e){var n=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=function(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){var r;!function(n,i){void 0===(r=function(){return n.svg4everybody=function(){
/*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */
function t(t,e,n){if(n){var r=document.createDocumentFragment(),i=!e.hasAttribute("viewBox")&&n.getAttribute("viewBox");i&&e.setAttribute("viewBox",i);for(var o=n.cloneNode(!0);o.childNodes.length;)r.appendChild(o.firstChild);t.appendChild(r)}}function e(e){e.onreadystatechange=function(){if(4===e.readyState){var n=e._cachedDocument;n||((n=e._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map(function(r){var i=e._cachedTarget[r.id];i||(i=e._cachedTarget[r.id]=n.getElementById(r.id)),t(r.parent,r.svg,i)})}},e.onreadystatechange()}function n(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(r){var i,o=Object(r),a=window.top!==window.self;i="polyfill"in o?o.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&a;var s={},u=window.requestAnimationFrame||setTimeout,c=document.getElementsByTagName("use"),l=0;i&&function r(){for(var a=0;a<c.length;){var f=c[a],h=f.parentNode,d=n(h),p=f.getAttribute("xlink:href")||f.getAttribute("href");if(!p&&o.attributeName&&(p=f.getAttribute(o.attributeName)),d&&p){if(i)if(!o.validate||o.validate(p,d,f)){h.removeChild(f);var v=p.split("#"),_=v.shift(),m=v.join("#");if(_.length){var y=s[_];y||((y=s[_]=new XMLHttpRequest).open("GET",_),y.send(),y._embeds=[]),y._embeds.push({parent:h,svg:d,id:m}),e(y)}else t(h,d,document.getElementById(m))}else++a,++l}else++a}(!c.length||c.length-l>0)&&u(r,67)}()}}()}.apply(e,[]))||(t.exports=r)}(this)},function(t,e,n){"use strict";
/*! npm.im/object-fit-images 3.2.3 */var r="bfred-it:object-fit-images",i=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,o="undefined"==typeof Image?{style:{"object-position":1}}:new Image,a="object-fit"in o.style,s="object-position"in o.style,u="background-size"in o.style,c="string"==typeof o.currentSrc,l=o.getAttribute,f=o.setAttribute,h=!1;function d(t,e,n){var r=function(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}(e||1,n||0);l.call(t,"src")!==r&&f.call(t,"src",r)}function p(t,e){t.naturalWidth?e(t):setTimeout(p,100,t,e)}function v(t){var e=function(t){for(var e,n=getComputedStyle(t).fontFamily,r={};null!==(e=i.exec(n));)r[e[1]]=e[2];return r}(t),n=t[r];if(e["object-fit"]=e["object-fit"]||"fill",!n.img){if("fill"===e["object-fit"])return;if(!n.skipTest&&a&&!e["object-position"])return}if(!n.img){n.img=new Image(t.width,t.height),n.img.srcset=l.call(t,"data-ofi-srcset")||t.srcset,n.img.src=l.call(t,"data-ofi-src")||t.src,f.call(t,"data-ofi-src",t.src),t.srcset&&f.call(t,"data-ofi-srcset",t.srcset),d(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{!function(t){var e={get:function(e){return t[r].img[e||"src"]},set:function(e,n){return t[r].img[n||"src"]=e,f.call(t,"data-ofi-"+n,e),v(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}(t)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}!function(t){if(t.srcset&&!c&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}(n.img),t.style.backgroundImage='url("'+(n.img.currentSrc||n.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=e["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(e["object-fit"])?p(n.img,function(){n.img.naturalWidth>t.width||n.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=e["object-fit"].replace("none","auto").replace("fill","100% 100%"),p(n.img,function(e){d(t,e.naturalWidth,e.naturalHeight)})}function _(t,e){var n=!h&&!t;if(e=e||{},t=t||"img",s&&!e.skipTest||!u)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var i=0;i<t.length;i++)t[i][r]=t[i][r]||{skipTest:e.skipTest},v(t[i]);n&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&_(t.target,{skipTest:e.skipTest})},!0),h=!0,t="img"),e.watchMQ&&window.addEventListener("resize",_.bind(null,t,{skipTest:e.skipTest}))}_.supportsObjectFit=a,_.supportsObjectPosition=s,function(){function t(t,e){return t[r]&&t[r].img&&("src"===e||"srcset"===e)?t[r].img:t}s||(HTMLImageElement.prototype.getAttribute=function(e){return l.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,n){return f.call(t(this,e),e,String(n))})}(),t.exports=_},function(t,e,n){"use strict";t.exports=function(){navigator.userAgent.toLowerCase().indexOf("chrome")>-1?window.console.log.apply(console,["\n %c Made with â¥ by Dogstudio %c %c %c http://www.dogstudio.co/ %c %c \n","color: #fff; background: #e43333; padding:5px 0;","background: #131419; padding:5px 0;","background: #131419; padding:5px 0;","color: #fff; background: #1c1c1c; padding:5px 0;","background: #fff; padding:5px 0;","color: #e43333; background: #fff; padding:5px 0;"]):window.console&&window.console.log("Made with love â¥ Dogstudio - http://www.dogstudio.co/")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14),n(18),n(49);var r=h(n(31)),i=h(n(111)),o=h(n(112)),a=h(n(113)),s=h(n(115)),u=h(n(124)),c=h(n(125)),l=h(n(129)),f=h(n(150));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=document.body,this.$header=this.root.querySelector(".site-header"),this.$container=this.root.querySelector(".site-container"),window.transitions={number:3,current:0},window.loader=this.root.querySelector(".js-loader"),window.nProgress=i.default,window.nProgress.configure({parent:"#site-progress",showSpinner:!1,speed:500}),window.svgHover=new f.default,this.initHighway(),this.initStatic()}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(t,[{key:"initStatic",value:function(){this.$header&&(this.Header=new a.default({el:this.$header})),window.Microbes=new l.default}},{key:"initHighway",value:function(){window.H=new r.default.Core({renderers:{detail:s.default,location:u.default,schedule:c.default},transitions:{default:o.default}});var t=document.querySelectorAll(".menu--primary a"),e=document.querySelectorAll(".menu-lang-item a");window.H.on("NAVIGATE_IN",function(n,r){var i=document.querySelector("[data-router-view]"),o=n.page.querySelector("[data-router-view]");i.className=o.className,window.Microbes.isLoaded&&(window.Microbes.init(),window.requestAnimationFrame(function(){window.Microbes.resize()})),window.svgHover&&window.svgHover.reload();var a=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;f.classList.remove("menu-link--active"),f.href===r.url&&f.classList.add("menu-link--active")}}catch(t){s=!0,u=t}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}for(var h=n.page.querySelectorAll(".menu-lang-item a"),d=0;d<h.length;d++){var p=h[d];e[d].href=p.href}}),window.H.on("NAVIGATE_END",function(){"undefined"!=typeof ga&&ga("send","pageview",location.pathname)})}}]),t}();e.default=p},function(t,e,n){var r=n(21),i=n(48),o=n(38);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(5),i=n(6),o=n(21);t.exports=n(4)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(22),i=n(23).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;void 0==i[r]&&n(8)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";var r=n(30),i=n(27),o=n(20),a={};n(8)(a,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";n(70);var r=n(6),i=n(50),o=n(4),a=/./.toString,s=function(t){n(10)(RegExp.prototype,"toString",t,!0)};n(2)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";n(71)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";var r=n(102),i=n(74);t.exports=n(104)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(5).f,i=n(30),o=n(32),a=n(11),s=n(33),u=n(51),c=n(66),l=n(65),f=n(40),h=n(4),d=n(35).fastKey,p=n(74),v=h?"_s":"size",_=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=_(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!_(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[v]}}),l},def:function(t,e,n){var r,i,o=_(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:_,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(0),i=n(7),o=n(10),a=n(32),s=n(35),u=n(51),c=n(33),l=n(3),f=n(2),h=n(53),d=n(20),p=n(54);t.exports=function(t,e,n,v,_,m){var y=r[t],g=y,E=_?"set":"add",b=g&&g.prototype,T={},w=function(t){var e=b[t];o(b,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof g&&(m||b.forEach&&!f(function(){(new g).entries().next()}))){var M=new g,x=M[E](m?{}:-0,1)!=M,A=f(function(){M.has(1)}),R=h(function(t){new g(t)}),O=!m&&f(function(){for(var t=new g,e=5;e--;)t[E](e,e);return!t.has(-0)});R||((g=e(function(e,n){c(e,g,t);var r=p(new y,e,g);return void 0!=n&&u(n,_,r[E],r),r})).prototype=b,b.constructor=g),(A||O)&&(w("delete"),w("has"),_&&w("get")),(O||x)&&w(E),m&&b.clear&&delete b.clear}else g=v.getConstructor(e,t,_,E),a(g.prototype,n),s.NEED=!0;return d(g,t),T[t]=g,i(i.G+i.W+i.F*(g!=y),T),m||v.setStrong(g,t,_),g}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=E;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},_={};_[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==r&&i.call(y,a)&&(_=y);var g=M.prototype=T.prototype=Object.create(_);w.prototype=g.constructor=M,M.constructor=w,M[u]=w.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(g),t},l.awrap=function(t){return{__await:t}},x(A.prototype),A.prototype[s]=function(){return this},l.AsyncIterator=A,l.async=function(t,e,n,r){var i=new A(E(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(g),g[u]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=L,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function E(t,e,n,r){var i=e&&e.prototype instanceof T?e:T,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=R(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=b(t,e,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function T(){}function w(){}function M(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var s=b(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function R(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,R(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(0),i=n(77).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(19)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(6),i=n(3),o=n(78);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var t={version:"0.2.0"},e=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(t,e,n){return t<e?e:t>n?n:t}function r(t){return 100*(-1+t)}t.configure=function(t){var n,r;for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&(e[n]=r);return this},t.status=null,t.set=function(a){var s=t.isStarted();a=n(a,e.minimum,1),t.status=1===a?null:a;var u=t.render(!s),c=u.querySelector(e.barSelector),l=e.speed,f=e.easing;return u.offsetWidth,i(function(n){""===e.positionUsing&&(e.positionUsing=t.getPositioningCSS()),o(c,function(t,n,i){var o;return(o="translate3d"===e.positionUsing?{transform:"translate3d("+r(t)+"%,0,0)"}:"translate"===e.positionUsing?{transform:"translate("+r(t)+"%,0)"}:{"margin-left":r(t)+"%"}).transition="all "+n+"ms "+i,o}(a,l,f)),1===a?(o(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout(function(){o(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){t.remove(),n()},l)},l)):setTimeout(n,l)}),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout(function(){t.status&&(t.trickle(),n())},e.trickleSpeed)};return e.trickle&&n(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var r=t.status;return r?("number"!=typeof e&&(e=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+e,0,.994),t.set(r)):t.start()},t.trickle=function(){return t.inc(Math.random()*e.trickleRate)},function(){var e=0,n=0;t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always(function(){0==--n?(e=0,t.done()):t.set((e-n)/e)}),this):this}}(),t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=e.template;var a,u=i.querySelector(e.barSelector),c=n?"-100":r(t.status||0),f=document.querySelector(e.parent);return o(u,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),e.showSpinner||(a=i.querySelector(e.spinnerSelector))&&l(a),f!=document.body&&s(f,"nprogress-custom-parent"),f.appendChild(i),i},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(e.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&l(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var i=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),o=function(){var t=["Webkit","O","Moz","ms"],e={};function n(n){return n=function(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}(n),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var r,i=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=t[i]+o)in n)return r;return e}(n))}function r(t,e,r){e=n(e),t.style[e]=r}return function(t,e){var n,i,o=arguments;if(2==o.length)for(n in e)void 0!==(i=e[n])&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,o[1],o[2])}}();function a(t,e){var n="string"==typeof t?t:c(t);return n.indexOf(" "+e+" ")>=0}function s(t,e){var n=c(t),r=n+e;a(n,e)||(t.className=r.substring(1))}function u(t,e){var n,r=c(t);a(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function c(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function l(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14),n(18),n(25);var r=function(t){return t&&t.__esModule?t:{default:t}}(n(31));function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.default.Transition),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"in",value:function(t,e){window.nProgress&&window.nProgress.done(),window.loader&&(window.loader.classList.remove("out"),window.loader.classList.add("in")),setTimeout(function(){window.loader.classList.remove("in"),e()},1e3)}},{key:"out",value:function(t,e){window.transitions.current===window.transitions.number?window.transitions.current=1:window.transitions.current++,window.loader.setAttribute("data-transition",window.transitions.current),window.nProgress&&window.nProgress.start(),window.loader&&window.loader.classList.add("out"),setTimeout(function(){document.body.classList.remove("is-menu-open"),window.requestAnimationFrame(function(){document.querySelector(".site-scroll").scrollTop=0}),setTimeout(e,250)},1e3)}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(55);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){var n=e.el;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$root=n,this.$body=document.body,this.$burger=this.$root.querySelector(".mobile-button"),this.$parent=this.$root.querySelectorAll(".menu-item--parent.has-mobile-submenu"),this.isSticky=!1,this.scrollTop=0,this.lastScrollTop=window.pageYOffset,this._onBackClick=this.onBackClick.bind(this),this._onBurgerClick=this.onBurgerClick.bind(this),this._onParentClick=this.onParentClick.bind(this),this._onScroll=this.onScroll.bind(this),this.$burger.addEventListener("click",this._onBurgerClick);for(var r=0;r<this.$parent.length;r++){var i=this.$parent[r],o=i.querySelector(".menu-link"),a=i.querySelector(".menu-child-back .button");o.parent=i,a.parent=i,a.addEventListener("click",this._onBackClick),o.addEventListener("click",this._onParentClick)}window.addEventListener("scroll",this._onScroll)}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"resetScroll",value:function(){this.scrollTop=0,this.$root.classList.remove("is-hidden"),this.$root.classList.remove("is-sticky")}},{key:"onBackClick",value:function(t){t.preventDefault(),t.currentTarget.parent.classList.remove("is-submenu-open")}},{key:"onParentClick",value:function(t){(0,r.isLessThan)("l")&&(t.preventDefault(),t.currentTarget.parent.classList.add("is-submenu-open"))}},{key:"onBurgerClick",value:function(){this.$body.classList.contains("is-menu-open")?this.$body.classList.remove("is-menu-open"):this.$body.classList.add("is-menu-open")}},{key:"onScroll",value:function(){this.scrollTop=window.pageYOffset,this.scrollTop>this.lastScrollTop?this.direction=1:this.scrollTop!==this.lastScrollTop&&(this.direction=-1),1===this.direction?this.scrollTop>158&&this.$root.classList.add("is-hidden"):(this.scrollTop>10?(this.isSticky=!0,this.$root.classList.remove("is-hidden"),this.$root.classList.add("is-sticky")):this.$root.classList.remove("is-sticky"),this.scrollTop<1&&(this.isSticky=!1)),this.lastScrollTop=this.scrollTop}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={xxs:320,xs:450,s:600,m:768,l:980,xl:1100,xxl:1440};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14),n(18),n(25);var r=o(n(31)),i=o(n(116));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default.Renderer),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(e,[{key:"onEnter",value:function(){this.$maps=this.view.querySelectorAll(".map"),this.Maps=[];for(var t=0;t<this.$maps.length;t++)this.Maps.push(new i.default({el:this.$maps[t]}))}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(79));function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(80)("AIzaSyCXO-YUAKMWtQyftTA5-i7uAE4rOaVvlw0"),a=function(){function t(e){var n=this,r=e.el;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$root=r,this.$map=this.$root.querySelector(".google-map"),this.$markers=this.$root.querySelectorAll("span"),o().then(function(){return n.init()}),window.addEventListener("resize",this.resize.bind(this))}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"init",value:function(){this.markers=[{lat:50.464422,lng:4.868158,icon:"kikk",title:"ThÃ©atre de Namur"}];for(var t=0;t<this.$markers.length;t++){var e=this.$markers[t];this.markers.push({lat:e.dataset.lat,lng:e.dataset.lng,icon:"default",title:e.innerText})}this.icons={kikk:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/kikk-b44745e46d.png"),size:new google.maps.Size(148,164),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(37,82),scaledSize:new google.maps.Size(74,82)},default:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(72,108),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)}},this.Map=new google.maps.Map(this.$map,{center:{lat:50.464422,lng:4.868158},zoom:16,styles:r.default,scrollwheel:!1,zoomControl:!0,disableDefaultUI:!0}),this.Bounds=new google.maps.LatLngBounds,this.add()}},{key:"add",value:function(){for(var t=0;t<this.markers.length;t++){var e=this.markers[t],n=new google.maps.LatLng(e.lat,e.lng);new google.maps.Marker({position:n,icon:this.icons[e.icon],map:this.Map}),this.Bounds.extend(n)}this.Map.fitBounds(this.Bounds)}},{key:"resize",value:function(){this.Map&&this.Map.fitBounds(this.Bounds)}}]),t}();e.default=a},function(t,e,n){var r,i;
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */
!function(o,a){void 0!==t&&t.exports?t.exports=a():void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}(0,function(){var t,e,n=document,r=n.getElementsByTagName("head")[0],i=!1,o="push",a="readyState",s="onreadystatechange",u={},c={},l={},f={};function h(t,e){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return i;return 1}function d(t,e){h(t,function(t){return!e(t)})}function p(e,n,r){e=e[o]?e:[e];var i=n&&n.call,a=i?n:r,s=i?e.join(""):n,_=e.length;function m(t){return t.call?t():u[t]}function y(){if(!--_)for(var t in u[s]=1,a&&a(),l)h(t.split("|"),m)&&!d(l[t],m)&&(l[t]=[])}return setTimeout(function(){d(e,function e(n,r){return null===n?y():(r||/^https?:\/\//.test(n)||!t||(n=-1===n.indexOf(".js")?t+n+".js":t+n),f[n]?(s&&(c[s]=1),2==f[n]?y():setTimeout(function(){e(n,!0)},0)):(f[n]=1,s&&(c[s]=1),void v(n,y)))})},0),p}function v(t,i){var o,u=n.createElement("script");u.onload=u.onerror=u[s]=function(){u[a]&&!/^c|loade/.test(u[a])||o||(u.onload=u[s]=null,o=1,f[t]=2,i())},u.async=1,u.src=e?t+(-1===t.indexOf("?")?"?":"&")+e:t,r.insertBefore(u,r.lastChild)}return p.get=v,p.order=function(t,e,n){!function r(i){i=t.shift(),t.length?p(i,r):p(i,e,n)}()},p.path=function(e){t=e},p.urlArgs=function(t){e=t},p.ready=function(t,e,n){var r=[];return!d(t=t[o]?t:[t],function(t){u[t]||r[o](t)})&&h(t,function(t){return u[t]})?e():function(t){l[t]=l[t]||[],l[t][o](e),n&&n(r)}(t.join("|")),p},p.done=function(t){p([null],t)},p})},function(t,e,n){"use strict";t.exports=n(41),n(121),n(122),n(123)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(120),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(56))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(56),n(81))},function(t,e,n){"use strict";var r=n(41),i=n(42);t.exports=r,r.prototype.done=function(t,e){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){i(function(){throw t})})}},function(t,e,n){"use strict";var r=n(41),i=n(42);function o(t){this.then=function(e){return"function"!=typeof e?this:new r(function(n,r){i(function(){try{n(e(t))}catch(t){r(t)}})})}}t.exports=r,o.prototype=r.prototype;var a=new o(!0),s=new o(!1),u=new o(null),c=new o(void 0),l=new o(0),f=new o("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return u;if(void 0===t)return c;if(!0===t)return a;if(!1===t)return s;if(0===t)return l;if(""===t)return f;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return new o(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(o,t)},n)}e[o]=a,0==--r&&t(e)}catch(t){n(t)}}for(var o=0;o<e.length;o++)i(o,e[o])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";var r=n(41),i=n(42);t.exports=r,r.denodeify=function(t,e){return e=e||1/0,function(){var n=this,i=Array.prototype.slice.call(arguments);return new r(function(r,o){for(;i.length&&i.length>e;)i.pop();i.push(function(t,e){t?o(t):r(e)});var a=t.apply(n,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||r(a)})}},r.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,o=this;try{return t.apply(this,arguments).nodeify(n,o)}catch(t){if(null===n||void 0===n)return new r(function(e,n){n(t)});i(function(){n.call(o,t)})}}},r.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then(function(n){i(function(){t.call(e,null,n)})},function(n){i(function(){t.call(e,n)})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14),n(18),n(25);var r=o(n(31)),i=o(n(79));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=n(80)("AIzaSyCXO-YUAKMWtQyftTA5-i7uAE4rOaVvlw0"),h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default.Renderer),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(e,[{key:"onEnter",value:function(){var t=this;this.$map=this.view.querySelector(".location-map-google"),this.$list=this.view.querySelector(".location-map-list"),this.$items=this.view.querySelectorAll(".location-map-item"),this.$filter=this.view.querySelector(".location-map-filter"),this.$options=this.view.querySelectorAll(".location-map-options .button"),this.$current=this.view.querySelector(".location-map-options .is-active"),this.$selected=this.view.querySelector(".location-map-selected"),this.$selectedLabel=this.$selected.querySelector("span"),this.$tooltip=this.view.querySelector(".location-map-tooltip"),this.$tooltipText=this.$tooltip.querySelector(".location-map-text"),this.$tooltipTitle=this.$tooltip.querySelector(".location-map-title"),this.$tooltipSubhead=this.$tooltip.querySelector(".location-map-type"),this.tooltipTimeout=null,this.tooltipVisible=!1,this.markerClicked=null,f().then(function(){return t.init()}),window.addEventListener("resize",this.resize.bind(this)),document.body.addEventListener("click",function(){t.$filter.classList.remove("is-open")}),this.$selected.addEventListener("click",function(e){e.stopPropagation(),t.$filter.classList.toggle("is-open")});for(var e=function(e){var n=t.$options[e];n.addEventListener("click",function(e){e.stopPropagation();var r=n.dataset.value;t.$selectedLabel.innerHTML=n.innerHTML,t.$current.classList.remove("is-active"),t.$current=n,t.$current.classList.add("is-active"),t.$filter.classList.remove("is-open"),t.filter(r)})},n=0;n<this.$options.length;n++)e(n)}},{key:"init",value:function(){var t=this;this.Map=new google.maps.Map(this.$map,{center:{lat:50.464422,lng:4.868158},zoom:17,minZoom:13,maxZoom:21,styles:i.default,scrollwheel:!1,zoomControl:!0,disableDefaultUI:!0}),this.Bounds=new google.maps.LatLngBounds,this.icons={info:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},theater:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},market:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},congress:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},kikkintown:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},food:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},party:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},kids:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},congres:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},theatre:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},default:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/default-40b0f76039.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)},disable:{url:"".concat(window.Dogstudio.theme_link,"assets/images/markers/disable-f19f29a918.png"),size:new google.maps.Size(36,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(18,54),scaledSize:new google.maps.Size(36,54)}},this.markers=[];for(var e=0;e<this.$items.length;e++){var n=this.$items[e];n.dataset.lat&&n.dataset.lng&&function(){var e=new google.maps.LatLng(n.dataset.lat,n.dataset.lng),r=new google.maps.Marker({el:n,map:t.Map,icon:t.icons[n.dataset.category],text:n.querySelector(".location-map-text").innerHTML,title:n.querySelector(".location-map-title").innerHTML,subhead:n.querySelector(".location-map-type").innerHTML,category:n.dataset.category,position:e});r.addListener("mouseover",function(){return t.mouseover(r)}),r.addListener("mouseout",function(){return t.mouseout(r)}),r.addListener("click",function(){t.markerClicked=r,t.Map.setCenter(r.getPosition()),t.Map.setZoom(18),t.mouseover(r)}),n.addEventListener("click",function(){t.Map.setCenter(r.getPosition()),t.Map.setZoom(18),t.mouseover(r)}),t.markers.push(r),t.Bounds.extend(e)}()}this.Map.fitBounds(this.Bounds),this.Map.addListener("drag",function(){t.markerClicked=!1,t.mouseout()})}},{key:"filter",value:function(t){this.markerClicked=null,this.mouseout();var e=[];this.Bounds=new google.maps.LatLngBounds;for(var n=0;n<this.markers.length;n++){var r=this.markers[n];r.el.classList.remove("is-hidden"),r.setMap(this.Map),"all"===t?(e.push(r),r.setIcon(this.icons.default),this.Bounds.extend(r.getPosition())):r.category===t?(e.push(r),r.setIcon(this.icons.default),this.Bounds.extend(r.getPosition())):(r.el.classList.add("is-hidden"),r.setIcon(this.icons.disable))}this.Map.fitBounds(this.Bounds)}},{key:"mouseover",value:function(t){var e=this;this.markerClicked!==t&&(this.markerClicked=null),this.tooltipVisible=!0;var n=this.fromLatLngToPoint(t.getPosition());this.tooltipTimeout=setTimeout(function(){e.$tooltip.style.display="block",e.$tooltip.style.top="".concat(n.y,"px"),e.$tooltip.style.left="".concat(n.x,"px"),e.$tooltipText.innerHTML=t.text,e.$tooltipTitle.innerHTML=t.title,e.$tooltipSubhead.innerHTML=t.subhead},200)}},{key:"mouseout",value:function(){this.markerClicked||(this.tooltipVisible=!1,this.$tooltip.removeAttribute("style"),this.$tooltipText.innerHTML="",this.$tooltipTitle.innerHTML="",this.$tooltipSubhead.innerHTML="",this.tooltipTimeout&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=null))}},{key:"resize",value:function(){this.Map&&this.Map.fitBounds(this.Bounds)}},{key:"fromLatLngToPoint",value:function(t){var e=this.Map.getProjection().fromLatLngToPoint(this.Map.getBounds().getNorthEast()),n=this.Map.getProjection().fromLatLngToPoint(this.Map.getBounds().getSouthWest()),r=Math.pow(2,this.Map.getZoom()),i=this.Map.getProjection().fromLatLngToPoint(t);return new google.maps.Point((i.x-n.x)*r,(i.y-e.y)*r)}}]),e}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14),n(18),n(25);var r=o(n(31)),i=o(n(126));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default.Renderer),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(e,[{key:"onEnter",value:function(){this.Timeline=new i.default}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(82),n(83);var r=n(55);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$root=document.querySelector(".schedule"),this.$next=this.$root.querySelector(".schedule-next"),this.$prev=this.$root.querySelector(".schedule-prev"),this.$hours=this.$root.querySelector(".schedule-hours"),this.$items=this.$root.querySelectorAll(".schedule-item"),this.$filters=this.$root.querySelectorAll(".schedule-filter input"),this.$timeline=this.$root.querySelector(".schedule-timeline"),this.$dragzone=this.$root.querySelector(".schedule-dragzone"),this.setup=!1,this.dayEndAt=Number(this.$hours.dataset.end),this.dayStartAt=Number(this.$hours.dataset.start),this.dayDuration=this.dayEndAt-this.dayStartAt,this.dayStepWidth=300,this.dayStepDuration=2400,this.dayTotalSteps=Math.ceil(this.dayDuration/this.dayStepDuration),this.dayMinuteWidth=this.dayStepWidth/this.dayStepDuration,this.initHours(),this.sliderStepDuration=7200,this.sliderStepWidth=this.sliderStepDuration*this.dayMinuteWidth,this.currentFilters=[],this.dragEnd=0,this.dragStart=0,this.dragWidth=this.dayTotalSteps*this.dayStepWidth+90,this.dragDelta=0,this.dragOrigin=0,this.dragScroll=0,this.dragValue=0,this.dragInertia=0,this._resize=this.resize.bind(this),this.resize(),window.addEventListener("resize",this._resize),this._filter=this.filter.bind(this);for(var n=0;n<this.$filters.length;n++)this.$filters[n].addEventListener("change",this._filter.bind(this));this._prev=this.prev.bind(this),this._next=this.next.bind(this),this.$next.addEventListener("click",this._next),this.$prev.addEventListener("click",this._prev),this._drag=this.drag.bind(this),this._update=this.update.bind(this),this._mouseup=this.mouseup.bind(this),this._mousedown=this.mousedown.bind(this),this.$timeline.addEventListener("touchstart",function(t){e.mousedown(t),e.$timeline.addEventListener("touchend",e._mouseup)}),this.$timeline.addEventListener("touchend",function(){e.mouseup(),e.$timeline.removeEventListener("touchstart",e._mousedown)}),this.$timeline.addEventListener("mouseenter",function(){e.$timeline.addEventListener("mouseup",e._mouseup),e.$timeline.addEventListener("mousedown",e._mousedown)}),this.$timeline.addEventListener("mouseleave",function(){e.mouseup(),e.$timeline.removeEventListener("mouseup",e._mouseup),e.$timeline.removeEventListener("mousedown",e._mousedown)}),this.RAF=null}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"initHours",value:function(){for(var t=0;t<this.dayTotalSteps;t++){var e=this.dayStartAt+t*this.dayStepDuration,n=new Date(1e3*e),r="0".concat(n.getHours()).slice(-2),i="0".concat(n.getMinutes()).slice(-2),o=document.createElement("span");o.innerText="".concat(r,":").concat(i),this.$hours.appendChild(o)}}},{key:"initItems",value:function(){this.setup=!0,this.$dragzone.style.width="".concat(this.dragWidth,"px");for(var t=0;t<this.$items.length;t++){var e=this.$items[t],n=Number(e.dataset.end),r=Number(e.dataset.start),i=(n-r)*this.dayMinuteWidth,o=(r-this.dayStartAt)*this.dayMinuteWidth+73;e.style.left="".concat(o,"px"),e.style.width="".concat(i,"px")}this.$dragzone.classList.add("is-ready")}},{key:"mousedown",value:function(t){this.dragOrigin=t.touches?t.touches[0].clientX:t.clientX,this.$timeline.classList.add("is-draggin"),this.$timeline.addEventListener("touchmove",this._drag),this.$timeline.addEventListener("mousemove",this._drag)}},{key:"mouseup",value:function(){this.dragOrigin=0,this.$timeline.classList.remove("is-draggin"),this.$dragzone.classList.remove("no-pointer"),this.dragScroll=this.dragScroll+this.dragDelta,this.dragScroll=Math.min(Math.max(this.dragStart,this.dragScroll),this.dragEnd),this.dragDelta=0,this.$timeline.removeEventListener("mousemove",this._drag)}},{key:"drag",value:function(t){var e=(t.touches?t.touches[0].clientX:t.clientX)-this.dragOrigin;this.dragDelta=-1*e,this.dragValue=this.dragScroll+this.dragDelta,this.$dragzone.classList.add("no-pointer"),this.RAF||(this.RAF=window.requestAnimationFrame(this._update))}},{key:"next",value:function(){this.dragScroll=this.dragScroll+this.sliderStepWidth,this.dragScroll=Math.min(Math.max(this.dragStart,this.dragScroll),this.dragEnd),this.$timeline.scrollLeft=this.dragScroll}},{key:"prev",value:function(){this.dragScroll=this.dragScroll-this.sliderStepWidth,this.dragScroll=Math.min(Math.max(this.dragStart,this.dragScroll),this.dragEnd),this.$timeline.scrollLeft=this.dragScroll}},{key:"filter",value:function(t){var e=t.currentTarget;e.checked?this.currentFilters.push(e.name):this.currentFilters.splice(this.currentFilters.indexOf(e.name),1);for(var n=0;n<this.$items.length;n++){var r=this.$items[n];if(r.classList.remove("is-disabled"),0!==this.currentFilters.length){r.classList.add("is-disabled");for(var i=0;i<this.currentFilters.length;i++){var o=this.currentFilters[i];"exhibition"===o?(r.classList.contains("schedule-item--exhibition")||r.classList.contains("schedule-item--kikkintown"))&&r.classList.remove("is-disabled"):"evening"===o?(r.classList.contains("schedule-item--evening")||r.classList.contains("schedule-item--party"))&&r.classList.remove("is-disabled"):"workshop"===o?(r.classList.contains("schedule-item--workshop")||r.classList.contains("schedule-item--masterclasses"))&&r.classList.remove("is-disabled"):r.classList.contains("schedule-item--".concat(o))&&r.classList.remove("is-disabled")}}}}},{key:"reset",value:function(){this.setup=!1,this.$dragzone.removeAttribute("style");for(var t=0;t<this.$items.length;t++){var e=this.$items[t];e.style.left="auto",e.style.width="auto"}}},{key:"resize",value:function(){this.dragEnd=this.dragWidth-this.$timeline.getBoundingClientRect().width,(0,r.isLessThan)("m")?this.setup&&this.reset():this.setup||this.initItems()}},{key:"update",value:function(){this.dragInertia=this.lerp(this.dragInertia,this.dragValue,.1);var t=Math.ceil(Math.min(this.dragInertia,this.dragValue)/Math.max(this.dragInertia,this.dragValue)*1e3)/1e3;this.$timeline.scrollLeft=this.dragInertia,this.RAF=null,t<1&&(this.RAF=window.requestAnimationFrame(this._update))}},{key:"lerp",value:function(t,e,n){return(1-n)*t+n*e}}]),t}();e.default=o},function(t,e,n){var r=n(7),i=n(36),o=n(2),a=n(128),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var i={},s=o(function(){return!!a[t]()||"âÂ"!="âÂ"[t]()}),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=n(55);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),window.Dogstudio.disable_anim||(document.body.classList.add("canvas-loading"),this.Microbes=new r.default("".concat(window.Dogstudio.theme_link,"assets/images/microbes/"),{maskNoiseRadius:45,mouseFollowEasing:.2,circleRadius:50,circleColor:[251,200,221],numMicrobes:100,minSpriteScale:.3,maxSpriteScale:.35,leadingDotEasing:.3,scrollEasing:1}),this.container=document.querySelector(".site-scroll"),this.isLoaded=!1,this.isPaused=!1,this._scroll=this.scroll.bind(this),this._loaded=this.loaded.bind(this),this._resize=this.resize.bind(this),this.Microbes.on("onLoaded",this._loaded))}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:"loaded",value:function(){document.body.appendChild(this.Microbes.canvas),setTimeout(function(){document.body.classList.remove("canvas-loading")},100),this.init(),window.addEventListener("resize",this._resize),this.container.addEventListener("scroll",this._scroll),this.isLoaded=!0}},{key:"init",value:function(){var t=this;this.reset(),this.$logo=document.querySelector(".home-hero-logo"),this.$masks=document.querySelectorAll(".js-svg-mask"),this.$covers=document.querySelectorAll(".js-cover-enable"),this.$rollovers=document.querySelectorAll(".js-rollover");for(var e=0;e<this.$masks.length;e++){for(var n=this.$masks[e],r=n.querySelector("svg"),i=n.querySelector("svg image"),o=i.getAttribute("xlink:href"),a=i.getAttribute("clip-path").match(/url\((.*)\)/),s=r.getAttribute("viewBox").split(/\s/),u=parseInt(s[2]),c=parseInt(s[3]),l=document.querySelector(a[1]).querySelectorAll("path"),f=[],h=[],d=0;d<l.length;d++)f.push(l[d].getAttribute("ds")),h.push(l[d].getAttribute("de"));this.Microbes.addSvgAnim(n,o,f,h,u,c)}for(var p=function(e){var n=t.$rollovers[e],r=n.dataset.radius||85,i=n.dataset.color?n.dataset.color.split(","):[251,200,221];n.addEventListener("mouseover",function(){return t.Microbes.rollover(r,i)}),n.addEventListener("mouseout",function(){return t.Microbes.rollout()})},v=0;v<this.$rollovers.length;v++)p(v);if(this.$logo){var _="".concat(window.Dogstudio.theme_link,"assets/images/home/logo-sharp-305d8f68ca.png"),m="".concat(window.Dogstudio.theme_link,"assets/images/home/logo-blurry-80ca3219e6.png");this.Microbes.addChild(this.$logo,m,_)}this.Microbes.setCoverZones(this.$covers)}},{key:"reset",value:function(){this.Microbes.removeAllChild(),this.Microbes.clearCoverZones(),this.Microbes.removeAllSvgAnim(),this.isPaused=!1}},{key:"scroll",value:function(){this.Microbes.setScrollTop(this.container.scrollTop)}},{key:"resize",value:function(){(0,i.isMoreThan)("l")?this.isPaused&&(this.Microbes.play(),this.Microbes.hideOrigin(),this.isPaused=!1):this.isPaused||(this.Microbes.pause(),this.Microbes.displayOrigin(),this.isPaused=!0),this.Microbes.resize()}}]),t}();e.default=a},function(t,e,n){"use strict";(function(t){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(131),n(83),n(132),n(138),n(70),n(139),n(141),n(25),n(143),n(144),n(145),n(147),n(14),n(18),n(148),n(149),n(49),n(82),n(75),function(n,s){"object"==a(e)&&"object"==a(t)?t.exports=s():(i=[],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o))}("undefined"!=typeof self&&self,function(){return function(t){function e(t){var e=O[t];if(!e)return c;var r=function(n){return e.hot.active?(O[n]?O[n].parents.indexOf(t)<0&&O[n].parents.push(t):(g=[t],f=n),e.children.indexOf(n)<0&&e.children.push(n)):g=[],c(n)};for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&"e"!==i&&Object.defineProperty(r,i,function(t){return{configurable:!0,enumerable:!0,get:function(){return c[t]},set:function(e){c[t]=e}}}(i));return r.e=function(t){function e(){M--,"prepare"===T&&(x[t]||o(t),0===M&&0===w&&s())}return"ready"===T&&n("prepare"),M++,c.e(t).then(e,function(t){throw e(),t})},r}function n(t){T=t;for(var e=0;e<b.length;e++)b[e].call(null,t)}function r(t){return+t+""===t?+t:t}function i(t){if("idle"!==T)throw new Error("check() is only allowed in idle status");return v=t,n("check"),function(t){return t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=c.p+""+_+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(t){return n(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(t){return void n(t)}e(t)}}})}(m).then(function(t){if(!t)return n("idle"),null;A={},x={},R=t.c,p=t.h,n("prepare");var e=new Promise(function(t,e){h={resolve:t,reject:e}});return d={},o(0),"prepare"===T&&0===M&&0===w&&s(),e})}function o(t){R[t]?(A[t]=!0,w++,function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=c.p+""+t+"."+_+".hot-update.js",e.appendChild(n)}(t)):x[t]=!0}function s(){n("ready");var t=h;if(h=null,t)if(v)Promise.resolve().then(function(){return u(v)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&e.push(r(i));t.resolve(e)}}function u(e){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==T)throw new Error("apply() is only allowed in ready status");e=e||{};var o,a,s,u,l,f={},h=[],v={},m=function(){};for(var E in d)if(Object.prototype.hasOwnProperty.call(d,E)){var b;l=r(E);var w=!1,M=!1,x=!1,A="";switch((b=d[E]?function(t){for(var e=[t],n={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var o=r.pop(),a=o.id,s=o.chain;if((u=O[a])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var c=0;c<u.parents.length;c++){var l=u.parents[c],f=O[l];if(f){if(f.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([l]),moduleId:a,parentId:l};e.indexOf(l)>=0||(f.hot._acceptedDependencies[a]?(n[l]||(n[l]=[]),i(n[l],[a])):(delete n[l],e.push(l),r.push({chain:s.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}(l):{type:"disposed",moduleId:E}).chain&&(A="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":e.onDeclined&&e.onDeclined(b),e.ignoreDeclined||(w=new Error("Aborted because of self decline: "+b.moduleId+A));break;case"declined":e.onDeclined&&e.onDeclined(b),e.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+A));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(b),e.ignoreUnaccepted||(w=new Error("Aborted because "+l+" is not accepted"+A));break;case"accepted":e.onAccepted&&e.onAccepted(b),M=!0;break;case"disposed":e.onDisposed&&e.onDisposed(b),x=!0;break;default:throw new Error("Unexception type "+b.type)}if(w)return n("abort"),Promise.reject(w);if(M)for(l in v[l]=d[l],i(h,b.outdatedModules),b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,l)&&(f[l]||(f[l]=[]),i(f[l],b.outdatedDependencies[l]));x&&(i(h,[b.moduleId]),v[l]=m)}var S,P,L=[];for(a=0;a<h.length;a++)l=h[a],O[l]&&O[l].hot._selfAccepted&&L.push({module:l,errorHandler:O[l].hot._selfAccepted});n("dispose"),Object.keys(R).forEach(function(t){!1===R[t]&&function(t){delete installedChunks[t]}(t)});for(var I,C=h.slice();C.length>0;)if(l=C.pop(),u=O[l]){var k={},N=u.hot._disposeHandlers;for(s=0;s<N.length;s++)(o=N[s])(k);for(y[l]=k,u.hot.active=!1,delete O[l],delete f[l],s=0;s<u.children.length;s++){var F=O[u.children[s]];F&&(I=F.parents.indexOf(l))>=0&&F.parents.splice(I,1)}}for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(u=O[l]))for(P=f[l],s=0;s<P.length;s++)S=P[s],(I=u.children.indexOf(S))>=0&&u.children.splice(I,1);for(l in n("apply"),_=p,v)Object.prototype.hasOwnProperty.call(v,l)&&(t[l]=v[l]);var D=null;for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(u=O[l])){P=f[l];var U=[];for(a=0;a<P.length;a++)if(S=P[a],o=u.hot._acceptedDependencies[S]){if(U.indexOf(o)>=0)continue;U.push(o)}for(a=0;a<U.length;a++){o=U[a];try{o(P)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:l,dependencyId:P[a],error:t}),e.ignoreErrored||D||(D=t)}}}for(a=0;a<L.length;a++){var B=L[a];l=B.module,g=[l];try{c(l)}catch(t){if("function"==typeof B.errorHandler)try{B.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,orginalError:t,originalError:t}),e.ignoreErrored||D||(D=n),D||(D=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:l,error:t}),e.ignoreErrored||D||(D=t)}}return D?(n("fail"),Promise.reject(D)):(n("idle"),new Promise(function(t){t(h)}))}function c(n){if(O[n])return O[n].exports;var r=O[n]={i:n,l:!1,exports:{},hot:function(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:f!==t,active:!0,accept:function(t,n){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==a(t))for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n||function(){};else e._acceptedDependencies[t]=n||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==a(t))for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:i,apply:u,status:function(t){if(!t)return T;b.push(t)},addStatusHandler:function(t){b.push(t)},removeStatusHandler:function(t){var e=b.indexOf(t);e>=0&&b.splice(e,1)},data:y[t]};return f=void 0,e}(n),parents:(E=g,g=[],E),children:[]};return t[n].call(r.exports,r,r.exports,e(n)),r.l=!0,r.exports}var l=window.webpackHotUpdateWebGLAnimation;window.webpackHotUpdateWebGLAnimation=function(t,e){(function(t,e){if(R[t]&&A[t]){for(var n in A[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(d[n]=e[n]);0==--w&&0===M&&s()}})(t,e),l&&l(t,e)};var f,h,d,p,v=!0,_="9f223d9c723f60a5f774",m=1e4,y={},g=[],E=[],b=[],T="idle",w=0,M=0,x={},A={},R={},O={};return c.m=t,c.c=O,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.h=function(){return _},e(48)(c.s=48)}([function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),a=r(n(54)),s=r(n(55)),u=r(n(56)),c=r(n(57)),l=r((r(n(25)),n(58))),f=void 0,h=new(function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=o.mat4.create(),this._normalMatrix=o.mat3.create(),this._inverseModelViewMatrix=o.mat3.create(),this._modelMatrix=o.mat4.create(),this._matrix=o.mat4.create(),this._matrixStacks=[],this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance,this._extArrayInstance,this._hasCheckedExt=!1,o.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return i(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==t&&void 0!==t){void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=t,this.setSize(window.innerWidth,window.innerHeight),e.useWebgl2=e.useWebgl2||!1;var n=void 0;e.useWebgl2?(n=this.canvas.getContext("experimental-webgl2",e)||this.canvas.getContext("webgl2",e))?this._useWebGL2=!0:(n=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),this._useWebGL2=!1):(n=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),this._useWebGL2=!1),this.initWithGL(n)}}},{key:"initWithGL",value:function(t){this.canvas||(this.canvas=t.canvas),f=this.gl=t,this.extensions={};for(var e=0;e<l.default.length;e++)this.extensions[l.default[e]]=f.getExtension(l.default[e]);(0,s.default)(),(0,a.default)(f,"OES_vertex_array_object"),(0,a.default)(f,"ANGLE_instanced_arrays"),(0,a.default)(f,"WEBGL_draw_buffers"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}},{key:"setViewport",value:function(t,e,n,r){var i=!1;t!==this._viewport[0]&&(i=!0),e!==this._viewport[1]&&(i=!0),n!==this._viewport[2]&&(i=!0),r!==this._viewport[3]&&(i=!0),i&&(f.viewport(t,e,n,r),this._viewport=[t,e,n,r])}},{key:"scissor",value:function(t,e,n,r){f.scissor(t,e,n,r)}},{key:"clear",value:function(t,e,n,r){f.clearColor(t,e,n,r),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)}},{key:"cullFace",value:function(t){f.cullFace(t)}},{key:"setMatrices",value:function(t){this.camera=t,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(t){this.shader=t,this.shaderProgram=this.shader.shaderProgram}},{key:"rotate",value:function(t){o.mat4.copy(this._modelMatrix,t),o.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),o.mat3.fromMat4(this._normalMatrix,this._matrix),o.mat3.invert(this._normalMatrix,this._normalMatrix),o.mat3.transpose(this._normalMatrix,this._normalMatrix),o.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),o.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:"draw",value:function(t,e){if(t.length)for(var n=0;n<t.length;n++)this.draw(t[n]);else{t.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);var r=t.drawType;void 0!==e&&(r=e),t.isInstanced?f.drawElementsInstanced(t.drawType,t.iBuffer.numItems,f.UNSIGNED_SHORT,0,t.numInstance):r===f.POINTS?f.drawArrays(r,0,t.vertexSize):f.drawElements(r,t.iBuffer.numItems,f.UNSIGNED_SHORT,0),t.unbind()}}},{key:"drawTransformFeedback",value:function(t){var e=t.meshSource,n=t.meshDestination,r=t.numPoints,i=t.transformFeedback;e.bind(this.shaderProgram),n.generateBuffers(this.shaderProgram),f.bindTransformFeedback(f.TRANSFORM_FEEDBACK,i),n.attributes.forEach(function(t,e){f.bindBufferBase(f.TRANSFORM_FEEDBACK_BUFFER,e,t.buffer)}),f.enable(f.RASTERIZER_DISCARD),f.beginTransformFeedback(f.POINTS),f.drawArrays(f.POINTS,0,r),f.endTransformFeedback(),f.disable(f.RASTERIZER_DISCARD),f.useProgram(null),f.bindBuffer(f.ARRAY_BUFFER,null),n.attributes.forEach(function(t,e){f.bindBufferBase(f.TRANSFORM_FEEDBACK_BUFFER,e,null)}),f.bindTransformFeedback(f.TRANSFORM_FEEDBACK,null),e.unbind()}},{key:"setSize",value:function(t,e){this._width=t,this._height=e,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,f&&this.viewport(0,0,this._width,this._height)}},{key:"showExtensions",value:function(){for(var t in this.extensions)this.extensions[t]}},{key:"checkExtension",value:function(t){return!!this.extensions[t]}},{key:"getExtension",value:function(t){return this.extensions[t]}},{key:"enableAlphaBlending",value:function(){f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){f.blendFunc(f.ONE,f.ONE)}},{key:"pushMatrix",value:function(){var t=o.mat4.clone(this._modelMatrix);this._matrixStacks.push(t)}},{key:"popMatrix",value:function(){if(0==this._matrixStacks.length)return null;var t=this._matrixStacks.pop();this.rotate(t)}},{key:"enable",value:function(t){f.enable(t)}},{key:"disable",value:function(t){f.disable(t)}},{key:"viewport",value:function(t,e,n,r){this.setViewport(t,e,n,r)}},{key:"destroy",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(t){}this.canvas=null}},{key:"FLOAT",get:function(){return(0,u.default)()}},{key:"HALF_FLOAT",get:function(){return(0,c.default)()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}},{key:"webgl2",get:function(){return this._useWebGL2}}]),t}());e.default=h},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShaderLibs=e.View=e.Scene=e.BatchLine=e.BatchDotsPlane=e.BatchBall=e.BatchAxis=e.BatchCopy=e.PassFxaa=e.PassHBlur=e.PassVBlur=e.PassBlur=e.PassMacro=e.Pass=e.EffectComposer=e.HDRLoader=e.ObjLoader=e.BinaryLoader=e.Object3D=e.Ray=e.CameraPerspective=e.CameraOrtho=e.Camera=e.TouchDetector=e.QuatRotation=e.WebglNumber=e.OrbitalControl=e.TweenNumber=e.EaseNumber=e.EventDispatcher=e.Scheduler=e.FrameBuffer=e.Batch=e.Geom=e.Mesh=e.GLCubeTexture=e.GLTexture=e.GLShader=e.GL=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),a=r(n(0)),s=r(n(4)),u=r(n(26)),c=r(n(62)),l=r(n(6)),f=r(n(10)),h=r(n(7)),d=r(n(16)),p=r(n(5)),v=r(n(27)),_=r(n(17)),m=r(n(64)),y=r(n(28)),g=r(n(65)),E=r(n(66)),b=r(n(15)),T=r((r(n(24)),n(19))),w=r(n(29)),M=r(n(30)),x=r(n(18)),A=r(n(68)),R=r(n(20)),O=r(n(69)),S=r(n(70)),P=r(n(72)),L=r(n(11)),I=r(n(35)),C=r(n(75)),k=r(n(36)),N=r(n(38)),F=r(n(79)),D=r(n(81)),U=r(n(82)),B=r(n(85)),j=r(n(86)),X=r(n(88)),V=r(n(89)),G=r(n(90)),H=r(n(31)),Y=new(function(){function t(){for(var e in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.glm=o,this.GL=a.default,this.GLTool=a.default,this.GLShader=s.default,this.GLTexture=u.default,this.GLCubeTexture=c.default,this.Mesh=l.default,this.Geom=f.default,this.Batch=h.default,this.FrameBuffer=d.default,this.Scheduler=p.default,this.EventDispatcher=v.default,this.EaseNumber=_.default,this.TweenNumber=m.default,this.Camera=T.default,this.CameraOrtho=w.default,this.CameraPerspective=M.default,this.Ray=x.default,this.OrbitalControl=y.default,this.QuatRotation=g.default,this.BinaryLoader=R.default,this.ObjLoader=O.default,this.HDRLoader=S.default,this.BatchCopy=D.default,this.BatchAxis=U.default,this.BatchBall=B.default,this.BatchBall=B.default,this.BatchLine=X.default,this.BatchDotsPlane=j.default,this.Scene=V.default,this.View=G.default,this.Object3D=A.default,this.ShaderLibs=H.default,this.WebglNumber=b.default,this.EffectComposer=P.default,this.Pass=L.default,this.PassMacro=I.default,this.PassBlur=C.default,this.PassVBlur=k.default,this.PassHBlur=N.default,this.PassFxaa=F.default,o)o[e]&&(window[e]=o[e])}return i(t,[{key:"log",value:function(){for(var t in navigator.userAgent.indexOf("Chrome"),this)this[t]}}]),t}());e.default=Y,e.GL=a.default,e.GLShader=s.default,e.GLTexture=u.default,e.GLCubeTexture=c.default,e.Mesh=l.default,e.Geom=f.default,e.Batch=h.default,e.FrameBuffer=d.default,e.Scheduler=p.default,e.EventDispatcher=v.default,e.EaseNumber=_.default,e.TweenNumber=m.default,e.OrbitalControl=y.default,e.WebglNumber=b.default,e.QuatRotation=g.default,e.TouchDetector=E.default,e.Camera=T.default,e.CameraOrtho=w.default,e.CameraPerspective=M.default,e.Ray=x.default,e.Object3D=A.default,e.BinaryLoader=R.default,e.ObjLoader=O.default,e.HDRLoader=S.default,e.EffectComposer=P.default,e.Pass=L.default,e.PassMacro=I.default,e.PassBlur=C.default,e.PassVBlur=k.default,e.PassHBlur=N.default,e.PassFxaa=F.default,e.BatchCopy=D.default,e.BatchAxis=U.default,e.BatchBall=B.default,e.BatchDotsPlane=j.default,e.BatchLine=X.default,e.Scene=V.default,e.View=G.default,e.ShaderLibs=H.default},function(t,e,n){function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=r(n(3)),o=r(n(49)),a=r(n(50)),s=r(n(21)),u=r(n(51)),c=r(n(52)),l=r(n(53)),f=r(n(22)),h=r(n(23));e.glMatrix=i,e.mat2=o,e.mat2d=a,e.mat3=s,e.mat4=u,e.quat=c,e.vec2=l,e.vec3=f,e.vec4=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6,i=(e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),s=(n(59),0),u=void 0,c=n(14),l=n(60),f={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments[2];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),u=o.default.gl,this.parameters=[],this.uniformTextures=[],this._varyings=r,e||(e=c),n||(n=c);var i=this._createShaderProgram(e,!0),a=this._createShaderProgram(n,!1);this._attachShaderProgram(i,a),this.id="Shader"+s++}return i(t,[{key:"bind",value:function(){o.default.shader!==this&&(u.useProgram(this.shaderProgram),o.default.useShader(this),this.uniformTextures=[])}},{key:"uniform",value:function(t,e,n){if("object"!==(void 0===t?"undefined":r(t))){for(var i=f[e]||e,o=!1,a=void 0,s=-1,c=0;c<this.parameters.length;c++)if((a=this.parameters[c]).name===t){o=!0,s=c;break}var l=!1;if(o?(this.shaderProgram[t]=a.uniformLoc,l=a.isNumber):(l="uniform1i"===i||"uniform1f"===i,this.shaderProgram[t]=u.getUniformLocation(this.shaderProgram,t),l?this.parameters.push({name:t,type:i,value:n,uniformLoc:this.shaderProgram[t],isNumber:l}):this.parameters.push({name:t,type:i,value:function(t,e){if(e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}return t.slice?t.slice(0):new Float32Array(t)}(n),uniformLoc:this.shaderProgram[t],isNumber:l}),s=this.parameters.length-1),this.parameters[s].uniformLoc)if(-1===i.indexOf("Matrix")){if(l)(this.parameters[s].value!==n||!o)&&(u[i](this.shaderProgram[t],n),this.parameters[s].value=n);else this.parameters[s].value,u[i](this.shaderProgram[t],n)}else this.parameters[s].value,u[i](this.shaderProgram[t],!1,n)}else this.uniformObject(t)}},{key:"uniformObject",value:function(e){for(var n in e){var r=e[n],i=t.getUniformType(r);if(r.concat&&r[0].concat){for(var o=[],a=0;a<r.length;a++)o=o.concat(r[a]);r=o}this.uniform(n,i,r)}}},{key:"_createShaderProgram",value:function(t,e){var n=e?o.default.VERTEX_SHADER:o.default.FRAGMENT_SHADER,r=u.createShader(n);return u.shaderSource(r,t),u.compileShader(r),u.getShaderParameter(r,u.COMPILE_STATUS)?r:null}},{key:"_attachShaderProgram",value:function(t,e){this.shaderProgram=u.createProgram(),u.attachShader(this.shaderProgram,t),u.attachShader(this.shaderProgram,e),u.deleteShader(t),u.deleteShader(e),this._varyings&&u.transformFeedbackVaryings(this.shaderProgram,this._varyings,u.SEPARATE_ATTRIBS),u.linkProgram(this.shaderProgram)}}]),t}();h.getUniformType=function(t){return!!t.concat?function(t){return 9===t.length?"uniformMatrix3fv":16===t.length?"uniformMatrix4fv":"vec"+t.length}(t[0].concat?t[0]:t):"float"},e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=new(function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this.frameRate=60,this._startTime=(new Date).getTime(),this._deltaTime=0,this._loop()}return r(t,[{key:"addEF",value:function(t,e){e=e||[];var n=this._idTable;return this._enterframeTasks[n]={func:t,params:e},this._idTable++,n}},{key:"removeEF",value:function(t){return void 0!==this._enterframeTasks[t]&&(this._enterframeTasks[t]=null),-1}},{key:"delay",value:function(t,e,n){var r={func:t,params:e,delay:n,time:(new Date).getTime()};this._delayTasks.push(r)}},{key:"defer",value:function(t,e){var n={func:t,params:e};this._deferTasks.push(n)}},{key:"next",value:function(t,e){var n={func:t,params:e};this._nextTasks.push(n)}},{key:"usurp",value:function(t,e){var n={func:t,params:e};this._usurpTask.push(n)}},{key:"_process",value:function(){var t=0,e=void 0,n=void 0;for(t=0;t<this._enterframeTasks.length;t++)null!==(e=this._enterframeTasks[t])&&void 0!==e&&e.func(e.params);for(;this._highTasks.length>0;)(e=this._highTasks.pop()).func(e.params);var r=(new Date).getTime();for(this._deltaTime=(r-this._startTime)/1e3,t=0;t<this._delayTasks.length;t++)r-(e=this._delayTasks[t]).time>e.delay&&(e.func(e.params),this._delayTasks.splice(t,1));for(r=(new Date).getTime(),this._deltaTime=(r-this._startTime)/1e3,n=1e3/this.frameRate;this._deferTasks.length>0;){if(e=this._deferTasks.shift(),!((new Date).getTime()-r<n)){this._deferTasks.unshift(e);break}e.func(e.params)}for(r=(new Date).getTime(),this._deltaTime=(r-this._startTime)/1e3,n=1e3/this.frameRate;this._usurpTask.length>0;)e=this._usurpTask.shift(),(new Date).getTime()-r<n&&e.func(e.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var t=this;this._process(),window.requestAnimationFrame(function(){return t._loop()})}},{key:"deltaTime",get:function(){return this._deltaTime}}]),t}());e.default=i},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=n(2),s=r(n(25)),u=void 0,c=function(t){var e=void 0;return void 0!==t.buffer?e=t.buffer:(e=u.createBuffer(),t.buffer=e),e},l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),u=o.default.gl,this.drawType=e,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!o.default.gl.createVertexArray,this._useVAO=!!this._extVAO&&n}return i(t,[{key:"bufferVertex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(t,"aVertexPosition",3,e),this.normals.length<this.vertices.length&&this.bufferNormal(t,e),this}},{key:"bufferTexCoord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(t,"aTextureCoord",2,e),this}},{key:"bufferNormal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(t,"aNormal",3,e),this}},{key:"bufferIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._drawType=e?u.DYNAMIC_DRAW:u.STATIC_DRAW,t instanceof Array?this._indices=new Uint16Array(t):this._indices=t,this._numItems=this._indices.length,this}},{key:"bufferFlattenData",value:function(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],function(t,e){for(var n=[],r=0;r<t.length;r+=e){for(var i=[],o=0;o<e;o++)i.push(t[r+o]);n.push(i)}return n}(t,n));return this.bufferData(r,e,n,35044,!1),this}},{key:"bufferData",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=0,a=r,s=[];for(n||(n=t[0].length),this._isInstanced=i||this._isInstanced,o=0;o<t.length;o++)for(var u=0;u<t[o].length;u++)s.push(t[o][u]);var c=new Float32Array(s),l=this.getAttribute(e);return l?(l.itemSize=n,l.dataArray=c,l.source=t):this._attributes.push({name:e,source:t,itemSize:n,drawType:a,dataArray:c,isInstanced:i}),this._bufferChanged.push(e),this}},{key:"bufferInstance",value:function(t,e){if(o.default.gl.vertexAttribDivisor){var n=t[0].length;this._numInstance=t.length,this.bufferData(t,e,n,35044,!0)}}},{key:"bind",value:function(t){this.generateBuffers(t),this.hasVAO?u.bindVertexArray(this.vao):(this.attributes.forEach(function(t){u.bindBuffer(u.ARRAY_BUFFER,t.buffer);var e=t.attrPosition;u.vertexAttribPointer(e,t.itemSize,u.FLOAT,!1,0,0),t.isInstanced&&u.vertexAttribDivisor(e,1)}),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.iBuffer))}},{key:"generateBuffers",value:function(t){var e=this;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=u.createVertexArray()),u.bindVertexArray(this._vao),this._attributes.forEach(function(n){if(-1!==e._bufferChanged.indexOf(n.name)){var r=c(n);u.bindBuffer(u.ARRAY_BUFFER,r),u.bufferData(u.ARRAY_BUFFER,n.dataArray,n.drawType);var i=(0,s.default)(u,t,n.name);u.enableVertexAttribArray(i),u.vertexAttribPointer(i,n.itemSize,u.FLOAT,!1,0,0),n.attrPosition=i,n.isInstanced&&u.vertexAttribDivisor(i,1)}}),this._updateIndexBuffer(),u.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(function(n){if(-1!==e._bufferChanged.indexOf(n.name)){var r=c(n);u.bindBuffer(u.ARRAY_BUFFER,r),u.bufferData(u.ARRAY_BUFFER,n.dataArray,n.drawType);var i=(0,s.default)(u,t,n.name);u.enableVertexAttribArray(i),u.vertexAttribPointer(i,n.itemSize,u.FLOAT,!1,0,0),n.attrPosition=i,n.isInstanced&&u.vertexAttribDivisor(i,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}},{key:"unbind",value:function(){this._useVAO&&u.bindVertexArray(null),this._attributes.forEach(function(t){t.isInstanced&&u.vertexAttribDivisor(t.attrPosition,0)})}},{key:"_updateIndexBuffer",value:function(){this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=u.createBuffer()),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.iBuffer),u.bufferData(u.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}},{key:"computeNormals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.generateFaces(),t?this._computeFaceNormals():this._computeVertexNormals()}},{key:"_computeFaceNormals",value:function(){for(var t=void 0,e=void 0,n=[],r=0;r<this._indices.length;r+=3){t=r/3;var i=(e=this._faces[t]).normal;n[e.indices[0]]=i,n[e.indices[1]]=i,n[e.indices[2]]=i}this.bufferNormal(n)}},{key:"_computeVertexNormals",value:function(){for(var t=void 0,e=a.vec3.create(),n=[],r=this.vertices,i=0;i<r.length;i++){a.vec3.set(e,0,0,0);for(var o=0;o<this._faces.length;o++)(t=this._faces[o]).indices.indexOf(i)>=0&&(e[0]+=t.normal[0],e[1]+=t.normal[1],e[2]+=t.normal[2]);a.vec3.normalize(e,e),n.push([e[0],e[1],e[2]])}this.bufferNormal(n)}},{key:"generateFaces",value:function(){for(var t=void 0,e=void 0,n=void 0,r=(a.vec3.create(),a.vec3.create(),a.vec3.create(),this.vertices),i=0;i<this._indices.length;i+=3){var o={indices:[t=this._indices[i],e=this._indices[i+1],n=this._indices[i+2]],vertices:[r[t],r[e],r[n]]};this._faces.push(o)}}},{key:"getAttribute",value:function(t){return this._attributes.find(function(e){return e.name===t})}},{key:"getSource",value:function(t){var e=this.getAttribute(t);return e?e.source:[]}},{key:"vertices",get:function(){return this.getSource("aVertexPosition")}},{key:"normals",get:function(){return this.getSource("aNormal")}},{key:"coords",get:function(){return this.getSource("aTextureCoord")}},{key:"indices",get:function(){return this._indices}},{key:"vertexSize",get:function(){return this.vertices.length}},{key:"faces",get:function(){return this._faces}},{key:"attributes",get:function(){return this._attributes}},{key:"hasVAO",get:function(){return this._hasVAO}},{key:"vao",get:function(){return this._vao}},{key:"numInstance",get:function(){return this._numInstance}},{key:"isInstanced",get:function(){return this._isInstanced}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),o=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._mesh=e,this._shader=n}return r(t,[{key:"draw",value:function(){this._shader.bind(),i.default.draw(this.mesh)}},{key:"mesh",get:function(){return this._mesh}},{key:"shader",get:function(){return this._shader}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={maskNoiseRadius:10,minSpriteScale:.2,maxSpriteScale:.25,margin:50,enableCulling:!0,mouseFollowEasing:.1,numMicrobes:300,circleRadius:50,rolloverRadius:200,circleColor:[8,0,210],leadingDotSize:10,leadingDotColor:[248,105,159],leadingDotEasing:.5,dotScaleSpeed:.2,rolloverColorSpeed:.1,scrollEasing:1,noiseMovingInterval:50}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(1)),a=n(44),s=r(n(45)),u=r(n(96)),c=void 0,l=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._children=[],this._mtx=mat4.create(),this._mtxParent=mat4.create(),this._vTemp=vec3.create(),this._x=0,this._y=0,this._rotation=0,this._sx=1,this._sy=1,this.width=100,this.height=100,this._needUpdate=!0,this.visible=!0,this.isCulled=!1,this.shader=(0,a.getShader)(s.default,u.default),c||(c=o.default.Geom.plane(1,1,1)),this.mesh=c}return i(t,[{key:"addChild",value:function(t){this._children.push(t),t.setParentMatrix(this.matrix)}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);e>-1&&this._children.splice(e,1)}},{key:"updateMatrix",value:function(){var t=this;this._needUpdate&&(mat4.identity(this._mtx),vec3.set(this._vTemp,this._x,this._y,0),mat4.translate(this._mtx,this._mtx,this._vTemp),vec3.set(this._vTemp,this._sx,this._sy,1),mat4.scale(this._mtx,this._mtx,this._vTemp),mat4.rotateZ(this._mtx,this._mtx,this._rotation),mat4.mul(this._mtx,this._mtxParent,this._mtx),this._needUpdate=!1,this._children.forEach(function(e){e.setParentMatrix(t.matrix)}))}},{key:"setParentMatrix",value:function(t){mat4.copy(this._mtxParent,t),this._needUpdate=!0}},{key:"render",value:function(){this.isCulled||this.visible&&(this.updateMatrix(),this._children.length>0&&this._children.forEach(function(t){t.render()}))}},{key:"matrix",get:function(){return this._needUpdate&&this.updateMatrix(),this._mtx}},{key:"x",set:function(t){this._x=t,this._needUpdate=!0},get:function(){return this._x}},{key:"y",set:function(t){this._y=t,this._needUpdate=!0},get:function(){return this._y}},{key:"scaleX",set:function(t){this._sx=t,this._needUpdate=!0},get:function(){return this._sx}},{key:"scaleY",set:function(t){this._sy=t,this._needUpdate=!0},get:function(){return this._sy}},{key:"rotation",set:function(t){this._rotation=t,this._needUpdate=!0},get:function(){return this._rotation}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(6)),i={},o=void 0;i.plane=function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xy",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,a=[],s=[],u=[],c=[],l=t/n,f=e/n,h=1/n,d=.5*-t,p=.5*-e,v=0,_=0;_<n;_++)for(var m=0;m<n;m++){var y=l*_+d,g=f*m+p,E=_/n,b=m/n;"xz"===i?(a.push([y,0,g+f]),a.push([y+l,0,g+f]),a.push([y+l,0,g]),a.push([y,0,g]),s.push([E,1-(b+h)]),s.push([E+h,1-(b+h)]),s.push([E+h,1-b]),s.push([E,1-b]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0])):"yz"===i?(a.push([0,g,y]),a.push([0,g,y+l]),a.push([0,g+f,y+l]),a.push([0,g+f,y]),s.push([E,b]),s.push([E+h,b]),s.push([E+h,b+h]),s.push([E,b+h]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0])):(a.push([y,g,0]),a.push([y+l,g,0]),a.push([y+l,g+f,0]),a.push([y,g+f,0]),s.push([E,b]),s.push([E+h,b]),s.push([E+h,b+h]),s.push([E,b+h]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1])),u.push(4*v+0),u.push(4*v+1),u.push(4*v+2),u.push(4*v+0),u.push(4*v+2),u.push(4*v+3),v++}var T=new r.default(o);return T.bufferVertex(a),T.bufferTexCoord(s),T.bufferIndex(u),T.bufferNormal(c),T},i.sphere=function(t,e){function n(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n/e*Math.PI-.5*Math.PI,a=r/e*Math.PI*2,s=i?1:t,u=[];u[1]=Math.sin(o)*s;var c=Math.cos(o)*s;return u[0]=Math.cos(a)*c,u[2]=Math.sin(a)*c,u[0]=Math.floor(1e4*u[0])/1e4,u[1]=Math.floor(1e4*u[1])/1e4,u[2]=Math.floor(1e4*u[2])/1e4,u}for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,a=[],s=[],u=[],c=[],l=1/e,f=0,h=0;h<e;h++)for(var d=0;d<e;d++){a.push(n(h,d)),a.push(n(h+1,d)),a.push(n(h+1,d+1)),a.push(n(h,d+1)),c.push(n(h,d,!0)),c.push(n(h+1,d,!0)),c.push(n(h+1,d+1,!0)),c.push(n(h,d+1,!0));var p=d/e,v=h/e;s.push([1-p,v]),s.push([1-p,v+l]),s.push([1-p-l,v+l]),s.push([1-p-l,v]),u.push(4*f+0),u.push(4*f+1),u.push(4*f+2),u.push(4*f+0),u.push(4*f+2),u.push(4*f+3),f++}i&&u.reverse();var _=new r.default(o);return _.bufferVertex(a),_.bufferTexCoord(s),_.bufferIndex(u),_.bufferNormal(c),_},i.cube=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=t/2,a=(e=e||t)/2,s=(n=n||t)/2,u=[],c=[],l=[],f=[],h=0;u.push([-o,a,-s]),u.push([o,a,-s]),u.push([o,-a,-s]),u.push([-o,-a,-s]),f.push([0,0,-1]),f.push([0,0,-1]),f.push([0,0,-1]),f.push([0,0,-1]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),l.push(4*h+0),l.push(4*h+1),l.push(4*h+2),l.push(4*h+0),l.push(4*h+2),l.push(4*h+3),h++,u.push([o,a,-s]),u.push([o,a,s]),u.push([o,-a,s]),u.push([o,-a,-s]),f.push([1,0,0]),f.push([1,0,0]),f.push([1,0,0]),f.push([1,0,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),l.push(4*h+0),l.push(4*h+1),l.push(4*h+2),l.push(4*h+0),l.push(4*h+2),l.push(4*h+3),h++,u.push([o,a,s]),u.push([-o,a,s]),u.push([-o,-a,s]),u.push([o,-a,s]),f.push([0,0,1]),f.push([0,0,1]),f.push([0,0,1]),f.push([0,0,1]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),l.push(4*h+0),l.push(4*h+1),l.push(4*h+2),l.push(4*h+0),l.push(4*h+2),l.push(4*h+3),h++,u.push([-o,a,s]),u.push([-o,a,-s]),u.push([-o,-a,-s]),u.push([-o,-a,s]),f.push([-1,0,0]),f.push([-1,0,0]),f.push([-1,0,0]),f.push([-1,0,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),l.push(4*h+0),l.push(4*h+1),l.push(4*h+2),l.push(4*h+0),l.push(4*h+2),l.push(4*h+3),h++,u.push([o,a,-s]),u.push([-o,a,-s]),u.push([-o,a,s]),u.push([o,a,s]),f.push([0,1,0]),f.push([0,1,0]),f.push([0,1,0]),f.push([0,1,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),l.push(4*h+0),l.push(4*h+1),l.push(4*h+2),l.push(4*h+0),l.push(4*h+2),l.push(4*h+3),h++,u.push([o,-a,s]),u.push([-o,-a,s]),u.push([-o,-a,-s]),u.push([o,-a,-s]),f.push([0,-1,0]),f.push([0,-1,0]),f.push([0,-1,0]),f.push([0,-1,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),l.push(4*h+0),l.push(4*h+1),l.push(4*h+2),l.push(4*h+0),l.push(4*h+2),l.push(4*h+3),h++;var d=new r.default(i);return d.bufferVertex(u),d.bufferTexCoord(c),d.bufferIndex(l),d.bufferNormal(f),d},i.skybox=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=[],i=[],o=[],a=[],s=0;n.push([t,t,-t]),n.push([-t,t,-t]),n.push([-t,-t,-t]),n.push([t,-t,-t]),a.push([0,0,-1]),a.push([0,0,-1]),a.push([0,0,-1]),a.push([0,0,-1]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),o.push(4*s+0),o.push(4*s+1),o.push(4*s+2),o.push(4*s+0),o.push(4*s+2),o.push(4*s+3),s++,n.push([t,-t,-t]),n.push([t,-t,t]),n.push([t,t,t]),n.push([t,t,-t]),a.push([1,0,0]),a.push([1,0,0]),a.push([1,0,0]),a.push([1,0,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),o.push(4*s+0),o.push(4*s+1),o.push(4*s+2),o.push(4*s+0),o.push(4*s+2),o.push(4*s+3),s++,n.push([-t,t,t]),n.push([t,t,t]),n.push([t,-t,t]),n.push([-t,-t,t]),a.push([0,0,1]),a.push([0,0,1]),a.push([0,0,1]),a.push([0,0,1]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),o.push(4*s+0),o.push(4*s+1),o.push(4*s+2),o.push(4*s+0),o.push(4*s+2),o.push(4*s+3),s++,n.push([-t,-t,t]),n.push([-t,-t,-t]),n.push([-t,t,-t]),n.push([-t,t,t]),a.push([-1,0,0]),a.push([-1,0,0]),a.push([-1,0,0]),a.push([-1,0,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),o.push(4*s+0),o.push(4*s+1),o.push(4*s+2),o.push(4*s+0),o.push(4*s+2),o.push(4*s+3),s++,n.push([t,t,t]),n.push([-t,t,t]),n.push([-t,t,-t]),n.push([t,t,-t]),a.push([0,1,0]),a.push([0,1,0]),a.push([0,1,0]),a.push([0,1,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),o.push(4*s+0),o.push(4*s+1),o.push(4*s+2),o.push(4*s+0),o.push(4*s+2),o.push(4*s+3),s++,n.push([t,-t,-t]),n.push([-t,-t,-t]),n.push([-t,-t,t]),n.push([t,-t,t]),a.push([0,-1,0]),a.push([0,-1,0]),a.push([0,-1,0]),a.push([0,-1,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),o.push(4*s+0),o.push(4*s+1),o.push(4*s+2),o.push(4*s+0),o.push(4*s+2),o.push(4*s+3);var u=new r.default(e);return u.bufferVertex(n),u.bufferTexCoord(i),u.bufferIndex(o),u.bufferNormal(a),u},i.bigTriangle=function(){if(!o){(o=new r.default).bufferData([[-1,-1],[-1,4],[4,-1]],"aPosition",2),o.bufferIndex([2,1,0])}return o},e.default=i},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(4)),a=r(n(16)),s=r(n(31)),u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3],function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.shader=new o.default(s.default.bigTriangleVert,e),this._width=n,this._height=r,this._uniforms={},this._hasOwnFbo=this._width>0&&this._width>0,this._uniforms={},this._hasOwnFbo&&(this._fbo=new a.default(this._width,this.height,mParmas))}return i(t,[{key:"uniform",value:function(t,e){this._uniforms[t]=e}},{key:"render",value:function(t){this.shader.bind(),this.shader.uniform("texture","uniform1i",0),t.bind(0),this.shader.uniform(this._uniforms)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"fbo",get:function(){return this._fbo}},{key:"hasFbo",get:function(){return this._hasOwnFbo}}]),t}();e.default=u},function(t,e){t.exports="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(41)),o=n(1),a=r(o),s={},u=[],c=void 0;s.init=function(t){c=t;var e={};for(var n in u=i.default.map(function(t){var n=function(t){var e=t.split(".");return e[e.length-1]}(t.url),r=function(t){return c.find(function(e){return e.id===t}).file}(t.id),i=void 0;switch(n){case"json":var s=JSON.parse(r);return{id:t.id,file:s};case"jpg":case"png":return i=new o.GLTexture(r),{id:t.id,file:i};case"hdr":var u=t.id.split("_")[0];i=a.default.HDRLoader.parse(r);var l={id:t.id,file:i};return e[u]||(e[u]=[]),e[u].push(l),l;case"dds":return i=o.GLCubeTexture.parseDDS(r),{id:t.id,file:i};case"obj":var f=o.ObjLoader.parse(r);return{id:t.id,file:f}}}),e)if(6==e[n].length){var r=[s.get(n+"_posx"),s.get(n+"_negx"),s.get(n+"_posy"),s.get(n+"_negy"),s.get(n+"_posz"),s.get(n+"_negz")],l=new a.default.GLCubeTexture(r);u.push({id:n,file:l})}u.length},s.get=function(t){var e=u.find(function(e){return e.id===t});return e?e.file:null},e.default=s},function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(t,e,n){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(26)),s=void r(n(15)),u=void 0,c=!1,l=void 0,f=function(){return!!o.default.webgl2||!!(l=o.default.getExtension("WEBGL_draw_buffers"))},h=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),s=o.default.gl,u=o.default.checkExtension("WEBGL_depth_texture"),this.width=e,this.height=n,this._numTargets=i,this._multipleTargets=i>1,this._parameters=r,c||f(),this._multipleTargets&&this._checkMaxNumRenderTarget(),this._init()}return i(t,[{key:"_init",value:function(){if(this._initTextures(),this.frameBuffer=s.createFramebuffer(),s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),o.default.webgl2){for(var t=[],e=0;e<this._numTargets;e++)s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+e,s.TEXTURE_2D,this._textures[e].texture,0),t.push(s["COLOR_ATTACHMENT"+e]);s.drawBuffers(t),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var n=0;n<this._numTargets;n++)s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+n,s.TEXTURE_2D,this._textures[n].texture,0);if(this._multipleTargets){for(var r=[],i=0;i<this._numTargets;i++)r.push(l["COLOR_ATTACHMENT"+i+"_WEBGL"]);l.drawBuffersWEBGL(r)}u&&s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,this.glDepthTexture.texture,0)}s.checkFramebufferStatus(s.FRAMEBUFFER),s.FRAMEBUFFER_COMPLETE,s.bindTexture(s.TEXTURE_2D,null),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,null),this.clear()}},{key:"_checkMaxNumRenderTarget",value:function(){var t=o.default.gl.getParameter(l.MAX_DRAW_BUFFERS_WEBGL);this._numTargets>t&&(this._numTargets=t)}},{key:"_initTextures",value:function(){this._textures=[];for(var t=0;t<this._numTargets;t++){var e=this._createTexture();this._textures.push(e)}o.default.webgl2?this.glDepthTexture=this._createTexture(s.DEPTH_COMPONENT16,s.UNSIGNED_SHORT,s.DEPTH_COMPONENT,!0):this.glDepthTexture=this._createTexture(s.DEPTH_COMPONENT,s.UNSIGNED_SHORT,s.DEPTH_COMPONENT,{minFilter:o.default.LINEAR})}},{key:"_createTexture",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Object.assign({},this._parameters);for(var u in n||(n=t),i.internalFormat=t||s.RGBA,i.format=n,i.type=e||i.type||o.default.UNSIGNED_BYTE,r)i[u]=r[u];return new a.default(null,i,this.width,this.height)}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&o.default.viewport(0,0,this.width,this.height),s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&o.default.viewport(0,0,o.default.width,o.default.height),s.bindFramebuffer(s.FRAMEBUFFER,null),this._textures.forEach(function(t){t.generateMipmap()})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.bind(),o.default.clear(t,e,n,r),this.unbind()}},{key:"getTexture",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[t]}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}},{key:"resize",value:function(t,e){if(this._textures.forEach(function(n){return n.resize(t,e)}),this.width=t,this.height=e,s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),o.default.webgl2){for(var n=[],r=0;r<this._numTargets;r++)s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+r,s.TEXTURE_2D,this._textures[r].texture,0),n.push(s["COLOR_ATTACHMENT"+r]);s.drawBuffers(n),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var i=0;i<this._numTargets;i++)s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+i,s.TEXTURE_2D,this._textures[i].texture,0);if(this._multipleTargets){for(var a=[],c=0;c<this._numTargets;c++)a.push(l["COLOR_ATTACHMENT"+c+"_WEBGL"]);l.drawBuffersWEBGL(a)}u&&s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,this.glDepthTexture.texture,0)}s.checkFramebufferStatus(s.FRAMEBUFFER),s.FRAMEBUFFER_COMPLETE,s.bindTexture(s.TEXTURE_2D,null),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindFramebuffer(s.FRAMEBUFFER,null),this.clear()}},{key:"showParameters",value:function(){this._textures[0].showParameters()}},{key:"minFilter",get:function(){return this._textures[0].minFilter},set:function(t){this._textures.forEach(function(e){e.minFilter=t})}},{key:"magFilter",get:function(){return this._textures[0].magFilter},set:function(t){this._textures.forEach(function(e){e.magFilter=t})}},{key:"wrapS",get:function(){return this._textures[0].wrapS},set:function(t){this._textures.forEach(function(e){e.wrapS=t})}},{key:"wrapT",get:function(){return this._textures[0].wrapT},set:function(t){this._textures.forEach(function(e){e.wrapT=t})}},{key:"numTargets",get:function(){return this._numTargets}},{key:"texture",get:function(){return this._textures[0]}}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(5)),o=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.easing=r,this._value=e,this._targetValue=e,this._efIndex=i.default.addEF(function(){return n._update()})}return r(t,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:"setTo",value:function(t){this._targetValue=this._value=t}},{key:"add",value:function(t){this._targetValue+=t}},{key:"limit",value:function(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){i.default.removeEF(this._efIndex)}},{key:"value",set:function(t){this._targetValue=t},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=i.vec3.create(),a=i.vec3.create(),s=i.vec3.create(),u=i.vec3.create(),c=i.vec3.create(),l=i.vec3.create(),f=i.vec3.create(),h=i.vec3.create(),d=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.origin=i.vec3.clone(e),this.direction=i.vec3.clone(n)}return r(t,[{key:"at",value:function(t){return i.vec3.copy(u,this.direction),i.vec3.scale(u,u,t),i.vec3.add(u,u,this.origin),u}},{key:"lookAt",value:function(t){i.vec3.sub(this.direction,t,this.origin),i.vec3.normalize(this.origin,this.origin)}},{key:"closestPointToPoint",value:function(t){var e=i.vec3.create();i.vec3.sub(t,this.origin);var n=i.vec3.dot(e,this.direction);return n<0?i.vec3.clone(this.origin):(i.vec3.copy(e,this.direction),i.vec3.scale(e,e,n),i.vec3.add(e,e,this.origin),e)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=i.vec3.create();i.vec3.sub(e,t,this.origin);var n=i.vec3.dot(e,this.direction);return n<0?i.vec3.squaredDistance(this.origin,t):(i.vec3.copy(e,this.direction),i.vec3.scale(e,e,n),i.vec3.add(e,e,this.origin),i.vec3.squaredDistance(e,t))}},{key:"intersectsSphere",value:function(t,e){return this.distanceToPoint(t)<=e}},{key:"intersectSphere",value:function(t,e){var n=i.vec3.create();i.vec3.sub(n,t,this.origin);var r=i.vec3.dot(n,this.direction),o=i.vec3.dot(n,n)-r*r,a=e*e;if(o>a)return null;var s=Math.sqrt(a-o),u=r-s,c=r+s;return u<0&&c<0?null:u<0?this.at(c):this.at(u)}},{key:"distanceToPlane",value:function(t,e){i.vec3.dot(e,this.direction)}},{key:"intersectTriangle",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i.vec3.copy(o,t),i.vec3.copy(a,e),i.vec3.copy(s,n),i.vec3.sub(c,a,o),i.vec3.sub(l,s,o),i.vec3.cross(f,c,l);var u=i.vec3.dot(this.direction,f),d=void 0;if(u>0){if(r)return null;d=1}else{if(!(u<0))return null;d=-1,u=-u}i.vec3.sub(h,this.origin,o),i.vec3.cross(l,h,l);var p=d*i.vec3.dot(this.direction,l);if(p<0)return null;i.vec3.cross(c,c,h);var v=d*i.vec3.dot(this.direction,c);if(v<0)return null;if(p+v>u)return null;var _=-d*i.vec3.dot(h,f);return _<0?null:this.at(_/u)}}]),t}();e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=[0,1,0],a=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._matrix=i.mat4.create(),this._quat=i.quat.create(),this._orientation=i.mat4.create(),this._projection=i.mat4.create(),this.position=vec3.create(),this._eye=vec3.create(),this._center=vec3.create()}return r(t,[{key:"lookAt",value:function(t,e,n){vec3.copy(this._eye,t),vec3.copy(this._center,e),vec3.copy(this.position,t),i.mat4.identity(this._matrix),i.mat4.lookAt(this._matrix,t,e,o)}},{key:"setFromOrientation",value:function(t,e,n,r){i.quat.set(this._quat,t,e,n,r),i.mat4.fromQuat(this._orientation,this._quat),i.mat4.translate(this._matrix,this._orientation,this.positionOffset)}},{key:"setProjection",value:function(t){this._projection=i.mat4.clone(t)}},{key:"setView",value:function(t){this._matrix=i.mat4.clone(t)}},{key:"setFromViewProj",value:function(t,e){this.setView(t),this.setProjection(e)}},{key:"matrix",get:function(){return this._matrix}},{key:"viewMatrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}},{key:"projectionMatrix",get:function(){return this._projection}},{key:"eye",get:function(){return this._eye}},{key:"center",get:function(){return this._center}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._req=new XMLHttpRequest,this._req.addEventListener("load",function(t){return e._onLoaded(t)}),this._req.addEventListener("progress",function(t){return e._onProgress(t)}),n&&(this._req.responseType="arraybuffer")}return r(t,[{key:"load",value:function(t,e){this._callback=e,this._req.open("GET",t),this._req.send()}},{key:"_onLoaded",value:function(){this._callback(this._req.response)}},{key:"_onProgress",value:function(){}}]),t}();e.default=i},function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=n[0],d=n[1],p=n[2],v=n[3],_=n[4],m=n[5],y=n[6],g=n[7],E=n[8];return t[0]=h*r+d*a+p*c,t[1]=h*i+d*s+p*l,t[2]=h*o+d*u+p*f,t[3]=v*r+_*a+m*c,t[4]=v*i+_*s+m*l,t[5]=v*o+_*u+m*f,t[6]=y*r+g*a+E*c,t[7]=y*i+g*s+E*l,t[8]=y*o+g*u+E*f,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new o.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new o.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,a,s,u,c){var l=new o.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=a,l[6]=s,l[7]=u,l[8]=c,l},e.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,h=-l*o+s*u,d=c*o-a*u,p=n*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=h*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},e.multiply=r,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h*r+d*a+c,t[7]=h*i+d*s+l,t[8]=h*o+d*u+f,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*i+h*s,t[2]=d*o+h*u,t[3]=d*a-h*r,t[4]=d*s-h*i,t[5]=d*u-h*o,t[6]=c,t[7]=l,t[8]=f,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,d=i*s,p=i*u,v=o*a,_=o*s,m=o*u;return t[0]=1-f-p,t[3]=l-m,t[6]=h+_,t[1]=l+m,t[4]=1-c-p,t[7]=d-v,t[2]=h-_,t[5]=d+v,t[8]=1-c-f,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],_=e[14],m=e[15],y=n*s-r*a,g=n*u-i*a,E=n*c-o*a,b=r*u-i*s,T=r*c-o*s,w=i*c-o*u,M=l*v-f*p,x=l*_-h*p,A=l*m-d*p,R=f*_-h*v,O=f*m-d*v,S=h*m-d*_,P=y*S-g*O+E*R+b*A-T*x+w*M;return P?(P=1/P,t[0]=(s*S-u*O+c*R)*P,t[1]=(u*A-a*S-c*x)*P,t[2]=(a*O-s*A+c*M)*P,t[3]=(i*O-r*S-o*R)*P,t[4]=(n*S-i*A+o*x)*P,t[5]=(r*A-n*O-o*M)*P,t[6]=(v*w-_*T+m*b)*P,t[7]=(_*E-p*w-m*g)*P,t[8]=(p*T-v*E+m*y)*P,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=e[0],d=e[1],p=e[2],v=e[3],_=e[4],m=e[5],y=e[6],g=e[7],E=e[8];return Math.abs(n-h)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-_)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(u-m)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-g)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(f-E)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.mul=r,e.sub=i},function(t,e,n){function r(){var t=new p.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var r=new p.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function f(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function h(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new p.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=a,e.multiply=s,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=c,e.squaredDistance=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=h,e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,h=u*o;return t[0]=e[0]*c+n[0]*l+r[0]*f+i[0]*h,t[1]=e[1]*c+n[1]*l+r[1]*f+i[1]*h,t[2]=e[2]*c+n[2]*l+r[2]*f+i[2]*h,t},e.random=function(t,e){e=e||1;var n=2*p.RANDOM()*Math.PI,r=2*p.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,h=c*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=l*c+d*-a+f*-u-h*-s,t[1]=f*c+d*-s+h*-a-l*-u,t[2]=h*c+d*-u+l*-s-f*-a,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);h(n,n),h(r,r);var i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=p.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.sub=a,e.mul=s,e.div=u,e.dist=c,e.sqrDist=l,e.len=i,e.sqrLen=f,e.forEach=function(){var t=r();return function(e,n,r,i,o,a){var s,u=void 0;for(n||(n=3),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}()},function(t,e,n){function r(){var t=new d.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function a(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function l(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function f(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new d.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,n,r){var i=new d.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=i,e.multiply=o,e.divide=a,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=s,e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.distance=u,e.squaredDistance=c,e.length=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=h,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},e.random=function(t,e){return e=e||1,t[0]=d.RANDOM(),t[1]=d.RANDOM(),t[2]=d.RANDOM(),t[3]=d.RANDOM(),h(t,t),s(t,t,e),t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},e.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,h=c*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=l*c+d*-a+f*-u-h*-s,t[1]=f*c+d*-s+h*-a-l*-u,t[2]=h*c+d*-u+l*-s-f*-a,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=d.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=d.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))};var d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.sub=i,e.mul=o,e.div=a,e.dist=u,e.sqrDist=c,e.len=l,e.sqrLen=f,e.forEach=function(){var t=r();return function(e,n,r,i,o,a){var s,u=void 0;for(n||(n=4),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}()},function(t,e,n){t.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[n]&&(e.cacheAttribLoc[n]=t.getAttribLocation(e,n)),e.cacheAttribLoc[n]}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return 0!==t&&!(t&t-1)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(n(61)),s=r(n(15)),u=r(n(0)),c=r(n(5)),l=void 0,f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),l=u.default.gl,this._source=e,this._getDimension(e,i,o),this._sourceType=n.type||function(t){var e=u.default.UNSIGNED_BYTE;return t instanceof Array?e=u.default.UNSIGNED_BYTE:t instanceof Uint8Array?e=u.default.UNSIGNED_BYTE:t instanceof Float32Array?e=u.default.FLOAT:t instanceof HTMLImageElement?e="image":t instanceof HTMLCanvasElement?e="canvas":t instanceof HTMLVideoElement&&(e="video"),e}(e),this._checkSource(),this._texelType=this._getTexelType(),this._isTextureReady=!0,this._params=(0,a.default)(n,e,this._width,this._height),this._checkMipmap(),this._checkWrapping(),this._texture=l.createTexture(),"video"===this._sourceType?(this._isTextureReady=!1,c.default.addEF(function(){return r._loop()})):this._uploadTexture()}return o(t,[{key:"_loop",value:function(){4==this._source.readyState&&(this._isTextureReady=!0,this._uploadTexture())}},{key:"_uploadTexture",value:function(){if(l.bindTexture(l.TEXTURE_2D,this._texture),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1),this._isSourceHtmlElement()?l.texImage2D(l.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._texelType,this._source):l.texImage2D(l.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._texelType,this._source),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this._params.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._params.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this._params.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this._params.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._params.premultiplyAlpha),this._params.anisotropy>0){var t=u.default.getExtension("EXT_texture_filter_anisotropic");if(t){var e=l.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT),n=Math.min(e,this._params.anisotropy);l.texParameterf(l.TEXTURE_2D,t.TEXTURE_MAX_ANISOTROPY_EXT,n)}}this._generateMipmap&&l.generateMipmap(l.TEXTURE_2D),l.bindTexture(l.TEXTURE_2D,null)}},{key:"bind",value:function(e){void 0===e&&(e=0),u.default.shader&&(l.activeTexture(l.TEXTURE0+e),this._isTextureReady?l.bindTexture(l.TEXTURE_2D,this._texture):l.bindTexture(l.TEXTURE_2D,t.blackTexture().texture),this._bindIndex=e)}},{key:"resize",value:function(t,e){this._width=t,this._height=e,this._uploadTexture()}},{key:"updateTexture",value:function(t){this._source=t,this._checkSource(),this._uploadTexture()}},{key:"generateMipmap",value:function(){this._generateMipmap&&(l.bindTexture(l.TEXTURE_2D,this._texture),l.generateMipmap(l.TEXTURE_2D),l.bindTexture(l.TEXTURE_2D,null))}},{key:"showParameters",value:function(){for(var t in this._params);}},{key:"_getDimension",value:function(t,e,n){t?(this._width=t.width||t.videoWidth,this._height=t.height||t.videoWidth,this._width=this._width||e,this._height=this._height||n,this._width&&this._height||(this._width=this._height=Math.sqrt(t.length/4))):(this._width=e,this._height=n)}},{key:"_checkSource",value:function(){this._source&&(this._sourceType===u.default.UNSIGNED_BYTE?this._source instanceof Uint8Array||(this._source=new Uint8Array(this._source)):this._sourceType===u.default.FLOAT&&(this._source instanceof Float32Array||(this._source=new Float32Array(this._source))))}},{key:"_getTexelType",value:function(){return this._isSourceHtmlElement()?u.default.UNSIGNED_BYTE:u.default[s.default[this._sourceType]]||this._sourceType}},{key:"_checkMipmap",value:function(){this._generateMipmap=this._params.mipmap,i(this._width)&&i(this._height)||(this._generateMipmap=!1),-1==s.default[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}},{key:"_checkWrapping",value:function(){this._generateMipmap||(this._params.wrapS=u.default.CLAMP_TO_EDGE,this._params.wrapT=u.default.CLAMP_TO_EDGE)}},{key:"_isSourceHtmlElement",value:function(){return"image"===this._sourceType||"video"===this._sourceType||"canvas"===this._sourceType}},{key:"minFilter",get:function(){return this._params.minFilter},set:function(t){this._params.minFilter=t,this._checkMipmap(),l.bindTexture(l.TEXTURE_2D,this._texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._params.minFilter),l.bindTexture(l.TEXTURE_2D,null),this.generateMipmap()}},{key:"magFilter",get:function(){return this._params.minFilter},set:function(t){this._params.magFilter=t,l.bindTexture(l.TEXTURE_2D,this._texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this._params.magFilter),l.bindTexture(l.TEXTURE_2D,null)}},{key:"wrapS",get:function(){return this._params.wrapS},set:function(t){this._params.wrapS=t,this._checkWrapping(),l.bindTexture(l.TEXTURE_2D,this._texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this._params.wrapS),l.bindTexture(l.TEXTURE_2D,null)}},{key:"wrapT",get:function(){return this._params.wrapT},set:function(t){this._params.wrapT=t,this._checkWrapping(),l.bindTexture(l.TEXTURE_2D,this._texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this._params.wrapT),l.bindTexture(l.TEXTURE_2D,null)}},{key:"texelType",get:function(){return this._texelType}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"texture",get:function(){return this._texture}},{key:"isTextureReady",get:function(){return this._isTextureReady}}]),t}(),h=void 0,d=void 0,p=void 0;f.whiteTexture=function(){if(void 0===h){var t=document.createElement("canvas");t.width=t.height=2;var e=t.getContext("2d");e.fillStyle="#fff",e.fillRect(0,0,2,2),h=new f(t)}return h},f.greyTexture=function(){if(void 0===d){var t=document.createElement("canvas");t.width=t.height=2;var e=t.getContext("2d");e.fillStyle="rgb(127, 127, 127)",e.fillRect(0,0,2,2),d=new f(t)}return d},f.blackTexture=function(){if(void 0===p){var t=document.createElement("canvas");t.width=t.height=2;var e=t.getContext("2d");e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,2,2),p=new f(t)}return p},e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=!0;try{document.createEvent("CustomEvent")}catch(t){i=!1}var o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._eventListeners={}}return r(t,[{key:"addEventListener",value:function(t,e){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[t]||(this._eventListeners[t]=[]),this._eventListeners[t].push(e),this}},{key:"on",value:function(t,e){return this.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var n=this._eventListeners[t];if(void 0===n)return this;for(var r=n.length,i=0;i<r;i++)n[i]===e&&(n.splice(i,1),i--,r--);return this}},{key:"off",value:function(t,e){return this.removeEventListener(t,e)}},{key:"dispatchEvent",value:function(t){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var e=t.type;try{null===t.target&&(t.target=this),t.currentTarget=this}catch(r){var n={type:e,detail:t.detail,dispatcher:this};return this.dispatchEvent(n)}var r=this._eventListeners[e];if(null!==r&&void 0!==r)for(var i=this._copyArray(r),o=i.length,a=0;a<o;a++){i[a].call(this,t)}return this}},{key:"dispatchCustomEvent",value:function(t,e){var n=void 0;return i?((n=document.createEvent("CustomEvent")).dispatcher=this,n.initCustomEvent(t,!1,!1,e)):n={type:t,detail:e,dispatcher:this},this.dispatchEvent(n)}},{key:"trigger",value:function(t,e){return this.dispatchCustomEvent(t,e)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var t in this._eventListeners)if(this._eventListeners.hasOwnProperty(t)){for(var e=this._eventListeners[t],n=e.length,r=0;r<n;r++)e[r]=null;delete this._eventListeners[t]}this._eventListeners=null}}},{key:"_copyArray",value:function(t){for(var e=new Array(t.length),n=e.length,r=0;r<n;r++)e[r]=t[r];return e}}]),t}();e.default=o},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(17)),a=r(n(5)),s=n(2),u=function(t,e){var n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n},c=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._target=e,this._listenerTarget=r,this._mouse={},this._preMouse={},this.center=s.vec3.create(),this._up=s.vec3.fromValues(0,1,0),this.radius=new o.default(i),this.position=s.vec3.fromValues(0,0,this.radius.value),this.positionOffset=s.vec3.create(),this._rx=new o.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new o.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=function(t){return n._onWheel(t)},this._downBind=function(t){return n._onDown(t)},this._moveBind=function(t){return n._onMove(t)},this._upBind=function(){return n._onUp()},this.connect(),a.default.addEF(function(){return n._loop()})}return i(t,[{key:"connect",value:function(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}},{key:"lock",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=t,this._isLockRotation=t,this._isMouseDown=!1}},{key:"lockZoom",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=t}},{key:"lockRotation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockRotation=t}},{key:"inverseControl",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=t}},{key:"_onDown",value:function(t){this._isLockRotation||(this._isMouseDown=!0,u(t,this._mouse),u(t,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(t){if(!this._isLockRotation&&(u(t,this._mouse),t.touches&&t.preventDefault(),this._isMouseDown)){var e=-(this._mouse.x-this._preMouse.x);this._isInvert&&(e*=-1),this._ry.value=this._preRY-.01*e*this.sensitivity;var n=-(this._mouse.y-this._preMouse.y);this._isInvert&&(n*=-1),this._rx.value=this._preRX-.01*n*this.sensitivity}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(t){if(!this._isLockZoom){var e=t.wheelDelta,n=t.detail,r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this.radius.add(2*-r)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var t=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*t,s.vec3.add(this.position,this.position,this.positionOffset)}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(19)),o=n(2),s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=o.vec3.clone([0,0,15]),r=o.vec3.create(),i=o.vec3.clone([0,-1,0]);return t.lookAt(n,r,i),t.ortho(1,-1,1,-1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"setBoundary",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.ortho(t,e,n,r,i,o)}},{key:"ortho",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.left=t,this.right=e,this.top=n,this.bottom=r,mat4.ortho(this._projection,t,e,r,n,i,o)}}]),e}();e.default=s},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(19)),s=r(n(18)),u=n(2),c=u.mat4.create(),l=u.vec3.create(),f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"setPerspective",value:function(t,e,n,r){this._fov=t,this._near=n,this._far=r,this._aspectRatio=e,u.mat4.perspective(this._projection,t,e,n,r)}},{key:"setAspectRatio",value:function(t){this._aspectRatio=t,u.mat4.perspective(this.projection,this._fov,t,this._near,this._far)}},{key:"generateRay",value:function(t,e){var n=this.projectionMatrix,r=this.viewMatrix;return u.mat4.multiply(c,n,r),u.mat4.invert(c,c),u.vec3.transformMat4(l,t,c),u.vec3.sub(l,l,this.position),u.vec3.normalize(l,l),e?(e.origin=this.position,e.direction=l):e=new s.default(this.position,l),e}}]),e}();e.default=f},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(12)),o=r(n(32)),a=r(n(33)),s=r(n(34)),u=r(n(14)),c=r(n(73)),l=r(n(74)),f={simpleColorFrag:i.default,bigTriangleVert:o.default,generalVert:a.default,copyFrag:s.default,basicVert:u.default,skyboxVert:c.default,skyboxFrag:l.default};e.default=f},function(t,e){t.exports="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}"},function(t,e){t.exports="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}"},function(t,e){t.exports="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._passes=[]}return r(t,[{key:"addPass",value:function(t){this._passes.push(t)}},{key:"passes",get:function(){return this._passes}}]),t}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(37)),i=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments[1],r=arguments[2],i=arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,[0,1],n,r,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),e}();e.default=i},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(11)),s=n(76),u=n(77),c=n(78),l=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments[1],r=arguments[2],o=arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var f=void 0;switch(t){case 5:default:f=s;break;case 9:f=u;break;case 13:f=c}var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f,r,o,l));return h.uniform("uDirection",n),h.uniform("uResolution",[i.default.width,i.default.height]),h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(37)),i=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments[1],r=arguments[2],i=arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,[1,0],n,r,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),e}();e.default=i},function(t,e,n){(function(e){function n(t){var e=o([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter(function(e){return e.rule&&e.rule.test(t)})[0];return e?e.name:null}function r(){return void 0!==e&&e.version&&{name:"node",version:e.version.slice(1),os:e.platform}}function i(t){var e=o([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\ ([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]]);if(!t)return null;var r=e.map(function(e){var n=e.rule.exec(t),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:e.name,version:r.join(".")}}).filter(Boolean)[0]||null;return r&&(r.os=n(t)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(t)&&((r=r||{}).bot=!0),r}function o(t){return t.map(function(t){return{name:t[0],rule:t[1]}})}t.exports={detect:function(){return"undefined"!=typeof navigator?i(navigator.userAgent):r()},detectOS:n,getNodeVersion:r,parseUserAgent:i}}).call(e,n(91))},function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"===(void 0===t?"undefined":u(t))&&null!==t}function s(t){return void 0===t}var u="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)};t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(s(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),r=(c=n.slice()).length,u=0;u<r;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.trace),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default=[{id:"noise",url:"assets/img/noise.png",type:"png"},{id:"molecules0",url:"assets/spritesheet/molecules/molecules0.png",type:"png"},{id:"molecules0_data",url:"assets/spritesheet/molecules/molecules0_data.json",type:"text"},{id:"others0",url:"assets/spritesheet/others/others0.png",type:"png"},{id:"others0_data",url:"assets/spritesheet/others/others0_data.json",type:"text"},{id:"serpents0",url:"assets/spritesheet/serpents/serpents0.png",type:"png"},{id:"serpents0_data",url:"assets/spritesheet/serpents/serpents0_data.json",type:"text"},{id:"viruses0",url:"assets/spritesheet/viruses/viruses0.png",type:"png"},{id:"viruses0_data",url:"assets/spritesheet/viruses/viruses0_data.json",type:"text"},{id:"viruses1",url:"assets/spritesheet/viruses/viruses1.png",type:"png"},{id:"viruses1_data",url:"assets/spritesheet/viruses/viruses1_data.json",type:"text"}]},function(t,e,n){function r(){i.call(this),this.setMaxListeners(20)}var i=n(40).EventEmitter;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=r},function(t,e,n){t.exports={mbs:0,secs:0,update:function(t,e,n,r){var i,o=t.getAllResponseHeaders();if(o){var a=o.match(/content-length: (\d+)/i);a&&a.length&&(i=a[1])}if(i){var s=(i=parseInt(i,10))/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=s,r&&this.log(n,s,u)}},log:function(t,e,n){t&&(t.substr(t.lastIndexOf("/")+1),e.toFixed(2),n.toFixed(2),(e/n).toFixed(2)),this.mbs.toFixed(2),this.secs.toFixed(2),this.getMbps().toFixed(2)},getMbps:function(){return this.mbs/this.secs}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getShader=void 0;var r=n(1),i=(r&&r.__esModule,[]);e.getShader=function(t,e){var n=void 0;return i.forEach(function(r){r.vs===t&&r.fs===e&&(n=r.shader)}),n||(n=new r.GLShader(t,e),i.push({vs:t,fs:e,shader:n})),n}},function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME SPRITE_VERT\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec2 uDimension;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 position = aVertexPosition;\n\tposition.xy   *= uDimension;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(position, 1.0);\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = aNormal;\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r(o),u=r(n(9)),c=[0,0,1,1],l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._img=new Image,n._img.addEventListener("load",function(){return n._onLoaded()}),n._img.src=t,n.dimension=[0,0],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"_onLoaded",value:function(){this.texture=new s.default.GLTexture(this._img)}},{key:"render",value:function(){this.isCulled||this.visible&&(o.GL.rotate(this.matrix),this.texture&&(this.dimension[0]=this.width,this.dimension[1]=this.height,this.shader.bind(),this.shader.uniform("uDimension","vec2",this.dimension),this.shader.uniform("uUVOffset","vec4",c),this.shader.uniform("texture","uniform1i",0),this.texture.bind(0),o.GL.draw(this.mesh)))}}]),e}();e.default=l},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomPosition=e.getRandomAnimData=e.getAnimData=e.generateAnimList=e.getResizeImage=void 0;var i=r(n(13)),o=r((r(n(8)),n(106))),a={},s=void 0,u=!1,c=[],l=(e.getResizeImage=function(t,e,n){var r=e/t.width,i=n/t.height,o=Math.min(r,i),a=t.width*o,s=t.height*o,u=document.createElement("canvas");u.width=e,u.height=n;var c=(e-a)/2,l=(n-s)/2;return u.getContext("2d").drawImage(t,0,0,t.width,t.height,c,l,t.width,t.height),u},e.generateAnimList=function(){(s=o.default.map(function(t){return i.default.get(t+"_data")})).forEach(function(t){var e=t.frames;for(var n in e){var r=n.substr(0,n.indexOf("/"));a[r]||(a[r]=f(r),c.push(r))}}),u=!0}),f=e.getAnimData=function(t){if(a[t])return a[t];var e=[],n=[];s.forEach(function(r){var o=r.meta,a=r.frames;if(function(t,e){for(var n in t)if(n.indexOf(e)>-1)return!0;return!1}(a,t)){var s=i.default.get(o.image.split(".")[0]);for(var u in a)u.indexOf(t)>-1&&(u.indexOf("color")>-1?e.push({frame:a[u],texture:s,meta:o,id:u}):n.push({frame:a[u],texture:s,meta:o,id:u}))}}),e.sort(function(t,e){return(""+t.id).localeCompare(e.id)}),n.sort(function(t,e){return(""+t.id).localeCompare(e.id)});var r={color:e,outline:n};return a[t]||(a[t]=r),r},h=(e.getRandomAnimData=function(t){u||l();var e=c[Math.floor(Math.random()*c.length)];return f(e)},function(t){return Math.max(t.width*t.scaleX,t.height*t.scaleY)}),d=function(t,e,n,r){if(0==t.length)return!1;var i=!1,o=void 0,a=void 0,s=void 0,u=Math.abs;return Math.max,t.forEach(function(t){o=u(t.x-e),a=u(t.y-n),s=h(t)+r,o<(s*=.5)&&a<s&&(i=!0)}),i};e.getRandomPosition=function(t,e){var n=0,r=0,i=0,o=h(e);do{n=2440*Math.random(),r=1080*Math.random()*7}while(d(t,n,r,o)&&i++<200);return{x:n,y:r}}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r(o),u=n(39),c=r(n(40)),l=r(n(41)),f=r(n(13)),h=r(n(8)),d=r(n(92)),p=r(n(9)),v=r(n(46)),_=r(n(97)),m=r(n(98)),y=r(n(99)),g=r(n(100)),E=n(47),b=r(n(107)),T=r(n(110)),w=function(t,e){return t+Math.random()*(e-t)},M=(0,u.detect)();n(112).polyfill();var x=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"assets/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));for(var i in n)h.default[i]&&(h.default[i]=n[i]);return r._interactiveElements=[],r._covers=[],r._rolloverColor=h.default.circleColor.concat(),r._rolloverOffset=new s.default.TweenNumber(0,"expOut",.4*h.default.rolloverColorSpeed),r._dotX=new s.default.EaseNumber(window.innerWidth/2,h.default.leadingDotEasing),r._dotY=new s.default.EaseNumber(window.innerHeight/2,h.default.leadingDotEasing),r._dotScale=new s.default.EaseNumber(1,h.default.dotScaleSpeed),r._scrollTop=0,r._loadAssets(t),r._isPaused=!1,r._isDisplayOrigin=!1,r._needUpdateCulling=!0,r._needUpdateBounds=!0,r._hasSetScrollTop=!1,r._offsetY=0,r._count=0,r._eye=vec3.create(),r._target=vec3.create(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default),i(e,[{key:"_loadAssets",value:function(t){var e=this,n=l.default.map(function(e){return e.url=e.url.replace("assets/",t),e});new d.default({assets:n}).on("error",function(t){}).on("progress",function(t){e.emit("onProgress",{percent:t})}).on("complete",function(t){return e._onAssetsLoaded(t)}).start()}},{key:"_onAssetsLoaded",value:function(t){this.canvas=document.createElement("canvas");var e="firefox"===M.name;o.GL.init(this.canvas,{alpha:!0,ignoreWebgl2:!0,premultipliedAlpha:e});var n=o.GL.gl;n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),o.GL.disable(o.GL.DEPTH_TEST),o.GL.disable(o.GL.CULL_FACE),f.default.init(t),(0,E.generateAnimList)(),this._initWold(),this.emit("onLoaded")}},{key:"_initWold",value:function(){var t=this;this.camera=new s.default.CameraOrtho;var e=o.GL.width,n=o.GL.height;this.camera.ortho(0,e,0,n,-1e3,1e3),this.camera.lookAt([0,0,0],[0,0,-10]);var r={minFilter:o.GL.LINEAR,magFilter:o.GL.LINEAR};this._fboColor=new s.default.FrameBuffer(o.GL.width,o.GL.height,r),this._fboOutline=new s.default.FrameBuffer(o.GL.width,o.GL.height,r),this._fboMap=new s.default.FrameBuffer(o.GL.width,o.GL.height,r),this._bCopy=new s.default.BatchCopy,this._vMask=new b.default,this._vComposite=new T.default,this._initAnimations(),window.addEventListener("mousemove",function(e){t._dotX.value=e.clientX,t._dotY.value=e.clientY}),this._efIndex=s.default.Scheduler.addEF(function(){return t.render()})}},{key:"_initAnimations",value:function(){this.containerColor=new p.default,this.containerOutline=new p.default,this.dot=new m.default;var t=h.default.numMicrobes;for(this._spritesColor=[],this._spritesAll=[];t--;){var e=(0,E.getRandomAnimData)(),n=new _.default(e.color);this.containerColor.addChild(n),n.rotation=Math.random()*Math.PI*2,n.scaleX=n.scaleY=w(h.default.minSpriteScale,h.default.maxSpriteScale);var r=(0,E.getRandomPosition)(this._spritesColor,n);n.x=r.x,n.y=r.y,this._spritesColor.push(n),this._spritesAll.push(n);var i=new _.default(e.outline);this.containerOutline.addChild(i),i.x=n.x,i.y=n.y,i.rotation=n.rotation,i.scaleX=i.scaleY=n.scaleX,this._spritesAll.push(i)}}},{key:"_updateMap",value:function(){this._fboMap.bind(),o.GL.clear(0,0,0,0),this._vMask.render(),this._fboMap.unbind()}},{key:"addChild",value:function(t,e,n){var r=new y.default(t,e,n);this._interactiveElements.push(r),this.containerOutline.addChild(r.spriteOutline),this.containerColor.addChild(r.spriteColor),this._spritesAll.push(r.spriteColor,r.spriteOutline),this._updateChildren(),this._needUpdateCulling=!0}},{key:"removeChild",value:function(t){var e=this._interactiveElements.filter(function(e){return e.domElm===t}),n=void 0;e.length>0&&(n=e[0],this.containerOutline.removeChild(n.spriteOutline),this.containerColor.removeChild(n.spriteColor),this._interactiveElements=this._interactiveElements.filter(function(e){return!function(e){return e.domElm===t}}))}},{key:"removeAllChild",value:function(){var t=this;this._interactiveElements.filter(function(t){return!(t instanceof g.default)}).forEach(function(e){t.containerOutline.removeChild(e.spriteOutline),t.containerColor.removeChild(e.spriteColor)}),this._interactiveElements=this._interactiveElements.filter(function(t){return t instanceof g.default})}},{key:"removeAllSvgAnim",value:function(){var t=this;this._interactiveElements.filter(function(t){return t instanceof g.default}).forEach(function(e){t.containerOutline.removeChild(e.spriteOutline),t.containerColor.removeChild(e.spriteColor)}),this._interactiveElements=this._interactiveElements.filter(function(t){return!(t instanceof g.default)})}},{key:"addSvgAnim",value:function(t,e,n,r,i,o){var a=new g.default(t,e,n,r,i,o);this._interactiveElements.push(a),this.containerOutline.addChild(a.spriteOutline),this.containerColor.addChild(a.spriteColor),this._spritesAll.push(a.spriteColor,a.spriteOutline),this._updateChildren(),this._needUpdateCulling=!0}},{key:"removeSvgAnim",value:function(t){var e=this._interactiveElements.filter(function(e){return e.domElm===t}),n=void 0;e.length>0&&(n=e[0],this.containerOutline.removeChild(n.spriteOutline),this.containerColor.removeChild(n.spriteColor),this._interactiveElements=this._interactiveElements.filter(function(e){return!function(e){return e.domElm===t}}))}},{key:"removeAll",value:function(){this.removeAllChild(),this.removeAllSvgAnim()}},{key:"_updateChildren",value:function(t){var e=this;this._interactiveElements.forEach(function(n){return n.update(e.scrollTop,t)})}},{key:"_updateCulling",value:function(){var t=this,e=this.scrollTop,n=this.scrollTop+o.GL.height;this._spritesAll.forEach(function(r){var i=Math.max(r.height*r.scaleY,r.width*r.scaleX);r.isCulled=!1,r.y+i<e?r.isCulled=!0:r.y-i>n&&(r.isCulled=!0),h.default.enableCulling&&(r.isCulled||r instanceof v.default||t._covers.forEach(function(e,n){e.rect&&!t._needUpdateBounds||(e.rect=e.getBoundingClientRect());var o=e.rect;r.y>o.top-i+t._offsetY&&r.y<o.bottom+i+t._offsetY&&r.x>o.left&&r.x<o.right&&(r.isCulled=!0)}))}),this._needUpdateCulling=!1,this._needUpdateBounds=!1}},{key:"render",value:function(){if(!this._isPaused){this._count++,this._needUpdateCulling&&this._count%3==0&&this._updateCulling(),o.GL.clear(0,0,0,0);var t=this.scrollTop;vec3.set(this._eye,0,t,0),vec3.set(this._target,0,t,-10),this.camera.lookAt(this._eye,this._target),o.GL.setMatrices(this.camera),this._isDisplayOrigin||(this._updateMap(),this._fboColor.bind(),o.GL.clear(0,0,0,0),this.containerColor.render(),this._fboColor.unbind(),this._fboOutline.bind(),o.GL.clear(0,0,0,0),this.containerOutline.render(),this._fboOutline.unbind(),this._vComposite.render(this._fboColor.getTexture(),this._fboOutline.getTexture(),this._fboMap.getTexture(),this._rolloverColor,this._rolloverOffset.value),this.dot.x=this._dotX.value,this.dot.y=this._dotY.value+this.scrollTop,this.dot.scaleX=this.dot.scaleY=this._dotScale.value,this.dot.render())}}},{key:"rollover",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default.circleColor;this._rolloverColor=e.concat(),this._vMask.rollover(t),this._rolloverOffset.value=1,this._dotScale.value=0}},{key:"rollout",value:function(){this._vMask.rollout(),this._rolloverOffset.value=0,this._dotScale.value=1}},{key:"pause",value:function(){this._isPaused=!0}},{key:"play",value:function(){this._isPaused=!1}},{key:"displayOrigin",value:function(){this._isDisplayOrigin=!0,this._interactiveElements.forEach(function(t){t.domElm.style.opacity=1})}},{key:"hideOrigin",value:function(){this._isDisplayOrigin=!1,this._interactiveElements.forEach(function(t){t.domElm.style.opacity=0})}},{key:"setScrollTop",value:function(t){this._hasSetScrollTop||(this.scrollTop=t,this._offsetY=t),this.scrollTop=t,this._updateChildren(!this._hasSetScrollTop),this._needUpdateCulling=!0,this._hasSetScrollTop=!0}},{key:"setCoverZones",value:function(t){this._covers=t,this._updateChildren(),this._needUpdateCulling=!0,this._needUpdateBounds=!0}},{key:"clearCoverZones",value:function(){this._covers=[],this._updateChildren(),this._needUpdateCulling=!0,this._needUpdateBounds=!0}},{key:"resize",value:function(t,e){t=t||window.innerWidth,e=e||window.innerHeight,o.GL.setSize(t,e),this.camera.ortho(0,t,0,e,-1e3,1e3);var n={minFilter:o.GL.LINEAR,magFilter:o.GL.LINEAR};this._fboColor=new s.default.FrameBuffer(o.GL.width,o.GL.height,n),this._fboOutline=new s.default.FrameBuffer(o.GL.width,o.GL.height,n),this._fboMap=new s.default.FrameBuffer(o.GL.width,o.GL.height,n),this._updateChildren(!0),this._needUpdateCulling=!0,this._needUpdateBounds=!0}},{key:"scrollTop",get:function(){return this._scrollTop},set:function(t){this._scrollTop=t}}]),e}();e.default=x},function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*c+o*l,t[3]=i*c+a*l,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new o.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){var e=new o.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,r){var i=new o.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},e.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=r,e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},e.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=i,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],u=e[1],c=e[2],l=e[3];return Math.abs(n-s)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-u)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.mul=r,e.sub=i},function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1],f=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*f+o*h,t[3]=i*f+a*h,t[4]=r*d+o*p+s,t[5]=i*d+a*p+u,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new o.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){var e=new o.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,r,i,a){var s=new o.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s},e.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=r,e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*-c+o*l,t[3]=i*-c+a*l,t[4]=s,t[5]=u,t},e.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=u,t},e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*l+s,t[5]=i*c+a*l+u,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=e[0],l=e[1],f=e[2],h=e[3],d=e[4],p=e[5];return Math.abs(n-c)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-l)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-f)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-h)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-d)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.mul=r,e.sub=i},function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],_=e[13],m=e[14],y=e[15],g=n[0],E=n[1],b=n[2],T=n[3];return t[0]=g*r+E*s+b*f+T*v,t[1]=g*i+E*u+b*h+T*_,t[2]=g*o+E*c+b*d+T*m,t[3]=g*a+E*l+b*p+T*y,g=n[4],E=n[5],b=n[6],T=n[7],t[4]=g*r+E*s+b*f+T*v,t[5]=g*i+E*u+b*h+T*_,t[6]=g*o+E*c+b*d+T*m,t[7]=g*a+E*l+b*p+T*y,g=n[8],E=n[9],b=n[10],T=n[11],t[8]=g*r+E*s+b*f+T*v,t[9]=g*i+E*u+b*h+T*_,t[10]=g*o+E*c+b*d+T*m,t[11]=g*a+E*l+b*p+T*y,g=n[12],E=n[13],b=n[14],T=n[15],t[12]=g*r+E*s+b*f+T*v,t[13]=g*i+E*u+b*h+T*_,t[14]=g*o+E*c+b*d+T*m,t[15]=g*a+E*l+b*p+T*y,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new o.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){var e=new o.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,r,i,a,s,u,c,l,f,h,d,p,v,_){var m=new o.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=a,m[6]=s,m[7]=u,m[8]=c,m[9]=l,m[10]=f,m[11]=h,m[12]=d,m[13]=p,m[14]=v,m[15]=_,m},e.set=function(t,e,n,r,i,o,a,s,u,c,l,f,h,d,p,v,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=_,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],_=e[14],m=e[15],y=n*s-r*a,g=n*u-i*a,E=n*c-o*a,b=r*u-i*s,T=r*c-o*s,w=i*c-o*u,M=l*v-f*p,x=l*_-h*p,A=l*m-d*p,R=f*_-h*v,O=f*m-d*v,S=h*m-d*_,P=y*S-g*O+E*R+b*A-T*x+w*M;return P?(P=1/P,t[0]=(s*S-u*O+c*R)*P,t[1]=(i*O-r*S-o*R)*P,t[2]=(v*w-_*T+m*b)*P,t[3]=(h*T-f*w-d*b)*P,t[4]=(u*A-a*S-c*x)*P,t[5]=(n*S-i*A+o*x)*P,t[6]=(_*E-p*w-m*g)*P,t[7]=(l*w-h*E+d*g)*P,t[8]=(a*O-s*A+c*M)*P,t[9]=(r*A-n*O-o*M)*P,t[10]=(p*T-v*E+m*y)*P,t[11]=(f*E-l*T-d*y)*P,t[12]=(s*x-a*R-u*M)*P,t[13]=(n*R-r*x+i*M)*P,t[14]=(v*g-p*b-_*y)*P,t[15]=(l*b-f*g+h*y)*P,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],_=e[14],m=e[15];return t[0]=s*(h*m-d*_)-f*(u*m-c*_)+v*(u*d-c*h),t[1]=-(r*(h*m-d*_)-f*(i*m-o*_)+v*(i*d-o*h)),t[2]=r*(u*m-c*_)-s*(i*m-o*_)+v*(i*c-o*u),t[3]=-(r*(u*d-c*h)-s*(i*d-o*h)+f*(i*c-o*u)),t[4]=-(a*(h*m-d*_)-l*(u*m-c*_)+p*(u*d-c*h)),t[5]=n*(h*m-d*_)-l*(i*m-o*_)+p*(i*d-o*h),t[6]=-(n*(u*m-c*_)-a*(i*m-o*_)+p*(i*c-o*u)),t[7]=n*(u*d-c*h)-a*(i*d-o*h)+l*(i*c-o*u),t[8]=a*(f*m-d*v)-l*(s*m-c*v)+p*(s*d-c*f),t[9]=-(n*(f*m-d*v)-l*(r*m-o*v)+p*(r*d-o*f)),t[10]=n*(s*m-c*v)-a*(r*m-o*v)+p*(r*c-o*s),t[11]=-(n*(s*d-c*f)-a*(r*d-o*f)+l*(r*c-o*s)),t[12]=-(a*(f*_-h*v)-l*(s*_-u*v)+p*(s*h-u*f)),t[13]=n*(f*_-h*v)-l*(r*_-i*v)+p*(r*h-i*f),t[14]=-(n*(s*_-u*v)-a*(r*_-i*v)+p*(r*u-i*s)),t[15]=n*(s*h-u*f)-a*(r*h-i*f)+l*(r*u-i*s),t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],_=t[15];return(e*a-n*o)*(f*_-h*v)-(e*s-r*o)*(l*_-h*p)+(e*u-i*o)*(l*v-f*p)+(n*s-r*a)*(c*_-h*d)-(n*u-i*a)*(c*v-f*d)+(r*u-i*s)*(c*p-l*d)},e.multiply=r,e.translate=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=void 0,d=void 0,p=void 0,v=void 0,_=void 0,m=void 0;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],u=e[2],c=e[3],l=e[4],f=e[5],h=e[6],d=e[7],p=e[8],v=e[9],_=e[10],m=e[11],t[0]=a,t[1]=s,t[2]=u,t[3]=c,t[4]=l,t[5]=f,t[6]=h,t[7]=d,t[8]=p,t[9]=v,t[10]=_,t[11]=m,t[12]=a*r+l*i+p*o+e[12],t[13]=s*r+f*i+v*o+e[13],t[14]=u*r+h*i+_*o+e[14],t[15]=c*r+d*i+m*o+e[15]),t},e.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,r){var i=r[0],a=r[1],s=r[2],u=Math.sqrt(i*i+a*a+s*s),c=void 0,l=void 0,f=void 0,h=void 0,d=void 0,p=void 0,v=void 0,_=void 0,m=void 0,y=void 0,g=void 0,E=void 0,b=void 0,T=void 0,w=void 0,M=void 0,x=void 0,A=void 0,R=void 0,O=void 0,S=void 0,P=void 0,L=void 0,I=void 0;return Math.abs(u)<o.EPSILON?null:(i*=u=1/u,a*=u,s*=u,c=Math.sin(n),f=1-(l=Math.cos(n)),h=e[0],d=e[1],p=e[2],v=e[3],_=e[4],m=e[5],y=e[6],g=e[7],E=e[8],b=e[9],T=e[10],w=e[11],M=i*i*f+l,x=a*i*f+s*c,A=s*i*f-a*c,R=i*a*f-s*c,O=a*a*f+l,S=s*a*f+i*c,P=i*s*f+a*c,L=a*s*f-i*c,I=s*s*f+l,t[0]=h*M+_*x+E*A,t[1]=d*M+m*x+b*A,t[2]=p*M+y*x+T*A,t[3]=v*M+g*x+w*A,t[4]=h*R+_*O+E*S,t[5]=d*R+m*O+b*S,t[6]=p*R+y*O+T*S,t[7]=v*R+g*O+w*S,t[8]=h*P+_*L+E*I,t[9]=d*P+m*L+b*I,t[10]=p*P+y*L+T*I,t[11]=v*P+g*L+w*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t},e.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-l*r,t[2]=s*i-f*r,t[3]=u*i-h*r,t[8]=o*r+c*i,t[9]=a*r+l*i,t[10]=s*r+f*i,t[11]=u*r+h*i,t},e.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){var r=n[0],i=n[1],a=n[2],s=Math.sqrt(r*r+i*i+a*a),u=void 0,c=void 0,l=void 0;return Math.abs(s)<o.EPSILON?null:(r*=s=1/s,i*=s,a*=s,u=Math.sin(e),l=1-(c=Math.cos(e)),t[0]=r*r*l+c,t[1]=i*r*l+a*u,t[2]=a*r*l-i*u,t[3]=0,t[4]=r*i*l-a*u,t[5]=i*i*l+c,t[6]=a*i*l+r*u,t[7]=0,t[8]=r*a*l+i*u,t[9]=i*a*l-r*u,t[10]=a*a*l+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,c=o+o,l=r*s,f=r*u,h=r*c,d=i*u,p=i*c,v=o*c,_=a*s,m=a*u,y=a*c;return t[0]=1-(d+v),t[1]=f+y,t[2]=h-m,t[3]=0,t[4]=f-y,t[5]=1-(l+v),t[6]=p+_,t[7]=0,t[8]=h+m,t[9]=p-_,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+c*c+l*l),t},e.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},e.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,c=o+o,l=a+a,f=i*u,h=i*c,d=i*l,p=o*c,v=o*l,_=a*l,m=s*u,y=s*c,g=s*l,E=r[0],b=r[1],T=r[2];return t[0]=(1-(p+_))*E,t[1]=(h+g)*E,t[2]=(d-y)*E,t[3]=0,t[4]=(h-g)*b,t[5]=(1-(f+_))*b,t[6]=(v+m)*b,t[7]=0,t[8]=(d+y)*T,t[9]=(v-m)*T,t[10]=(1-(f+p))*T,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,l=a+a,f=s+s,h=o*c,d=o*l,p=o*f,v=a*l,_=a*f,m=s*f,y=u*c,g=u*l,E=u*f,b=r[0],T=r[1],w=r[2],M=i[0],x=i[1],A=i[2];return t[0]=(1-(v+m))*b,t[1]=(d+E)*b,t[2]=(p-g)*b,t[3]=0,t[4]=(d-E)*T,t[5]=(1-(h+m))*T,t[6]=(_+y)*T,t[7]=0,t[8]=(p+g)*w,t[9]=(_-y)*w,t[10]=(1-(h+v))*w,t[11]=0,t[12]=n[0]+M-(t[0]*M+t[4]*x+t[8]*A),t[13]=n[1]+x-(t[1]*M+t[5]*x+t[9]*A),t[14]=n[2]+A-(t[2]*M+t[6]*x+t[10]*A),t[15]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,d=i*s,p=i*u,v=o*a,_=o*s,m=o*u;return t[0]=1-f-p,t[1]=l+m,t[2]=h-_,t[3]=0,t[4]=l-m,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+_,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t},e.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t},e.lookAt=function(t,e,n,r){var i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=void 0,d=void 0,p=void 0,v=e[0],_=e[1],m=e[2],y=r[0],g=r[1],E=r[2],b=n[0],T=n[1],w=n[2];return Math.abs(v-b)<o.EPSILON&&Math.abs(_-T)<o.EPSILON&&Math.abs(m-w)<o.EPSILON?mat4.identity(t):(f=v-b,h=_-T,d=m-w,i=g*(d*=p=1/Math.sqrt(f*f+h*h+d*d))-E*(h*=p),a=E*(f*=p)-y*d,s=y*h-g*f,(p=Math.sqrt(i*i+a*a+s*s))?(i*=p=1/p,a*=p,s*=p):(i=0,a=0,s=0),u=h*s-d*a,c=d*i-f*s,l=f*a-h*i,(p=Math.sqrt(u*u+c*c+l*l))?(u*=p=1/p,c*=p,l*=p):(u=0,c=0,l=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=a,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=l,t[10]=d,t[11]=0,t[12]=-(i*v+a*_+s*m),t[13]=-(u*v+c*_+l*m),t[14]=-(f*v+h*_+d*m),t[15]=1,t)},e.targetTo=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],c=r[2],l=i-n[0],f=o-n[1],h=a-n[2],d=l*l+f*f+h*h;d>0&&(l*=d=1/Math.sqrt(d),f*=d,h*=d);var p=u*h-c*f,v=c*l-s*h,_=s*f-u*l;return t[0]=p,t[1]=v,t[2]=_,t[3]=0,t[4]=f*_-h*v,t[5]=h*p-l*_,t[6]=l*v-f*p,t[7]=0,t[8]=l,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],_=t[13],m=t[14],y=t[15],g=e[0],E=e[1],b=e[2],T=e[3],w=e[4],M=e[5],x=e[6],A=e[7],R=e[8],O=e[9],S=e[10],P=e[11],L=e[12],I=e[13],C=e[14],k=e[15];return Math.abs(n-g)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-E)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(i-b)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-T)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(s-w)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-M)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-x)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-A)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(f-R)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(h-O)<=o.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-S)<=o.EPSILON*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(p-P)<=o.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(v-L)<=o.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(_-I)<=o.EPSILON*Math.max(1,Math.abs(_),Math.abs(I))&&Math.abs(m-C)<=o.EPSILON*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(y-k)<=o.EPSILON*Math.max(1,Math.abs(y),Math.abs(k))};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.mul=r,e.sub=i},function(t,e,n){function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new c.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+a*s+i*c-o*u,t[1]=i*l+a*u+o*s-r*c,t[2]=o*l+a*c+r*u-i*s,t[3]=a*l-r*s-i*u-o*c,t}function s(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=n[0],c=n[1],l=n[2],f=n[3],h=void 0,d=void 0,p=void 0,v=void 0,_=void 0;return(d=i*u+o*c+a*l+s*f)<0&&(d=-d,u=-u,c=-c,l=-l,f=-f),1-d>1e-6?(h=Math.acos(d),p=Math.sin(h),v=Math.sin((1-r)*h)/p,_=Math.sin(r*h)/p):(v=1-r,_=r),t[0]=v*i+_*u,t[1]=v*o+_*c,t[2]=v*a+_*l,t[3]=v*s+_*f,t}function u(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+a]-e[3*a+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=o,e.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},e.multiply=a,e.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},e.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},e.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},e.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},e.slerp=s,e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=u,e.fromEuler=function(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return t[0]=o*u*l-a*s*c,t[1]=a*s*l+o*u*c,t[2]=a*u*c-o*s*l,t[3]=a*u*l+o*s*c,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var c=r(n(3)),l=r(n(21)),f=r(n(22)),h=r(n(23)),d=(e.clone=h.clone,e.fromValues=h.fromValues,e.copy=h.copy,e.set=h.set,e.add=h.add,e.mul=a,e.scale=h.scale,e.dot=h.dot,e.lerp=h.lerp,e.length=h.length),p=(e.len=d,e.squaredLength=h.squaredLength),v=(e.sqrLen=p,e.normalize=h.normalize);e.exactEquals=h.exactEquals,e.equals=h.equals,e.rotationTo=function(){var t=f.create(),e=f.fromValues(1,0,0),n=f.fromValues(0,1,0);return function(r,i,a){var s=f.dot(i,a);return s<-.999999?(f.cross(t,e,i),f.len(t)<1e-6&&f.cross(t,n,i),f.normalize(t,t),o(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(f.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,v(r,r))}}(),e.sqlerp=function(){var t=i(),e=i();return function(n,r,i,o,a,u){return s(t,r,a,u),s(e,i,o,u),s(n,t,e,2*u*(1-u)),n}}(),e.setAxes=function(){var t=l.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],v(e,u(e,t))}}()},function(t,e,n){function r(){var t=new f.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function a(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function c(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new f.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new f.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=i,e.multiply=o,e.divide=a,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=s,e.squaredDistance=u,e.length=c,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*f.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=f.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=f.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3));e.len=c,e.sub=i,e.mul=o,e.div=a,e.dist=s,e.sqrDist=u,e.sqrLen=l,e.forEach=function(){var t=r();return function(e,n,r,i,o,a){var s,u=void 0;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],o(t,t,a),e[u]=t[0],e[u+1]=t[1];return e}}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.getExtension(e);if(!n)return!1;var r=e.split("_")[0],i=new RegExp(r+"$");for(var o in n)if("function"==typeof n[o]){var a=o.replace(i,"");o.substring&&(t[a]=n[o].bind(n))}return!0}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(24));e.default=function(){for(var t in o.default)i.default[t]||(i.default[t]=o.default[t])}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return i||(o=r.default.webgl2?r.default.gl.FLOAT:r.default.getExtension("OES_texture_float")?r.default.gl.FLOAT:r.default.gl.UNSIGNED_BYTE),o};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),i=!1,o=void 0},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return i||(o=function(){if(r.default.webgl2)return r.default.gl.HALF_FLOAT;var t=r.default.getExtension("OES_texture_half_float");return t?t.HALF_FLOAT_OES:r.default.gl.UNSIGNED_BYTE}()),o};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),i=!1,o=void 0},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","OES_vertex_array_object","ANGLE_instanced_arrays","WEBGL_draw_buffers"]},function(t,e,n){t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],r=0;r<t.length-1;r++)n.push(t[r],e[r]||"");return n.push(t[r]),n.join("")}},function(t,e){t.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},function(t,e,n){function r(t){return 0!==t&&!(t&t-1)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(0));e.default=function(t,e,n,o){if(!t.minFilter){var a=i.default.LINEAR;n&&n&&r(n)&&r(o)&&(a=i.default.NEAREST_MIPMAP_LINEAR),t.minFilter=a}return t.mipmap=t.mipmap||!0,t.magFilter=t.magFilter||i.default.LINEAR,t.wrapS=t.wrapS||i.default.CLAMP_TO_EDGE,t.wrapT=t.wrapT||i.default.CLAMP_TO_EDGE,t.internalFormat=t.internalFormat||i.default.RGBA,t.format=t.format||i.default.RGBA,t.premultiplyAlpha=t.premultiplyAlpha||!1,t.level=t.level||0,t.anisotropy=t.anisotropy||0,t}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),a=r(n(63)),s=void 0,u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s=o.default.gl,r)this.texture=e;else{var i=e.length>6;e[0].mipmapCount&&(i=e[0].mipmapCount>1),this.texture=s.createTexture(),this.magFilter=n.magFilter||s.LINEAR,this.minFilter=n.minFilter||s.LINEAR_MIPMAP_LINEAR,this.wrapS=n.wrapS||s.CLAMP_TO_EDGE,this.wrapT=n.wrapT||s.CLAMP_TO_EDGE,i||this.minFilter!=s.LINEAR_MIPMAP_LINEAR||(this.minFilter=s.LINEAR),s.bindTexture(s.TEXTURE_CUBE_MAP,this.texture);var a,u=[s.TEXTURE_CUBE_MAP_POSITIVE_X,s.TEXTURE_CUBE_MAP_NEGATIVE_X,s.TEXTURE_CUBE_MAP_POSITIVE_Y,s.TEXTURE_CUBE_MAP_NEGATIVE_Y,s.TEXTURE_CUBE_MAP_POSITIVE_Z,s.TEXTURE_CUBE_MAP_NEGATIVE_Z],c=0;if(a=e.length/6,this.numLevels=a,i)for(var l=0;l<6;l++)for(var f=0;f<a;f++)s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,!1),e[c=l*a+f].shape?s.texImage2D(u[l],f,s.RGBA,e[c].shape[0],e[c].shape[1],0,s.RGBA,s.FLOAT,e[c].data):s.texImage2D(u[l],f,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,e[c]),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,this.wrapT),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,this.minFilter);else{for(var h=0,d=0;d<6;d++)h=d*a,s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,!1),e[h].shape?s.texImage2D(u[d],0,s.RGBA,e[h].shape[0],e[h].shape[1],0,s.RGBA,s.FLOAT,e[h].data):s.texImage2D(u[d],0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,e[h]),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,this.wrapT),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,this.minFilter);s.generateMipmap(s.TEXTURE_CUBE_MAP)}s.bindTexture(s.TEXTURE_CUBE_MAP,null)}}return i(t,[{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o.default.shader&&(s.activeTexture(s.TEXTURE0+t),s.bindTexture(s.TEXTURE_CUBE_MAP,this.texture),s.uniform1i(o.default.shader.uniformTextures[t],t),this._bindIndex=t)}},{key:"unbind",value:function(){s.bindTexture(s.TEXTURE_CUBE_MAP,null)}}]),t}();u.parseDDS=function(t){var e=(0,a.default)(t),n=e.flags,r=new Int32Array(t,0,31),i=1;131072&n&&(i=Math.max(1,r[7]));var o=e.images.map(function(e){return{data:new Float32Array(t.slice(e.offset,e.offset+e.length)),shape:e.shape,mipmapCount:i}});return new u(o)},e.default=u},function(t,e,n){function r(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var i=542327876,o=131072,a=4,s=r("DXT1"),u=r("DXT3"),c=r("DXT5"),l=r("DX10"),f=116,h=512,d=3,p=2,v=31,_=0,m=1,y=2,g=3,E=4,b=7,T=20,w=21,M=28;t.exports=function(t){var e=new Int32Array(t,0,v);if(e[_]!==i)throw new Error("Invalid magic number in DDS header");if(!e[T]&a)throw new Error("Unsupported format, must contain a FourCC code");var n,r,x=e[w];switch(x){case s:n=8,r="dxt1";break;case u:n=16,r="dxt3";break;case c:n=16,r="dxt5";break;case f:r="rgba32f";break;case l:var A=new Uint32Array(t.slice(128,148));r=A[0];var R=A[1];if(A[2],A[3],A[4],R!==d||r!==p)throw new Error("Unsupported DX10 texture format "+r);r="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)}(x))}var O=e[y],S=1;O&o&&(S=Math.max(1,e[b]));var P=!1;e[M]&h&&(P=!0);var L,I=e[E],C=e[g],k=e[m]+4,N=I,F=C,D=[];if(x===l&&(k+=20),P)for(var U=0;U<6;U++){if("rgba32f"!==r)throw new Error("Only RGBA32f cubemaps are supported");I=N,C=F;for(var B=Math.log(I)/Math.log(2)+1,j=0;j<B;j++)L=I*C*16,D.push({offset:k,length:L,shape:[I,C]}),j<S&&(k+=L),I=Math.floor(I/2),C=Math.floor(C/2)}else for(j=0;j<S;j++)L=Math.max(4,I)/4*Math.max(4,C)/4*n,D.push({offset:k,length:L,shape:[I,C]}),k+=L,I=Math.floor(I/2),C=Math.floor(C/2);return{shape:[N,F],images:D,format:r,flags:O,cubemap:P}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(5)),o={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e=void 0,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},Out:function(t){var e=void 0,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},InOut:function(t){var e=void 0,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{in:function(t){return 1-o.Bounce.out(1-t)},out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOut:function(t){return t<.5?.5*o.Bounce.in(2*t):.5*o.Bounce.out(2*t-1)+.5}}},a=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expOut",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._value=e,this._startValue=e,this._targetValue=e,this._counter=1,this.speed=o,this.easing=r,this._needUpdate=!0,this._efIndex=i.default.addEF(function(){return n._update()})}return r(t,[{key:"_update",value:function(){var t=this._counter+this.speed;t>1&&(t=1),this._counter!==t?(this._counter=t,this._needUpdate=!0):this._needUpdate=!1}},{key:"limit",value:function(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}},{key:"setTo",value:function(t){this._value=t,this._targetValue=t,this._counter=1}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){i.default.removeEF(this._efIndex)}},{key:"value",set:function(t){this._startValue=this._value,this._targetValue=t,this._checkLimit(),this._counter=0},get:function(){if(this._needUpdate){var t=function(t){switch(t){default:case"linear":return o.Linear.None;case"expIn":return o.Exponential.In;case"expOut":return o.Exponential.Out;case"expInOut":return o.Exponential.InOut;case"cubicIn":return o.Cubic.In;case"cubicOut":return o.Cubic.Out;case"cubicInOut":return o.Cubic.InOut;case"quarticIn":return o.Quartic.In;case"quarticOut":return o.Quartic.Out;case"quarticInOut":return o.Quartic.InOut;case"quinticIn":return o.Quintic.In;case"quinticOut":return o.Quintic.Out;case"quinticInOut":return o.Quintic.InOut;case"sinusoidalIn":return o.Sinusoidal.In;case"sinusoidalOut":return o.Sinusoidal.Out;case"sinusoidalInOut":return o.Sinusoidal.InOut;case"circularIn":return o.Circular.In;case"circularOut":return o.Circular.Out;case"circularInOut":return o.Circular.InOut;case"elasticIn":return o.Elastic.In;case"elasticOut":return o.Elastic.Out;case"elasticInOut":return o.Elastic.InOut;case"backIn":return o.Back.In;case"backOut":return o.Back.Out;case"backInOut":return o.Back.InOut;case"bounceIn":return o.Bounce.in;case"bounceOut":return o.Bounce.out;case"bounceInOut":return o.Bounce.inOut}}(this.easing)(this._counter);this._value=this._startValue+t*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),t}();e.default=a},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(2)),a=r(n(17)),s=r(n(5)),u=function(t,e){var n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n},c=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._target=e,this._listenerTarget=r,this.matrix=o.default.mat4.create(),this.m=o.default.mat4.create(),this._vZaxis=o.default.vec3.clone([0,0,0]),this._zAxis=o.default.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=o.default.quat.create(),this.tempRotation=o.default.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new a.default(0,i),this._diffY=new a.default(0,i),this._listenerTarget.addEventListener("mousedown",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("touchstart",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("mousemove",function(t){return n._onMove(t)}),this._listenerTarget.addEventListener("touchmove",function(t){return n._onMove(t)}),window.addEventListener("touchend",function(){return n._onUp()}),window.addEventListener("mouseup",function(){return n._onUp()}),s.default.addEF(function(){return n._loop()})}return i(t,[{key:"inverseControl",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=t}},{key:"lock",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLocked=t}},{key:"setCameraPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(this.easing=e,!(this._slerp>0)){var n=o.default.quat.clone(this._rotation);this._updateRotation(n),this._rotation=o.default.quat.clone(n),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=o.default.quat.clone(t),this._slerp=1}}},{key:"resetQuat",value:function(){this._rotation=o.default.quat.clone([0,0,1,0]),this.tempRotation=o.default.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:"_onDown",value:function(t){if(!this._isLocked){var e=u(t),n=o.default.quat.clone(this._rotation);this._updateRotation(n),this._rotation=n,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:e.x,y:e.y},e.y<this._rotateZMargin||e.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(e.x<this._rotateZMargin||e.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:"_onMove",value:function(t){this._isLocked||u(t,this.mouse)}},{key:"_onUp",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:"_updateRotation",value:function(t){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var e=void 0,n=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(e=-this._diffX.value*this._offset,e*=this.preMouse.y<this._rotateZMargin?-1:1,n=o.default.quat.clone([0,0,Math.sin(e),Math.cos(e)]),o.default.quat.multiply(n,t,n)):(e=-this._diffY.value*this._offset,e*=this.preMouse.x<this._rotateZMargin?1:-1,n=o.default.quat.clone([0,0,Math.sin(e),Math.cos(e)]),o.default.quat.multiply(n,t,n));else{var r=o.default.vec3.clone([this._diffX.value,this._diffY.value,0]),i=o.default.vec3.create();o.default.vec3.cross(i,r,this._zAxis),o.default.vec3.normalize(i,i),e=o.default.vec3.length(r)*this._offset,n=o.default.quat.clone([Math.sin(e)*i[0],Math.sin(e)*i[1],Math.sin(e)*i[2],Math.cos(e)]),o.default.quat.multiply(t,n,t)}}},{key:"_loop",value:function(){o.default.mat4.identity(this.m),void 0===this._targetQuat?(o.default.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(o.default.quat.copy(this._rotation,this._targetQuat),o.default.quat.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(o.default.quat.set(this.tempRotation,0,0,0,0),o.default.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),o.default.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),o.default.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:"easing",set:function(t){this._diffX.easing=t,this._diffY.easing=t},get:function(){return this._diffX.easing}}]),t}();e.default=c},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),s=r(n(27)),u=r(n(18)),c=r(n(67)),l=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o._mesh=t,o._mesh.generateFaces(),o._camera=n,o.faceVertices=t.faces.map(function(t){return t.vertices}),o.clickTolerance=8,o._ray=new u.default([0,0,0],[0,0,-1]),o._hit=vec3.fromValues(-999,-999,-999),o._lastPos,o._firstPos,o.mtxModel=mat4.create(),o._listenerTarget=i,o._skippingMove=r,o._onMoveBind=function(t){return o._onMove(t)},o._onDownBind=function(t){return o._onDown(t)},o._onUpBind=function(){return o._onUp()},o.connect(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"connect",value:function(){this._listenerTarget.addEventListener("mousedown",this._onDownBind),this._listenerTarget.addEventListener("mousemove",this._onMoveBind),this._listenerTarget.addEventListener("mouseup",this._onUpBind),this._listenerTarget.addEventListener("touchstart",this._onDownBind),this._listenerTarget.addEventListener("touchmove",this._onMoveBind),this._listenerTarget.addEventListener("touchend",this._onUpBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousedown",this._onDownBind),this._listenerTarget.removeEventListener("mousemove",this._onMoveBind),this._listenerTarget.removeEventListener("mouseup",this._onUpBind),this._listenerTarget.removeEventListener("touchstart",this._onDownBind),this._listenerTarget.removeEventListener("touchmove",this._onMoveBind),this._listenerTarget.removeEventListener("touchend",this._onUpBind)}},{key:"_checkHit",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onHit",n=this._camera;if(n){var r=this._lastPos.x/o.default.width*2-1,i=-this._lastPos.y/o.default.height*2+1;n.generateRay([r,i,0],this._ray);for(var a=void 0,s=vec3.create(),u=vec3.create(),c=vec3.create(),l=0,f=function(e,n){vec3.transformMat4(n,e,t.mtxModel)},h=0;h<this.faceVertices.length;h++){var d=this.faceVertices[h];f(d[0],s),f(d[1],u),f(d[2],c);var p=this._ray.intersectTriangle(s,u,c);if(p)if(a){var v=vec3.dist(p,n.position);v<l&&(a=vec3.clone(p),l=v)}else a=vec3.clone(p),l=vec3.dist(a,n.position)}a?(this._hit=vec3.clone(a),this.dispatchCustomEvent(e,{hit:a})):this.dispatchCustomEvent("onUp")}}},{key:"_onDown",value:function(t){this._firstPos=(0,c.default)(t),this._lastPos=(0,c.default)(t),this._checkHit("onDown")}},{key:"_onMove",value:function(t){this._lastPos=(0,c.default)(t),this._skippingMove||this._checkHit()}},{key:"_onUp",value:function(){(function(t,e){if(!t||!e)return 0;var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)})(this._firstPos,this._lastPos)<this.clickTolerance&&this._checkHit()}}]),e}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=void 0,n=void 0;return t.touches?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.clientX,n=t.clientY),{x:e,y:n}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._position=i.vec3.create(),this._scale=i.vec3.fromValues(1,1,1),this._rotation=i.vec3.create(),this._matrix=i.mat4.create(),this._matrixParent=i.mat4.create(),this._matrixRotation=i.mat4.create(),this._matrixScale=i.mat4.create(),this._matrixTranslation=i.mat4.create(),this._matrixQuaternion=i.mat4.create(),this._quat=i.quat.create(),this._children=[]}return r(t,[{key:"addChild",value:function(t){this._children.push(t)}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);-1!=e&&this._children.splice(e,1)}},{key:"_update",value:function(){i.vec3.set(this._scale,this._sx,this._sy,this._sz),i.vec3.set(this._rotation,this._rx,this._ry,this._rz),i.vec3.set(this._position,this._x,this._y,this._z),i.mat4.identity(this._matrixTranslation,this._matrixTranslation),i.mat4.identity(this._matrixScale,this._matrixScale),i.mat4.identity(this._matrixRotation,this._matrixRotation),i.mat4.rotateX(this._matrixRotation,this._matrixRotation,this._rx),i.mat4.rotateY(this._matrixRotation,this._matrixRotation,this._ry),i.mat4.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),i.mat4.fromQuat(this._matrixQuaternion,this._quat),i.mat4.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),i.mat4.scale(this._matrixScale,this._matrixScale,this._scale),i.mat4.translate(this._matrixTranslation,this._matrixTranslation,this._position),i.mat4.mul(this._matrix,this._matrixTranslation,this._matrixRotation),i.mat4.mul(this._matrix,this._matrix,this._matrixScale),i.mat4.mul(this._matrix,this._matrixParent,this._matrix),this._needUpdate=!1}},{key:"updateMatrix",value:function(t){var e=this;t&&(this._needUpdate=!0,i.mat4.copy(this._matrixParent,t)),this._needUpdate&&(this._update(),this._children.forEach(function(t){t.updateMatrix(e._matrix)}))}},{key:"setRotationFromQuaternion",value:function(t){i.quat.copy(this._quat,t),this._needUpdate=!0}},{key:"matrix",get:function(){return this._needUpdate&&this._update(),this._matrix}},{key:"x",get:function(){return this._x},set:function(t){this._needUpdate=!0,this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._needUpdate=!0,this._y=t}},{key:"z",get:function(){return this._z},set:function(t){this._needUpdate=!0,this._z=t}},{key:"scaleX",get:function(){return this._sx},set:function(t){this._needUpdate=!0,this._sx=t}},{key:"scaleY",get:function(){return this._sy},set:function(t){this._needUpdate=!0,this._sy=t}},{key:"scaleZ",get:function(){return this._sz},set:function(t){this._needUpdate=!0,this._sz=t}},{key:"rotationX",get:function(){return this._rx},set:function(t){this._needUpdate=!0,this._rx=t}},{key:"rotationY",get:function(){return this._ry},set:function(t){this._needUpdate=!0,this._ry=t}},{key:"rotationZ",get:function(){return this._rz},set:function(t){this._needUpdate=!0,this._rz=t}},{key:"children",get:function(){return this._children}}]),t}();e.default=o},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(20)),s=r(n(6)),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"load",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._drawType=r,function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"load",this).call(this,t,n)}},{key:"_onLoaded",value:function(){this.parseObj(this._req.response)}},{key:"parseObj",value:function(t){function e(t){var e=parseInt(t);return 3*(e>=0?e-1:e+h.length/3)}function n(t){var e=parseInt(t);return 3*(e>=0?e-1:e+d.length/3)}function r(t){var e=parseInt(t);return 2*(e>=0?e-1:e+p.length/2)}function i(t,e,n){c.push([h[t],h[t+1],h[t+2]]),c.push([h[e],h[e+1],h[e+2]]),c.push([h[n],h[n+1],h[n+2]]),v.push(3*_+0),v.push(3*_+1),v.push(3*_+2),_++}function o(t,e,n){l.push([p[t],p[t+1]]),l.push([p[e],p[e+1]]),l.push([p[n],p[n+1]])}function a(t,e,n){f.push([d[t],d[t+1],d[t+2]]),f.push([d[e],d[e+1],d[e+2]]),f.push([d[n],d[n+1],d[n+2]])}function s(t,s,u,c,l,f,h,d,p,v,_,m){var y=e(t),g=e(s),E=e(u),b=void 0;void 0===c?i(y,g,E):(i(y,g,b=e(c)),i(g,E,b)),void 0!==l&&(y=r(l),g=r(f),E=r(h),void 0===c?o(y,g,E):(o(y,g,b=r(d)),o(g,E,b))),void 0!==p&&(y=n(p),g=n(v),E=n(_),void 0===c?a(y,g,E):(a(y,g,b=n(m)),a(g,E,b)))}for(var u=t.split("\n"),c=[],l=[],f=[],h=[],d=[],p=[],v=[],_=0,m=void 0,y=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,E=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,b=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,T=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,w=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,M=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,x=0;x<u.length;x++){var A=u[x];0!==(A=A.trim()).length&&"#"!==A.charAt(0)&&(null!==(m=y.exec(A))?h.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])):null!==(m=g.exec(A))?d.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])):null!==(m=E.exec(A))?p.push(parseFloat(m[1]),parseFloat(m[2])):null!==(m=b.exec(A))?s(m[1],m[2],m[3],m[4]):null!==(m=T.exec(A))?s(m[2],m[5],m[8],m[11],m[3],m[6],m[9],m[12]):null!==(m=w.exec(A))?s(m[2],m[6],m[10],m[14],m[3],m[7],m[11],m[15],m[4],m[8],m[12],m[16]):null!==(m=M.exec(A))&&s(m[2],m[5],m[8],m[11],void 0,void 0,void 0,void 0,m[3],m[6],m[9],m[12]))}return this._generateMeshes({positions:c,coords:l,normals:f,indices:v})}},{key:"_generateMeshes",value:function(t){var e=t.normals.length>0,n=t.coords.length>0,r=void 0;if(t.positions.length>65535){var i=[],o=0,a={};for(a.positions=t.positions.concat(),a.coords=t.coords.concat(),a.indices=t.indices.concat(),a.normals=t.normals.concat();t.indices.length>0;){for(var u=Math.min(65535,t.positions.length),c=t.indices.splice(0,u),l=[],f=[],h=[],d=void 0,p=0,v=0;v<c.length;v++)c[v]>p&&(p=c[v]),d=c[v],l.push(a.positions[d]),n&&f.push(a.coords[d]),e&&h.push(a.normals[d]),c[v]-=o;o=p+1,(r=new s.default(this._drawType)).bufferVertex(l),n&&r.bufferTexCoord(f),r.bufferIndex(c),e&&r.bufferNormal(h),i.push(r)}return this._callback&&this._callback(i,a),i}return(r=new s.default(this._drawType)).bufferVertex(t.positions),n&&r.bufferTexCoord(t.coords),r.bufferIndex(t.indices),e&&r.bufferNormal(t.normals),this._callback&&this._callback(r,t),r}}]),e}();u.parse=function(t){return(new u).parseObj(t)},e.default=u},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(20)),s=r(n(71)),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,!0))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"parse",value:function(t){return(0,s.default)(t)}},{key:"_onLoaded",value:function(){var t=this.parse(this._req.response);this._callback&&this._callback(t)}}]),e}();u.parse=function(t){return(0,s.default)(t)},e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="#\\?RADIANCE",i="#.*",o="EXPOSURE=\\s*([0-9]*[.][0-9]*)",a="FORMAT=32-bit_rle_rgbe",s="-Y ([0-9]+) \\+X ([0-9]+)";e.default=function(t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));for(var e=0,n=t.length,u=0,c=0,l=1,f=!1,h=0;h<20;h++){var d=function(){var r="";do{var i=t[e];if(10===i){++e;break}r+=String.fromCharCode(i)}while(++e<n);return r}(),p=void 0;if(p=d.match(r));else if(p=d.match(a))f=!0;else if(p=d.match(o))l=Number(p[1]);else if(p=d.match(i));else if(p=d.match(s)){c=Number(p[1]),u=Number(p[2]);break}}if(!f)throw new Error("File is not run length encoded!");var v=new Uint8Array(u*c*4);!function(t,e,n,r,i,o){function a(e){var n=0;do{e[n++]=t[r]}while(++r<p&&n<e.length);return n}function s(e,n,i){var o=0;do{e[n+o++]=t[r]}while(++r<p&&o<i);return o}for(var u=new Array(4),c=null,l=void 0,f=void 0,h=void 0,d=new Array(2),p=t.length;o>0;){if(a(u)<u.length)throw new Error("Error reading bytes: expected "+u.length);if(2!==u[0]||2!==u[1]||0!=(128&u[2]))return e[n++]=u[0],e[n++]=u[1],e[n++]=u[2],e[n++]=u[3],void function(t,e,n,r){var a=4*(i*o-1),u=s(e,n,a);if(u<a)throw new Error("Error reading raw pixels: got "+u+" bytes, expected "+a)}(0,e,n);if(((255&u[2])<<8|255&u[3])!==i)throw new Error("Wrong scanline width "+((255&u[2])<<8|255&u[3])+", expected "+i);null===c&&(c=new Array(4*i)),l=0;for(var v=0;v<4;v++)for(f=(v+1)*i;l<f;){if(a(d)<d.length)throw new Error("Error reading 2-byte buffer");if((255&d[0])>128){if(0==(h=(255&d[0])-128)||h>f-l)throw new Error("Bad scanline data");for(;h-- >0;)c[l++]=d[1]}else{if(0==(h=255&d[0])||h>f-l)throw new Error("Bad scanline data");if(c[l++]=d[1],--h>0){if(s(c,l,h)<h)throw new Error("Error reading non-run data");l+=h}}}for(var _=0;_<i;_++)e[n+0]=c[_],e[n+1]=c[_+i],e[n+2]=c[_+2*i],e[n+3]=c[_+3*i],n+=4;o--}}(t,v,0,e,u,c);for(var _=new Float32Array(u*c*4),m=0;m<v.length;m+=4){var y=v[m+0]/255,g=v[m+1]/255,E=v[m+2]/255,b=v[m+3],T=Math.pow(2,b-128);y*=T,g*=T,E*=T;var w=m;_[w+0]=y,_[w+1]=g,_[w+2]=E,_[w+3]=1}return{shape:[u,c],exposure:l,gamma:1,data:_}}},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r((r(n(11)),n(0))),a=r(n(10)),s=r(n(16)),u=function(){function t(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2],function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._width=e||o.default.width,this._height=n||o.default.height,this._params={},this.setSize(e,n),this._mesh=a.default.bigTriangle(),this._passes=[],this._returnTexture}return i(t,[{key:"addPass",value:function(t){if(t.passes)this.addPass(t.passes);else if(t.length)for(var e=0;e<t.length;e++)this._passes.push(t[e]);else this._passes.push(t)}},{key:"render",value:function(t){var e=this,n=t,r=void 0;return this._passes.forEach(function(t){(r=t.hasFbo?t.fbo:e._fboTarget).bind(),o.default.clear(0,0,0,0),t.render(n),o.default.draw(e._mesh),r.unbind(),t.hasFbo?n=t.fbo.getTexture():(e._swap(),n=e._fboCurrent.getTexture())}),this._returnTexture=n,n}},{key:"_swap",value:function(){var t=this._fboCurrent;this._fboCurrent=this._fboTarget,this._fboTarget=t,this._current=this._fboCurrent,this._target=this._fboTarget}},{key:"setSize",value:function(t,e){this._width=t,this._height=e,this._fboCurrent=new s.default(this._width,this._height,this._params),this._fboTarget=new s.default(this._width,this._height,this._params)}},{key:"getTexture",value:function(){return this._returnTexture}},{key:"passes",get:function(){return this._passes}}]),t}();e.default=u},function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME SKYBOX_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\t\n\tvVertex = aVertexPosition;\n\tvNormal = aNormal;\n}"},function(t,e){t.exports="// basic.frag\n\n#define SHADER_NAME SKYBOX_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\nuniform samplerCube texture;\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\n\nvoid main(void) {\n    gl_FragColor = textureCube(texture, vVertex);\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(36)),o=r(n(38)),s=r(n(35)),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments[1],r=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),c=new i.default(t,n,r,s),l=new o.default(t,n,r,s);return u.addPass(c),u.addPass(l),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),e}();e.default=u},function(t,e){t.exports="// blur5.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_5\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3333333333333333) * direction;\n\tcolor += texture2D(image, uv) * 0.29411764705882354;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n\treturn color; \n}\n\n\nvoid main(void) {\n    gl_FragColor = blur5(texture, vTextureCoord, uResolution, uDirection);\n}"},function(t,e){t.exports="// blur9.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_9\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += texture2D(image, uv) * 0.2270270270;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur9(texture, vTextureCoord, uResolution, uDirection);\n}"},function(t,e){t.exports="// blur13.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_13\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.411764705882353) * direction;\n\tvec2 off2 = vec2(3.2941176470588234) * direction;\n\tvec2 off3 = vec2(5.176470588235294) * direction;\n\tcolor += texture2D(image, uv) * 0.1964825501511404;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n\tcolor += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur13(texture, vTextureCoord, uResolution, uDirection);\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(11)),s=r(n(80)),u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s.default));return t.uniform("uResolution",[1/i.default.width,1/i.default.height]),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=u},function(t,e){t.exports="// fxaa.frag\n\n#define SHADER_NAME FXAA\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uResolution;\n\n\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\n\n\nvec4 applyFXAA(sampler2D tex) {\n    vec4 color;\n    vec2 fragCoord = gl_FragCoord.xy;\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * uResolution;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n\nvoid main(void) {\n \tvec4 color = applyFXAA(texture);\n    gl_FragColor = color;\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(10)),s=r(n(4)),u=r(n(7)),c=n(32),l=n(34),f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=o.default.bigTriangle(),n=new s.default(c,l),r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return n.bind(),n.uniform("texture","uniform1i",0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"draw",value:function(t){this.shader.bind(),t.bind(0),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}();e.default=f},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(6)),s=r(n(4)),u=r(n(7)),c=n(83),l=n(84),f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=[],n=[],r=9999;t.push([-r,0,0]),t.push([r,0,0]),t.push([0,-r,0]),t.push([0,r,0]),t.push([0,0,-r]),t.push([0,0,r]),n.push([1,0,0]),n.push([1,0,0]),n.push([0,1,0]),n.push([0,1,0]),n.push([0,0,1]),n.push([0,0,1]);var u=new o.default(i.default.LINES);u.bufferVertex(t),u.bufferIndex([0,1,2,3,4,5]),u.bufferData(n,"aColor",3);var f=new s.default(c,l);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u,f))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),e}();e.default=f},function(t,e){t.exports="// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n    vNormal = aNormal;\n}"},function(t,e){t.exports="// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\t// vec3 color = vNormal;\n\tvec3 color = vColor + vNormal * 0.0001;\n    gl_FragColor = vec4(color, 1.0);\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(10)),s=r(n(4)),u=r(n(7)),c=n(33),l=n(12),f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=o.default.sphere(1,24),n=new s.default(c,l);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.shader.bind(),this.shader.uniform("position","uniform3fv",t),this.shader.uniform("scale","uniform3fv",n),this.shader.uniform("color","uniform3fv",r),this.shader.uniform("opacity","uniform1f",i),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}();e.default=f},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),s=r(n(6)),u=r(n(4)),c=r(n(7)),l=n(87),f=n(12),h=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=[],n=[],r=0,i=void 0,c=void 0;for(i=-100;i<100;i+=1)for(c=-100;c<100;c+=1)t.push([i,c,0]),n.push(r),r++,t.push([i,0,c]),n.push(r),r++;var h=new s.default(o.default.POINTS);h.bufferVertex(t),h.bufferIndex(n);var d=new u.default(l,f),p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h,d));return p.color=[1,1,1],p.opacity=.5,p}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default),i(e,[{key:"draw",value:function(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}();e.default=h},function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\n    gl_PointSize = 1.0;\n    vNormal = aNormal;\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(0)),s=r(n(6)),u=r(n(4)),c=r(n(7)),l=n(14),f=n(12),h=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=[];t.push([0,0,0]),t.push([0,0,0]);var n=new s.default(o.default.LINES);n.bufferVertex(t),n.bufferTexCoord([[0,0],[1,1]]),n.bufferIndex([0,1]);var r=new u.default(l,f);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default),i(e,[{key:"draw",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._mesh.bufferVertex([t,n]),this._shader.bind(),this._shader.uniform("color","vec3",r),this._shader.uniform("opacity","float",i),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}();e.default=h},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(5)),a=r(n(0)),s=r(n(30)),u=r(n(29)),c=r(n(28)),l=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._children=[],this._matrixIdentity=mat4.create(),a.default.enableAlphaBlending(),this._init(),this._initTextures(),this._initViews(),this._efIndex=o.default.addEF(function(){return e._loop()}),window.addEventListener("resize",function(){return e.resize()})}return i(t,[{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"stop",value:function(){-1!==this._efIndex&&(this._efIndex=o.default.removeEF(this._efIndex))}},{key:"start",value:function(){var t=this;-1===this._efIndex&&(this._efIndex=o.default.addEF(function(){return t._loop()}))}},{key:"resize",value:function(){a.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(a.default.aspectRatio)}},{key:"addChild",value:function(t){this._children.push(t)}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);-1!=e&&this._children.splice(e,1)}},{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){}},{key:"_renderChildren",value:function(){for(var t=0;t<this._children.length;t++)this._children[t].toRender();a.default.rotate(this._matrixIdentity)}},{key:"_init",value:function(){this.camera=new s.default,this.camera.setPerspective(45*Math.PI/180,a.default.aspectRatio,.1,100),this.orbitalControl=new c.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new u.default}},{key:"_loop",value:function(){a.default.viewport(0,0,a.default.width,a.default.height),a.default.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(4)),o=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.shader=new i.default(e,n),this._init()}return r(t,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),t}();e.default=o},function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):_=-1,p.length&&s())}function s(){if(!v){var t=o(a);v=!0;for(var e=p.length;e;){for(d=p,p=[];++_<e;)d&&d[_].run();_=-1,e=p.length}d=null,v=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var d,p=[],v=!1,_=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||v||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){var r=n(93);r.stats=n(43),t.exports=r},function(t,e,n){var r=n(42),i=n(94),o=0;t.exports=function t(e){var n,a={},s=[],u=[],c=0,l=0,f={},h=function r(o){return Array.isArray(o)?(o.forEach(r),n):((a=!!o.assets&&Array.isArray(o.assets)?t(p(o,e)):i(p(o,e))).once("destroy",y),u.push(a),f[a.id]=a,n);var a},d=function(t){return arguments.length?a[t]?a[t]:f[t]:s},p=function(t,e){return"string"==typeof t&&(t={url:t}),void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++o),t.type=t.type||function(t){return t&&t.split("?")[0].split(".").pop().toLowerCase()}(t.url),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t},v=function(t){var e=c+t;n.emit("progress",e/l)},_=function(t,e,r){Array.isArray(t)&&(t={id:e,file:t,type:r}),c++,n.emit("progress",c/l),a[t.id]=t.file,s.push(t),n.emit("childcomplete",t),g()},m=function(t){l--,n.listeners("error").length&&n.emit("error",t),g()},y=function(t){f[t]=null,delete f[t],a[t]=null,delete a[t],s.some(function(e,n){if(e.id===t)return s.splice(n,1),!0})},g=function(){c>=l&&n.emit("complete",s,a,e.id,"group")};return n=Object.create(r.prototype,{_events:{value:{}},id:{get:function(){return e.id}},add:{value:h},start:{value:function(){return l=u.length,u.forEach(function(t){t.on("progress",v).once("complete",_).once("error",m).start()}),u=[],n}},get:{value:d},find:{value:function(t){if(d(t))return d(t);var e=null;return Object.keys(f).some(function(n){return!!(e=f[n].find&&f[n].find(t))}),e}},getLoader:{value:function(t){return f[t]}},loaded:{get:function(){return c>=l}},file:{get:function(){return s}},destroy:{value:function(){for(;u.length;)u.pop().destroy();return n.off("error"),n.off("progress"),n.off("complete"),s=[],a={},e.webAudioContext=null,l=0,c=0,Object.keys(f).forEach(function(t){f[t].destroy()}),f={},n.emit("destroy",n.id),n}}}),e=p(e||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(e.assets)&&h(e.assets),Object.freeze(n)}},function(t,e,n){var r=n(42),i=n(95),o=n(43);t.exports=function(t){var e,n,a,s,u,c,l=t.id,f=t.basePath||"",h=t.url,d=t.type,p=t.crossOrigin,v=t.isTouchLocked,_=t.blob&&i,m=t.webAudioContext,y=t.log,g=function(t){t&&(c={id:l,file:t,type:d},e.emit("progress",1),e.emit("complete",c,l,d),N())},E=function(t,e){n=e||T,(a=new XMLHttpRequest).open("GET",f+h,!0),a.responseType=t,a.addEventListener("progress",b),a.addEventListener("load",n),a.addEventListener("error",k),a.send()},b=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},T=function(){w()&&g(a.response)},w=function(){return a&&a.status<400?(o.update(a,s,h,y),!0):(k(a&&a.statusText),!1)},M=function(){E("json",function(){if(w()){var t=a.response;"string"==typeof t&&(t=JSON.parse(t)),g(t)}})},x=function(){_?O():A()},A=function(){a=new Image,p&&(a.crossOrigin="anonymous"),a.addEventListener("error",k,!1),a.addEventListener("load",R,!1),a.src=f+h},R=function(t){window.clearTimeout(u),t||!a.error&&a.readyState?g(a):k()},O=function(){E("blob",function(){w()&&((a=new Image).addEventListener("error",k,!1),a.addEventListener("load",S,!1),a.src=window.URL.createObjectURL(a.response))})},S=function(){window.URL.revokeObjectURL(a.src),g(a)},P=function(){m?I():C("audio")},L=function(){_?E("blob"):C("video")},I=function(){E("arraybuffer",function(){w()&&m.decodeAudioData(a.response,function(t){a=null,g(t)},function(t){k(t)})})},C=function(t){a=document.createElement(t),v||(window.clearTimeout(u),u=window.setTimeout(R,2e3),a.addEventListener("canplaythrough",R,!1)),a.addEventListener("error",k,!1),a.preload="auto",a.src=f+h,a.load(),v&&g(a)},k=function(t){window.clearTimeout(u);var n=t;a&&a.tagName&&a.error?n="MediaError: "+["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"][a.error.code]+" "+a.src:a&&a.statusText?n=a.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type),e.emit("error",'Error loading "'+f+h+'" '+n),F()},N=function(){e.off("error"),e.off("progress"),e.off("complete"),a&&(a.removeEventListener("progress",b),a.removeEventListener("load",n),a.removeEventListener("error",k),a.removeEventListener("load",R),a.removeEventListener("canplaythrough",R),a.removeEventListener("load",S))},F=function(){N(),a&&a.abort&&a.readyState<4&&a.abort(),a=null,m=null,c=null,window.clearTimeout(u),e.emit("destroy",l)};return e=Object.create(r.prototype,{_events:{value:{}},id:{value:t.id},start:{value:function(){switch(s=Date.now(),d){case"json":M();break;case"jpg":case"png":case"gif":case"webp":x();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":P();break;case"ogv":case"mp4":case"webm":case"hls":L();break;case"bin":case"binary":E("arraybuffer");break;case"txt":case"text":E("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+f+h+" ("+d+")"}}},loaded:{get:function(){return!!c}},file:{get:function(){return c}},destroy:{value:F}}),Object.freeze(e)}},function(t,e,n){t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},function(t,e){t.exports="// copy.frag\n\n#define SHADER_NAME SPRITE_FRAG\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec4 uUVOffset;\n#define white vec4(vec3(1.0), .2)\n\nvoid main(void) {\n\tvec2 uv      = vTextureCoord * uUVOffset.zw + uUVOffset.xy;\n\t\n\tgl_FragColor = texture2D(texture, uv);\n\t// gl_FragColor = mix(white, gl_FragColor, gl_FragColor.a );\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r((r(o),n(9))),u=12,c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n._frameData=t;var r=n._frameData[0],i=r.meta;return r.frame,n.currentFrame=0,n.totalFrames=n._frameData.length,n.width=r.frame.sourceSize.w/i.scale,n.height=r.frame.sourceSize.h/i.scale,setInterval(function(){return n._advance()},1e3/u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"_getUVOffset",value:function(){if(this._frameData[this.currentFrame].uvOffset)return this._frameData[this.currentFrame].uvOffset;var t=this._frameData[this.currentFrame],e=t.frame,n=t.meta,r=n.size,i=r.w,o=r.h,a=e.frame,s=a.w/i,u=a.h/o,c={uvOffset:[a.x/i,a.y/o,s,u],scaleX:a.w/this.width/n.scale,scaleY:a.h/this.height/n.scale};return this._frameData[this.currentFrame].uvOffset=c,c}},{key:"render",value:function(){if(!this.isCulled&&this.visible){o.GL.rotate(this.matrix);var t=this._getUVOffset(),e=this._frameData[this.currentFrame].texture;this.shader.bind(),this.shader.uniform("uDimension","vec2",[this.width*t.scaleX,this.height*t.scaleY]),this.shader.uniform("uUVOffset","vec4",t.uvOffset),this.shader.uniform("texture","uniform1i",0),e.bind(0),o.GL.draw(this.mesh)}}},{key:"_advance",value:function(){++this.currentFrame>=this.totalFrames&&(this.currentFrame=0)}}]),e}();e.default=c},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r(o),u=r(n(9)),c=r(n(8)),l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.mesh=s.default.Geom.sphere(c.default.leadingDotSize/2,24),t.shader=new s.default.GLShader(null,s.default.ShaderLibs.simpleColorFrag);var n=c.default.leadingDotColor.map(function(t){return t/255});return t.shader.bind(),t.shader.uniform("color","vec3",n),t.shader.uniform("opacity","float",1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"render",value:function(){o.GL.rotate(this.matrix),this.shader.bind(),o.GL.draw(this.mesh)}}]),e}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(46)),o=function(){function t(e,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.domElm=e,this.domElm.style.opacity=0,this._x=0,this._y=0,this._rotation=0,this._sx=1,this._sy=1,this.spriteOutline=new i.default(n),this.spriteColor=new i.default(r),this._offset=0}return r(t,[{key:"_getBoundingRect",value:function(t,e){this._rect&&!e||(this._rect=this.domElm.getBoundingClientRect(),this._offset=t),this.x=this._rect.x+this._rect.width/2,this.y=this._rect.y+this._rect.height/2+this._offset,this.width=this._rect.width,this.height=this._rect.height}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._getBoundingRect(t,e)}},{key:"width",set:function(t){this.spriteOutline.width=t,this.spriteColor.width=t}},{key:"height",set:function(t){this.spriteOutline.height=t,this.spriteColor.height=t}},{key:"x",set:function(t){this._x=t,this.spriteOutline.x=this._x,this.spriteColor.x=this._x},get:function(){return this._x}},{key:"y",set:function(t){this._y=t,this.spriteOutline.y=this._y,this.spriteColor.y=this._y},get:function(){return this._y}},{key:"scaleX",set:function(t){this._sx=t,this.spriteOutline.scaleX=this._sx,this.spriteColor.scaleX=this._sx},get:function(){return this._sx}},{key:"scaleY",set:function(t){this._sy=t,this.spriteOutline.scaleY=this._sy,this.spriteColor.scaleY=this._sy},get:function(){return this._sy}},{key:"rotation",set:function(t){this._rotation=t},get:function(){return this._rotation}}]),t}();e.default=o},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(n(101)),a=n(103),s=n(47),u=n(1),c=r(u),l=function(){function t(e,n,r,i,a,l){var f=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._paths={start:r,end:i},this.domElm=e,this.domElm.style.opacity=0,this._x=0,this._y=0,this._rotation=0,this._sx=1,this._sy=1,this._svgWidth=a,this._svgHeight=l,this.spriteColor=new o.default(n,!1),this.spriteOutline=new o.default(n,!0),this._offsetY=0,this.domElm.addEventListener("mouseover",function(){return f.rollover()}),this.domElm.addEventListener("mouseout",function(){return f.rollout()}),this._offset=new c.default.TweenNumber(0,"elasticOut",.02),this._prevValue=0,this._img=new Image,this._img.crossOrigin="",this._img.addEventListener("load",function(){f._canvas=document.createElement("canvas"),f._canvas.width=a,f._canvas.height=l;var t=(0,s.getResizeImage)(f._img,a,l);f.texture=new c.default.GLTexture(t),f._ctx=f._canvas.getContext("2d"),f.textureMask=new c.default.GLTexture(f._canvas),f.spriteColor.setTextures(f.texture,f.textureMask,f._img.width,f._img.height),f.spriteOutline.setTextures(f.texture,f.textureMask,f._img.width,f._img.height),f._updateMask()}),this._img.src=n,this._efIndex=u.Scheduler.addEF(function(){return f._loop()})}return i(t,[{key:"_getBoundingRect",value:function(t,e){this._rect&&!e||(this._rect=this.domElm.getBoundingClientRect(),this._offsetY=t),this.x=this._rect.x+this._rect.width/2,this.y=this._rect.y+this._rect.height/2+this._offsetY}},{key:"rollover",value:function(){this._offset.value=1}},{key:"rollout",value:function(){this._offset.value=0}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._getBoundingRect(t,e)}},{key:"_updateMask",value:function(){if(this._ctx){this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height);for(var t=0;t<this._paths.start.length;t++)(0,a.drawSvg)(this._ctx,this._paths.start[t],this._paths.end[t],this._offset.value);this._prevValue=this._offset.value,this.textureMask.updateTexture(this._canvas)}}},{key:"_loop",value:function(){this._prevValue!==this._offset.value&&this._updateMask()}},{key:"width",set:function(t){this.spriteOutline.width=t,this.spriteColor.width=t}},{key:"height",set:function(t){this.spriteOutline.height=t,this.spriteColor.height=t}},{key:"x",set:function(t){this._x=t,this.spriteOutline.x=this._x,this.spriteColor.x=this._x},get:function(){return this._x}},{key:"y",set:function(t){this._y=t,this.spriteOutline.y=this._y,this.spriteColor.y=this._y},get:function(){return this._y}},{key:"scaleX",set:function(t){this._sx=t,this.spriteOutline.scaleX=this._sx,this.spriteColor.scaleX=this._sx},get:function(){return this._sx}},{key:"scaleY",set:function(t){this._sy=t,this.spriteOutline.scaleY=this._sy,this.spriteColor.scaleY=this._sy},get:function(){return this._sy}},{key:"rotation",set:function(t){this._rotation=t},get:function(){return this._rotation}}]),t}();e.default=l},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r((r(o),n(9))),u=r(n(45)),c=r(n(102)),l=n(44),f=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.shader=(0,l.getShader)(u.default,c.default),r._filtered=n?1:0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"setTextures",value:function(t,e,n,r){this.width=t.width,this.height=t.height,this.texture=t,this.textureMask=e}},{key:"render",value:function(){this.texture&&(o.GL.rotate(this.matrix),this.shader.bind(),this.shader.uniform("uDimension","vec2",[this.width,this.height]),this.shader.uniform("texture","uniform1i",0),this.texture.bind(0),this.shader.uniform("textureMask","uniform1i",1),this.textureMask.bind(1),this.shader.uniform("uOffset","float",this._filtered),o.GL.draw(this.mesh))}}]),e}();e.default=f},function(t,e){t.exports="// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform sampler2D textureMask;\nuniform float uOffset;\n\nfloat luma(vec3 color) {\n  return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\n#define colorStart vec3(0.06666666666, 0.02745098039, 1.0)\n#define colorEnd vec3(0.98431372549, 0.85882352941, 0.90980392156)\n\nvec3 duotone(vec3 color) {\n\tfloat l = luma(color);\n\treturn mix(colorStart, colorEnd, l);\n}\n\nvoid main(void) {\n    vec4 color         = texture2D(texture, vTextureCoord);\n    vec4 colorMask     = texture2D(textureMask, vTextureCoord);\n    color              *= smoothstep(0.75, 1.0, colorMask.a);\n    vec3 colorFiltered = duotone(color.rgb);\n    \n    color.rgb          = mix(color.rgb, colorFiltered, uOffset);\n    gl_FragColor       = color;\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomAnim=e.drawSvg=void 0;var i=r(n(104)),o=r(n(105)),a={},s=function(t){if(a[t])return a[t];var e=(0,o.default)(t);return a[t]=e,e};e.drawSvg=function(t,e,n,r){var i=t.canvas,o=(i.width,i.height,s(e)),a=s(n);!function(t,e){t.fillStyle="rgba(255, 255, 255, 1)",t.beginPath();var n,r,i=[0,0];e.forEach(function(e){"z"===e.marker||"Z"===e.marker?(i=[0,0],t.closePath()):"m"===e.marker?(i=[i[0]+e.values[0],i[1]+e.values[1]],t.moveTo(i[0],i[1])):"l"===e.marker?(i=[i[0]+e.values[0],i[1]+e.values[1]],t.lineTo(i[0],i[1])):"h"===e.marker?(i=[i[0]+e.values[0],i[1]],t.lineTo(i[0],i[1])):"v"===e.marker?(i=[i[0],i[1]+e.values[0]],t.lineTo(i[0],i[1])):"c"===e.marker?(n=[i[0]+e.values[0],i[1]+e.values[1]],r=[i[0]+e.values[2],i[1]+e.values[3]],i=[i[0]+e.values[4],i[1]+e.values[5]],t.bezierCurveTo(n[0],n[1],r[0],r[1],i[0],i[1])):"M"===e.marker?(i=[e.values[0],e.values[1]],t.moveTo(i[0],i[1])):"L"===e.marker?(i=[e.values[0],i[1]],t.lineTo(i[0],i[1])):"H"===e.marker?(i=[e.values[0],i[1]],t.lineTo(i[0],i[1])):"V"===e.marker?(i=[i[0],e.values[0]],t.lineTo(i[0],i[1])):"C"===e.marker&&(n=[e.values[0],e.values[1]],r=[e.values[2],e.values[3]],i=[e.values[4],e.values[5]],t.bezierCurveTo(n[0],n[1],r[0],r[1],i[0],i[1]))}),t.fill()}(t,o.map(function(t,e){var n=a[e],i=t[0],o=t.concat(),s=n.concat();return o.shift(),s.shift(),{marker:i,values:o.map(function(t,e){return function(t,e,n){return t+(e-t)*n}(t,s[e],r)})}}))},e.getRandomAnim=function(){return i.default[Math.floor(Math.random()*i.default.length)]}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default=[{start:["M 189,80.37 C 243,66.12 307.3,87.28 350.9,124.1 389.3,156.6 417,211.2 418.1,263.4 419.1,305.7 401.8,355.6 368.5,379.1 298.8,428 179.2,446.4 117.6,386.3 65.4,335.3 78.55,230.3 105.5,160.5 119.7,123.6 152.6,89.85 189,80.37 Z"],end:["M 189,80.37 C 232.6,46.67 352.5,67.06 350.9,124.1 349.5,173.4 311.7,168 312.4,248.1 312.9,301.1 382.5,319.2 368.5,379.1 349.4,460.6 137.7,467.5 117.6,386.3 98.68,309.7 171.5,292.2 183.6,240.1 195.7,188.2 123.8,130.7 189,80.37 Z"]},{start:["M 233.13 182.14 C 224.97 174.22 220.54 157.39 212.63 148.44 C 197.25 131.05 166.52 137.93 143.93 157.9 C 120.53 178.59 61.77 242.71 105.57 292.24 C 132.11 322.24 207.18 350.57 270.47 271.93 C 278.22 262.29 290.68 242.16 288.14 228.2 C 285.22 212.2 272.09 196.93 258.02 192.2 C 254.21 190.88 242.49 191.21 233.13 182.14 Z","M 226.63 127.28 C 227.8 161.2 278.63 205.65 303.69 184.91 C 316.24 174.53 324.36 123.09 302.92 106.99 C 297.17 102.67 290.62 100.84 284.42 99.81 C 265.84 96.73 241.78 95.74 231.5 110.09 C 227.995 115.11 226.279 121.167 226.63 127.28 Z"],end:["M 202 186 C 193.84 178.09 188.91 165.94 181 157 C 165.62 139.6 146.22 140.49 120.93 156.9 C 73 188 64.21 244.46 108 294 C 134.54 324 184.18 349.57 247.47 270.93 C 255.22 261.29 273.54 238.93 271 225 C 268.09 209 259.5 202.22 245 199 C 236 197 211.36 195.08 202 186 Z","M 198 140 C 204.25 173.35 206 187 258 180 C 268.54 178.58 280.82 171.18 275 145 C 273 136 267 116 254 107 C 241.16 98.11 220.48 97.52 208 110 C 200 118 195 124 198 140 Z"]}]},function(t,e,n){t.exports=function(t){var e=[];return t.replace(i,function(t,n,i){var a=n.toLowerCase();for(i=function(t){var e=t.match(o);return e?e.map(Number):[]}(i),"m"==a&&i.length>2&&(e.push([n].concat(i.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(i.length==r[a])return i.unshift(n),e.push(i);if(i.length<r[a])throw new Error("malformed path data");e.push([n].concat(i.splice(0,r[a])))}}),e};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["molecules0","others0","serpents0","viruses0","viruses1"]},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r(o),u=r((r(n(13)),n(8))),c=r((r(n(108)),n(109))),l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s.default.ShaderLibs.bigTriangleVert,c.default));return t.hit=vec3.create(),t.radius=new s.default.TweenNumber(u.default.circleRadius,"elasticOut",.03),t._x=new s.default.EaseNumber(0,u.default.mouseFollowEasing),t._y=new s.default.EaseNumber(0,u.default.mouseFollowEasing),t._angle=0,window.addEventListener("mousemove",function(e){t.hit[0]=e.clientX,t.hit[1]=e.clientY,t._x.value=e.clientX,t._y.value=e.clientY}),t._dimension=[0,0],t._hit=vec3.create(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.View),i(e,[{key:"_init",value:function(){this.mesh=s.default.Geom.bigTriangle()}},{key:"rollover",value:function(t){t||(t=u.default.rolloverRadius),this.radius.value=t}},{key:"rollout",value:function(){this.radius.value=u.default.circleRadius}},{key:"render",value:function(){this._dimension[0]=o.GL.width,this._dimension[1]=o.GL.height;var t=Math.ceil(Math.max(o.GL.width,o.GL.height)/1024);vec3.set(this._hit,this._x.value,this._y.value,0),this.shader.bind(),this.shader.uniform("uHit","vec3",this._hit),this.shader.uniform("uRadius","float",this.radius.value),this.shader.uniform("uNoiseScale","float",t),this.shader.uniform("uDimension","vec2",this._dimension),this.shader.uniform("uTime","float",s.default.Scheduler.deltaTime),this.shader.uniform("uNoiseRadius","float",u.default.maskNoiseRadius),o.GL.draw(this.mesh)}}]),e}();e.default=l},function(t,e){t.exports="// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 uPosition;\nuniform float uRadius;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 position = aVertexPosition * uRadius;\n\tposition += uPosition;\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(position, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(t,e){t.exports="// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform vec3 uHit;\nuniform vec2 uDimension;\nuniform float uRadius;\nuniform float uNoiseScale;\nuniform float uTime;\nuniform float uNoiseRadius;\n\n\nvec4 permute(vec4 x) {  return mod(((x*34.0)+1.0)*x, 289.0);    }\nvec4 taylorInvSqrt(vec4 r) {    return 1.79284291400159 - 0.85373472095314 * r; }\n\nfloat snoise(vec3 v){\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n    \n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 = v - i + dot(i, C.xxx) ;\n    \n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n    \n    vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n    vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n    vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n    \n    i = mod(i, 289.0 );\n    vec4 p = permute( permute( permute( i.z + vec4(0.0, i1.z, i2.z, 1.0 )) + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n    \n    float n_ = 1.0/7.0;\n    vec3  ns = n_ * D.wyz - D.xzx;\n    \n    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);\n    \n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );\n    \n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n    \n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n    \n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n    \n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n    \n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    \n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    \n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\n}\n\nfloat snoise(float x, float y, float z){\n    return snoise(vec3(x, y, z));\n}\n\n\nvoid main(void) {\n    vec3 color   = vec3(0.0);\n    vec2 uv      = vTextureCoord;\n    \n    uv.y         = 1.0 - uv.y;\n    vec2 pos     = uv * uDimension;\n    vec2 hit     = uHit.xy;\n    float dist   = distance(hit, pos);\n    \n    uv.y         /= uDimension.x/uDimension.y;\n    uv.x         +=\tuTime;\n    uv.x         = mod(uv.x, 1.0);\n    float noise  = snoise(vec3(vTextureCoord * uDimension, uTime)) * .5 + .5;\n    \n    float t      = smoothstep(uRadius, uRadius + uNoiseRadius, dist);\n    t            = step(t, noise);\n    \n    gl_FragColor = vec4(vec3(t), 1.0);\n}"},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r(o),u=n(39),c=r(n(111)),l=r(n(13)),f=r(n(8)),h=(0,u.detect)(),d=[[0,0],[-5,-10],[-15,5],[7,-25],[21,25],[-25,10],[15,5],[0,15],[25,35],[-10,10]],p=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=a(e)&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s.default.ShaderLibs.bigTriangleVert,c.default));return d=d.map(function(t){return t.map(function(t){return t/100})}),t.index=0,setInterval(function(){++t.index===d.length&&(t.index=0)},f.default.noiseMovingInterval),t._isSafari="safari"===h.name?1:0,t._isFirefox="firefox"===h.name?1:0,t.shader.bind(),t.shader.uniform("textureColor","uniform1i",0),t.shader.uniform("textureOutline","uniform1i",1),t.shader.uniform("textureMask","uniform1i",2),t.shader.uniform("textureNoise","uniform1i",3),t._viewport=[o.GL.width,o.GL.height],t._color=[0,0,0],t._rollover=[0,0,0],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+a(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.View),i(e,[{key:"_init",value:function(){this.mesh=s.default.Geom.bigTriangle(),this.textureNoise=l.default.get("noise"),this.textureNoise.wrapS=this.textureNoise.wrapT=o.GL.REPEAT}},{key:"render",value:function(t,e,n,r,i){this.shader.bind(),t.bind(0),e.bind(1),n.bind(2),this.textureNoise.bind(3),this._color=f.default.circleColor.map(function(t){return t/255}),this._rollover=r.map(function(t){return t/255}),this.shader.uniform("uCircleColor","vec3",this._color),this.shader.uniform("uRolloverColor","vec3",this._rollover),this.shader.uniform("uRolloverOffset","float",i),this.shader.uniform("uRatio","float",o.GL.aspectRatio),this.shader.uniform("uSafari","float",this._isSafari),this.shader.uniform("uFirefox","float",this._isFirefox),this.shader.uniform("uViewport","vec2",this._viewport),this.shader.uniform("uOffset","vec2",d[this.index]),o.GL.draw(this.mesh)}}]),e}();e.default=p},function(t,e){t.exports="\n#define SHADER_NAME COMPOSE_FRAG\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D textureColor;\nuniform sampler2D textureOutline;\nuniform sampler2D textureMask;\nuniform sampler2D textureNoise;\n\n// uniform sampler2D texturePink;\nuniform vec3 uCircleColor;\nuniform vec3 uRolloverColor;\nuniform float uRatio;\nuniform float uRolloverOffset;\nuniform vec2 uViewport;\nuniform vec2 uOffset;\nuniform float uSafari;\nuniform float uFirefox;\n\n#define MAP_SIZE 512.0\n// #define pink vec4(1.0, .9, .9, 1.0)\n\nvoid main(void) {\n\tvec4 color   = texture2D(textureColor, vTextureCoord);\n\tvec4 outline = texture2D(textureOutline, vTextureCoord);\n\tfloat mask   = texture2D(textureMask, vTextureCoord).r;\n\tfloat a = outline.a;\n\n\t//\tsafari fix\n\tif(uSafari > 0.5) {\n\t\toutline.rgb *= a;\t\n\t}\n\t\n\tif(uFirefox > 0.5) {\n\t\t// color.rgb *= color.a;\n\t\toutline.rgb *= outline.a;\n\t}\n\n\tvec2 uvScreen = vTextureCoord;\n\tuvScreen.y = 1.0 - uvScreen.y;\n\tuvScreen *= uViewport;\n\tuvScreen /= MAP_SIZE;\n\tuvScreen += uOffset;\n\t\n\t// vec4 noise = texture2D(textureNoise, uvScreen);\n\n\tcolor = mix(outline, color, mask);\n\tif(mask > .5) {\n\t\tvec2 uv            = vTextureCoord;\n\t\tuv.y               /= uRatio;\n\t\tvec3 rolloverColor = mix(uCircleColor, uRolloverColor, uRolloverOffset);\n\t\tcolor              = mix(color, vec4(rolloverColor, 1.0), 1.0 - color.a);\n\t\t// color.rgb \t\t   /= color.a;\n\t\tcolor.a = 1.0;\n\t}\n\n\n\t// color \t\t\t   = mix(color, noise, noise.a);\n\n\tgl_FragColor = color;\n}"},function(t,e,n){function r(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}}])})}).call(this,n(68)(t))},function(t,e,n){var r=n(3),i=n(35).onFreeze;n(84)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){n(34)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(16),a=n(85),s=n(8),u=n(32),c=n(2),l=n(33),f=n(29),h=n(12),d=n(86),p=n(23).f,v=n(5).f,_=n(87),m=n(20),y="prototype",g="Wrong index!",E=r.ArrayBuffer,b=r.DataView,T=r.Math,w=r.RangeError,M=r.Infinity,x=E,A=T.abs,R=T.pow,O=T.floor,S=T.log,P=T.LN2,L=i?"_b":"buffer",I=i?"_l":"byteLength",C=i?"_o":"byteOffset";function k(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?R(2,-24)-R(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===M?(i=t!=t?1:0,r=u):(r=O(S(t)/P),t*(o=R(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*R(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*R(2,e),r+=c):(i=t*R(2,c-1)*R(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function N(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-M:M;r+=R(2,e),l-=a}return(c?-1:1)*r*R(2,l-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function D(t){return[255&t]}function U(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function j(t){return k(t,52,8)}function X(t){return k(t,23,4)}function V(t,e,n){v(t[y],e,{get:function(){return this[n]}})}function G(t,e,n,r){var i=d(+n);if(i+e>t[I])throw w(g);var o=t[L]._b,a=i+t[C],s=o.slice(a,a+e);return r?s:s.reverse()}function H(t,e,n,r,i,o){var a=d(+n);if(a+e>t[I])throw w(g);for(var s=t[L]._b,u=a+t[C],c=r(+i),l=0;l<e;l++)s[u+l]=c[o?l:e-l-1]}if(a.ABV){if(!c(function(){E(1)})||!c(function(){new E(-1)})||c(function(){return new E,new E(1.5),new E(NaN),"ArrayBuffer"!=E.name})){for(var Y,q=(E=function(t){return l(this,E),new x(d(t))})[y]=x[y],W=p(x),z=0;W.length>z;)(Y=W[z++])in E||s(E,Y,x[Y]);o||(q.constructor=E)}var $=new b(new E(2)),Z=b[y].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(b[y],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else E=function(t){l(this,E,"ArrayBuffer");var e=d(t);this._b=_.call(new Array(e),0),this[I]=e},b=function(t,e,n){l(this,b,"DataView"),l(t,E,"DataView");var r=t[I],i=f(e);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw w("Wrong length!");this[L]=t,this[C]=i,this[I]=n},i&&(V(E,"byteLength","_l"),V(b,"buffer","_b"),V(b,"byteLength","_l"),V(b,"byteOffset","_o")),u(b[y],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F(G(this,4,t,arguments[1]))},getUint32:function(t){return F(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,D,e)},setUint8:function(t,e){H(this,1,t,D,e)},setInt16:function(t,e){H(this,2,t,U,e,arguments[2])},setUint16:function(t,e){H(this,2,t,U,e,arguments[2])},setInt32:function(t,e){H(this,4,t,B,e,arguments[2])},setUint32:function(t,e){H(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,X,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,j,e,arguments[2])}});m(E,"ArrayBuffer"),m(b,"DataView"),s(b[y],a.VIEW,!0),e.ArrayBuffer=E,e.DataView=b},function(t,e,n){var r=n(11),i=n(45),o=n(13),a=n(12),s=n(135);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var v,_,m=o(e),y=i(m),g=r(s,p,3),E=a(y.length),b=0,T=n?d(e,E):u?d(e,0):void 0;E>b;b++)if((h||b in y)&&(_=g(v=y[b],b,m),t))if(n)T[b]=_;else if(_)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:T.push(v)}else if(l)return!1;return f?-1:c||l?l:T}}},function(t,e,n){var r=n(136);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(3),i=n(62),o=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(13),i=n(37),o=n(12);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e,n){n(34)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),i=n(54),o=n(5).f,a=n(23).f,s=n(140),u=n(50),c=r.RegExp,l=c,f=c.prototype,h=/a/g,d=/a/g,p=new c(h)!==h;if(n(4)&&(!p||n(2)(function(){return d[n(1)("match")]=!1,c(h)!=h||c(d)==d||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:f,c)};for(var v=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},_=a(l),m=0;_.length>m;)v(_[m++]);f.constructor=c,c.prototype=f,n(10)(r,"RegExp",c)}n(40)("RegExp")},function(t,e,n){var r=n(3),i=n(19),o=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(7),i=n(28),o=n(13),a=n(2),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(142)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){n(34)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";n(71)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){var r=n(7);r(r.S+r.F,"Object",{assign:n(146)})},function(t,e,n){"use strict";var r=n(21),i=n(48),o=n(38),a=n(13),s=n(45),u=Object.assign;t.exports=!u||n(2)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var h,d=s(arguments[c++]),p=l?r(d).concat(l(d)):r(d),v=p.length,_=0;v>_;)f.call(d,h=p[_++])&&(n[h]=d[h]);return n}:u},function(t,e,n){n(34)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(34)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(13),i=n(21);n(84)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(151));function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$elements=document.querySelectorAll(".js-svg-hover"),this._mouseEnter=this.onMouseEnter.bind(this),this._mouseLeave=this.onMouseLeave.bind(this),this.init()}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"init",value:function(){if(this.$elements&&this.$elements.length>0)for(var t=0;t<this.$elements.length;t++){var e=this.$elements[t],n=e.querySelector("path");n.ds=n.getAttribute("ds"),n.de=n.getAttribute("de"),e.path=n,e.reverse=!1,e.addEventListener("mouseenter",this._mouseEnter),e.addEventListener("mouseleave",this._mouseLeave)}}},{key:"onMouseEnter",value:function(t){var e=t.currentTarget;e.reverse=!1,this.animate(e)}},{key:"onMouseLeave",value:function(t){var e=t.currentTarget;e.reverse||(e.reverse=!0,this.animate(e))}},{key:"animate",value:function(t){var e=t.path;r.default.remove(e),(0,r.default)({targets:e,duration:800,d:t.reverse?e.ds:e.de})}},{key:"destroy",value:function(){if(this.$elements&&this.$elements.length>0)for(var t=0;t<this.$elements.length;t++){var e=this.$elements[t];e.removeEventListener("mouseenter",this._mouseEnter),e.removeEventListener("mouseleave",this._mouseLeave)}}},{key:"reload",value:function(){this.$elements=document.querySelectorAll(".js-svg-hover"),this.init()}}]),t}();e.default=o},function(t,e,n){(function(n){var r,i,o,a={scope:{}};a.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},a.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==n&&null!=n?n:t},a.global=a.getGlobal(this),a.SYMBOL_PREFIX="jscomp_symbol_",a.initSymbol=function(){a.initSymbol=function(){},a.global.Symbol||(a.global.Symbol=a.Symbol)},a.symbolCounter_=0,a.Symbol=function(t){return a.SYMBOL_PREFIX+(t||"")+a.symbolCounter_++},a.initSymbolIterator=function(){a.initSymbol();var t=a.global.Symbol.iterator;t||(t=a.global.Symbol.iterator=a.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&a.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return a.arrayIterator(this)}}),a.initSymbolIterator=function(){}},a.arrayIterator=function(t){var e=0;return a.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},a.iteratorPrototype=function(t){return a.initSymbolIterator(),(t={next:t})[a.global.Symbol.iterator]=function(){return this},t},a.array=a.array||{},a.iteratorFromArray=function(t,e){a.initSymbolIterator(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},a.polyfill=function(t,e,n,r){if(e){for(n=a.global,t=t.split("."),r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&a.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},a.polyfill("Array.prototype.keys",function(t){return t||function(){return a.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var s=this;i=[],void 0===(o="function"==typeof(r=function(){function t(t){if(!P.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,r=2<=arguments.length?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}function n(t){return t.reduce(function(t,e){return t.concat(P.arr(e)?n(e):e)},[])}function r(e){return P.arr(e)?e:(P.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function i(t,e){return t.some(function(t){return t===e})}function o(t){var e,n={};for(e in t)n[e]=t[e];return n}function a(t,e){var n,r=o(t);for(n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function u(t,e){var n,r=o(t);for(n in e)r[n]=P.und(t[n])?e[n]:t[n];return r}function c(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function l(t,e){return P.fnc(t)?t(e.target,e.id,e.total):t}function f(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(t,e){return P.dom(t)&&i(S,e)?"transform":P.dom(t)&&(t.getAttribute(e)||P.svg(t)&&t[e])?"attribute":P.dom(t)&&"transform"!==e&&f(t,e)?"css":null!=t[e]?"object":void 0}function d(t,n){switch(h(t,n)){case"transform":return function(t,n){var r=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(n),r=-1<n.indexOf("scale")?1:0+r;if(!(t=t.style.transform))return r;for(var i=[],o=[],a=[],s=/(\w+)\((.+?)\)/g;i=s.exec(t);)o.push(i[1]),a.push(i[2]);return(t=e(a,function(t,e){return o[e]===n})).length?t[0]:r}(t,n);case"css":return f(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0}function p(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=c(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+r;case"-":return e-t+r;case"*":return e*t+r}}function v(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _(t){t=t.points;for(var e,n=0,r=0;r<t.numberOfItems;r++){var i=t.getItem(r);0<r&&(n+=v(e,i)),e=i}return n}function m(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return v({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return _(t);case"polygon":var e=t.points;return _(t)+v(e.getItem(e.numberOfItems-1),e.getItem(0))}}function y(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var r=n(),i=n(-1),o=n(1);switch(t.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function g(t,e){var n,r=/-?\d*\.?\d+/g;if(n=P.pth(t)?t.totalLength:t,P.col(n))if(P.rgb(n)){var i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=i?"rgba("+i[1]+",1)":n}else n=P.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return e+e+n+n+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(e[1],16);var n=parseInt(e[2],16),e=parseInt(e[3],16);return"rgba("+t+","+n+","+e+",1)"}(n):P.hsl(n)?function(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var r=parseInt(n[2])/100,i=parseInt(n[3])/100,n=n[4]||1;if(0==r)i=r=t=i;else{var o=.5>i?i*(1+r):i+r-i*r,a=2*i-o,i=e(a,o,t+1/3),r=e(a,o,t);t=e(a,o,t-1/3)}return"rgba("+255*i+","+255*r+","+255*t+","+n+")"}(n):void 0;else i=(i=c(n))?n.substr(0,n.length-i.length):n,n=e&&!/\s/g.test(n)?i+e:i;return{original:n+="",numbers:n.match(r)?n.match(r).map(Number):[0],strings:P.str(t)||e?n.split(r):[]}}function E(t){return e(t=t?n(P.arr(t)?t.map(r):r(t)):[],function(t,e,n){return n.indexOf(t)===e})}function b(t,e){var n=o(e);if(P.arr(t)){var i=t.length;2!==i||P.obj(t[0])?P.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}return r(t).map(function(t,n){return n=n?0:e.delay,t=P.obj(t)&&!P.pth(t)?t:{value:t},P.und(t.delay)&&(t.delay=n),t}).map(function(t){return u(t,n)})}function T(t,e){var n;return t.tweens.map(function(r){var i=(r=function(t,e){var n,r={};for(n in t){var i=l(t[n],e);P.arr(i)&&1===(i=i.map(function(t){return l(t,e)})).length&&(i=i[0]),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(r,e)).value,o=d(e.target,t.name),a=n?n.to.original:o,a=P.arr(i)?i[0]:a,s=p(P.arr(i)?i[1]:i,a),o=c(s)||c(a)||c(o);return r.from=g(a,o),r.to=g(s,o),r.start=n?n.end:t.offset,r.end=r.start+r.delay+r.duration,r.easing=function(t){return P.arr(t)?L.apply(this,t):I[t]}(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,r.isPath=P.pth(i),r.isColor=P.col(r.from.original),r.isColor&&(r.round=1),n=r})}function w(t,e,n,r){var i="delay"===t;return e.length?(i?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):i?r.delay:n.offset+r.delay+r.duration}function M(t){var r,i=a(R,t),o=a(O,t),s=function(t){var e=E(t);return e.map(function(t,n){return{target:t,id:n,total:e.length}})}(t.targets),c=[],l=u(i,o);for(r in t)l.hasOwnProperty(r)||"targets"===r||c.push({name:r,offset:l.offset,tweens:b(t[r],o)});return t=function(t,r){return e(n(t.map(function(t){return r.map(function(e){var n=h(t.target,e.name);if(n){var r=T(e,t);e={type:n,property:e.name,animatable:t,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else e=void 0;return e})})),function(t){return!P.und(t)})}(s,c),u(i,{children:[],animatables:s,animations:t,duration:w("duration",t,i,o),delay:w("delay",t,i,o)})}function x(t){function n(){return window.Promise&&new Promise(function(t){return h=t})}function r(t){return p.reversed?p.duration-t:t}function i(t){for(var n=0,r={},i=p.animations,o=i.length;n<o;){var a=i[n],s=a.animatable,u=a.tweens,c=u.length-1,l=u[c];c&&(l=e(u,function(e){return t<e.end})[0]||l);for(var u=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,h=isNaN(u)?1:l.easing(u,l.elasticity),u=l.to.strings,d=l.round,c=[],v=void 0,v=l.to.numbers.length,_=0;_<v;_++){var m=void 0,m=l.to.numbers[_],g=l.from.numbers[_],m=l.isPath?y(l.value,h*m):g+h*(m-g);d&&(l.isColor&&2<_||(m=Math.round(m*d)/d)),c.push(m)}if(l=u.length)for(v=u[0],h=0;h<l;h++)d=u[h+1],_=c[h],isNaN(_)||(v=d?v+(_+d):v+(_+" "));else v=c[0];C[a.type](s.target,a.property,v,r,s.id),a.currentValue=v,n++}if(n=Object.keys(r).length)for(i=0;i<n;i++)A||(A=f(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[i].target.style[A]=r[i].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function o(t){p[t]&&p[t](p)}function a(){p.remaining&&!0!==p.remaining&&p.remaining--}function s(t){var e=p.duration,s=p.offset,f=s+p.delay,v=p.currentTime,_=p.reversed,m=r(t);if(p.children.length){var y=p.children,g=y.length;if(m>=p.currentTime)for(var E=0;E<g;E++)y[E].seek(m);else for(;g--;)y[g].seek(m)}(m>=f||!e)&&(p.began||(p.began=!0,o("begin")),o("run")),m>s&&m<e?i(m):(m<=s&&0!==v&&(i(0),_&&a()),(m>=e&&v!==e||!e)&&(i(e),_||a())),o("update"),t>=e&&(p.remaining?(c=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(h(),d=n()))),l=0)}t=void 0===t?{}:t;var u,c,l=0,h=null,d=n(),p=M(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,i(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){u=t,c||(c=u),s((l+u-c)*x.speed)},p.seek=function(t){s(r(t))},p.pause=function(){var t=k.indexOf(p);-1<t&&k.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,c=0,l=r(p.currentTime),k.push(p),N||F())},p.reverse=function(){p.reversed=!p.reversed,c=0,l=r(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=d,p.reset(),p.autoplay&&p.play(),p}var A,R={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},O={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},S="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),P={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return P.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||P.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return P.hex(t)||P.rgb(t)||P.hsl(t)}},L=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,r,i){if(0<=e&&1>=e&&0<=r&&1>=r){var o=new Float32Array(11);if(e!==n||r!==i)for(var a=0;11>a;++a)o[a]=t(.1*a,e,r);return function(a){if(e===n&&r===i)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&o[u]<=a;++u)s+=.1;var u=s+(a-o[--u])/(o[u+1]-o[u])*.1,c=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e;if(.001<=c){for(s=0;4>s&&0!=(c=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e);++s)var l=t(u,e,r)-a,u=u-l/c;a=u}else if(0===c)a=u;else{var u=s,s=s+.1,f=0;do{0<(c=t(l=u+(s-u)/2,e,r)-a)?s=l:u=l}while(1e-7<Math.abs(c)&&10>++f);a=l}return t(a,n,i)}}}}(),I=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},i={linear:L(.25,.25,.75,.75)},o={};for(e in r)o.type=e,r[o.type].forEach(function(t){return function(e,r){i["ease"+t.type+n[r]]=P.fnc(e)?e:L.apply(s,e)}}(o)),o={type:o.type};return i}(),C={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){r[i]||(r[i]=[]),r[i].push(e+"("+n+")")}},k=[],N=0,F=function(){function t(){N=requestAnimationFrame(e)}function e(e){var n=k.length;if(n){for(var r=0;r<n;)k[r]&&k[r].tick(e),r++;t()}else cancelAnimationFrame(N),N=0}return t}();return x.version="2.2.0",x.speed=1,x.running=k,x.remove=function(t){t=E(t);for(var e=k.length;e--;)for(var n=k[e],r=n.animations,o=r.length;o--;)i(t,r[o].animatable.target)&&(r.splice(o,1),r.length||n.pause())},x.getValue=d,x.path=function(e,n){var r=P.str(e)?t(e)[0]:e,i=n||100;return function(t){return{el:r,property:t,totalLength:m(r)*(i/100)}}},x.setDashoffset=function(t){var e=m(t);return t.setAttribute("stroke-dasharray",e),e},x.bezier=L,x.easings=I,x.timeline=function(t){var e=x(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),r(n).forEach(function(n){var r=u(n,a(O,t||{}));r.targets=r.targets||t.targets,n=e.duration;var i=r.offset;r.autoplay=!1,r.direction=e.direction,r.offset=P.und(i)?n:p(i,n),e.began=!0,e.completed=!0,e.seek(r.offset),(r=x(r)).began=!0,r.completed=!0,r.duration>n&&(e.duration=r.duration),e.children.push(r)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},x.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},x})?r.apply(e,i):r)||(t.exports=o)}).call(this,n(56))}]);